var Sb=t=>{throw TypeError(t)};var Ch=(t,e,r)=>e.has(t)||Sb("Cannot "+r);var N=(t,e,r)=>(Ch(t,e,"read from private field"),r?r.call(t):e.get(t)),le=(t,e,r)=>e.has(t)?Sb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ee=(t,e,r,n)=>(Ch(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),xe=(t,e,r)=>(Ch(t,e,"access private method"),r);var jl=(t,e,r,n)=>({set _(i){ee(t,e,i,r)},get _(){return N(t,e,n)}});import{j as p,u as ge,c as fc,t as _N,a as me,b as ag,d as c1,S as SN}from"./ui-BkGCjyt1.js";import{a as ps,r as x,R as P,b as l1,c as u1,N as ON,L as AN,O as EN,g as dl,d as ke,e as Gr,u as PN,f as jN,H as TN,h as CN,i as Ra,j as kN}from"./vendor-Di2j0fwX.js";function $N(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var d1,Ob=ps;d1=Ob.createRoot,Ob.hydrateRoot;const NN=1,RN=1e6;let kh=0;function IN(){return kh=(kh+1)%Number.MAX_SAFE_INTEGER,kh.toString()}const $h=new Map,Ab=t=>{if($h.has(t))return;const e=setTimeout(()=>{$h.delete(t),rc({type:"REMOVE_TOAST",toastId:t})},RN);$h.set(t,e)},MN=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,NN)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Ab(r):t.toasts.forEach(n=>{Ab(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},cu=[];let lu={toasts:[]};function rc(t){lu=MN(lu,t),cu.forEach(e=>{e(lu)})}function DN({...t}){const e=IN(),r=i=>rc({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>rc({type:"DISMISS_TOAST",toastId:e});return rc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function LN(){const[t,e]=x.useState(lu);return x.useEffect(()=>(cu.push(e),()=>{const r=cu.indexOf(e);r>-1&&cu.splice(r,1)}),[t]),{...t,toast:DN,dismiss:r=>rc({type:"DISMISS_TOAST",toastId:r})}}function ae(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function BN(t,e){const r=x.createContext(e),n=a=>{const{children:o,...s}=a,c=x.useMemo(()=>s,Object.values(s));return p.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function i(a){const o=x.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function Ut(t,e=[]){let r=[];function n(a,o){const s=x.createContext(o),c=r.length;r=[...r,o];const l=d=>{var b;const{scope:f,children:h,...g}=d,m=((b=f==null?void 0:f[t])==null?void 0:b[c])||s,v=x.useMemo(()=>g,Object.values(g));return p.jsx(m.Provider,{value:v,children:h})};l.displayName=a+"Provider";function u(d,f){var m;const h=((m=f==null?void 0:f[t])==null?void 0:m[c])||s,g=x.useContext(h);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${a}\``)}return[l,u]}const i=()=>{const a=r.map(o=>x.createContext(o));return function(s){const c=(s==null?void 0:s[t])||a;return x.useMemo(()=>({[`__scope${t}`]:{...s,[t]:c}}),[s,c])}};return i.scopeName=t,[n,FN(i,...e)]}function FN(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:c,scopeName:l})=>{const d=c(a)[`__scope${l}`];return{...s,...d}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function og(t){const e=t+"CollectionProvider",[r,n]=Ut(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:b}=m,w=P.useRef(null),y=P.useRef(new Map).current;return p.jsx(i,{scope:v,itemMap:y,collectionRef:w,children:b})};o.displayName=e;const s=t+"CollectionSlot",c=fc(s),l=P.forwardRef((m,v)=>{const{scope:b,children:w}=m,y=a(s,b),O=ge(v,y.collectionRef);return p.jsx(c,{ref:O,children:w})});l.displayName=s;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=fc(u),h=P.forwardRef((m,v)=>{const{scope:b,children:w,...y}=m,O=P.useRef(null),_=ge(v,O),S=a(u,b);return P.useEffect(()=>(S.itemMap.set(O,{ref:O,...y}),()=>void S.itemMap.delete(O))),p.jsx(f,{[d]:"",ref:_,children:w})});h.displayName=u;function g(m){const v=a(t+"CollectionConsumer",m);return P.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((S,A)=>y.indexOf(S.ref.current)-y.indexOf(A.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},g,n]}var UN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oe=UN.reduce((t,e)=>{const r=fc(`Primitive.${e}`),n=x.forwardRef((i,a)=>{const{asChild:o,...s}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(c,{...s,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function sg(t,e){t&&ps.flushSync(()=>t.dispatchEvent(e))}function Ze(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function f1(t,e=globalThis==null?void 0:globalThis.document){const r=Ze(t);x.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var WN="DismissableLayer",jp="dismissableLayer.update",zN="dismissableLayer.pointerDownOutside",qN="dismissableLayer.focusOutside",Eb,h1=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jd=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...c}=t,l=x.useContext(h1),[u,d]=x.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=x.useState({}),g=ge(e,A=>d(A)),m=Array.from(l.layers),[v]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(v),w=u?m.indexOf(u):-1,y=l.layersWithOutsidePointerEventsDisabled.size>0,O=w>=b,_=KN(A=>{const E=A.target,j=[...l.branches].some(T=>T.contains(E));!O||j||(i==null||i(A),o==null||o(A),A.defaultPrevented||s==null||s())},f),S=VN(A=>{const E=A.target;[...l.branches].some(T=>T.contains(E))||(a==null||a(A),o==null||o(A),A.defaultPrevented||s==null||s())},f);return f1(A=>{w===l.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&s&&(A.preventDefault(),s()))},f),x.useEffect(()=>{if(u)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(Eb=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),Pb(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Eb)}},[u,f,r,l]),x.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),Pb())},[u,l]),x.useEffect(()=>{const A=()=>h({});return document.addEventListener(jp,A),()=>document.removeEventListener(jp,A)},[]),p.jsx(oe.div,{...c,ref:g,style:{pointerEvents:y?O?"auto":"none":void 0,...t.style},onFocusCapture:ae(t.onFocusCapture,S.onFocusCapture),onBlurCapture:ae(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ae(t.onPointerDownCapture,_.onPointerDownCapture)})});Jd.displayName=WN;var HN="DismissableLayerBranch",p1=x.forwardRef((t,e)=>{const r=x.useContext(h1),n=x.useRef(null),i=ge(e,n);return x.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),p.jsx(oe.div,{...t,ref:i})});p1.displayName=HN;function KN(t,e=globalThis==null?void 0:globalThis.document){const r=Ze(t),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let c=function(){m1(zN,r,l,{discrete:!0})};const l={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function VN(t,e=globalThis==null?void 0:globalThis.document){const r=Ze(t),n=x.useRef(!1);return x.useEffect(()=>{const i=a=>{a.target&&!n.current&&m1(qN,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Pb(){const t=new CustomEvent(jp);document.dispatchEvent(t)}function m1(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?sg(i,a):i.dispatchEvent(a)}var GN=Jd,YN=p1,ot=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},XN="Portal",Zd=x.forwardRef((t,e)=>{var s;const{container:r,...n}=t,[i,a]=x.useState(!1);ot(()=>a(!0),[]);const o=r||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?l1.createPortal(p.jsx(oe.div,{...n,ref:e}),o):null});Zd.displayName=XN;function QN(t,e){return x.useReducer((r,n)=>e[r][n]??r,t)}var cn=t=>{const{present:e,children:r}=t,n=JN(e),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),a=ge(n.ref,ZN(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:a}):null};cn.displayName="Presence";function JN(t){const[e,r]=x.useState(),n=x.useRef(null),i=x.useRef(t),a=x.useRef("none"),o=t?"mounted":"unmounted",[s,c]=QN(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const l=Tl(n.current);a.current=s==="mounted"?l:"none"},[s]),ot(()=>{const l=n.current,u=i.current;if(u!==t){const f=a.current,h=Tl(l);t?c("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),ot(()=>{if(e){let l;const u=e.ownerDocument.defaultView??window,d=h=>{const m=Tl(n.current).includes(h.animationName);if(h.target===e&&m&&(c("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",l=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},f=h=>{h.target===e&&(a.current=Tl(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(l),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:x.useCallback(l=>{n.current=l?getComputedStyle(l):null,r(l)},[])}}function Tl(t){return(t==null?void 0:t.animationName)||"none"}function ZN(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var eR=u1[" useInsertionEffect ".trim().toString()]||ot;function Pn({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,a,o]=tR({defaultProp:e,onChange:r}),s=t!==void 0,c=s?t:i;{const u=x.useRef(t!==void 0);x.useEffect(()=>{const d=u.current;d!==s&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=s},[s,n])}const l=x.useCallback(u=>{var d;if(s){const f=rR(u)?u(t):u;f!==t&&((d=o.current)==null||d.call(o,f))}else a(u)},[s,t,a,o]);return[c,l]}function tR({defaultProp:t,onChange:e}){const[r,n]=x.useState(t),i=x.useRef(r),a=x.useRef(e);return eR(()=>{a.current=e},[e]),x.useEffect(()=>{var o;i.current!==r&&((o=a.current)==null||o.call(a,r),i.current=r)},[r,i]),[r,n,a]}function rR(t){return typeof t=="function"}var v1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),nR="VisuallyHidden",ef=x.forwardRef((t,e)=>p.jsx(oe.span,{...t,ref:e,style:{...v1,...t.style}}));ef.displayName=nR;var iR=ef,cg="ToastProvider",[lg,aR,oR]=og("Toast"),[g1,yhe]=Ut("Toast",[oR]),[sR,tf]=g1(cg),y1=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[s,c]=x.useState(null),[l,u]=x.useState(0),d=x.useRef(!1),f=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${cg}\`. Expected non-empty \`string\`.`),p.jsx(lg.Provider,{scope:e,children:p.jsx(sR,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:l,viewport:s,onViewportChange:c,onToastAdd:x.useCallback(()=>u(h=>h+1),[]),onToastRemove:x.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:o})})};y1.displayName=cg;var b1="ToastViewport",cR=["F8"],Tp="toast.viewportPause",Cp="toast.viewportResume",w1=x.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=cR,label:i="Notifications ({hotkey})",...a}=t,o=tf(b1,r),s=aR(r),c=x.useRef(null),l=x.useRef(null),u=x.useRef(null),d=x.useRef(null),f=ge(e,d,o.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;x.useEffect(()=>{const v=b=>{var y;n.length!==0&&n.every(O=>b[O]||b.code===O)&&((y=d.current)==null||y.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),x.useEffect(()=>{const v=c.current,b=d.current;if(g&&v&&b){const w=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(Tp);b.dispatchEvent(S),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(Cp);b.dispatchEvent(S),o.isClosePausedRef.current=!1}},O=S=>{!v.contains(S.relatedTarget)&&y()},_=()=>{v.contains(document.activeElement)||y()};return v.addEventListener("focusin",w),v.addEventListener("focusout",O),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",_),window.addEventListener("blur",w),window.addEventListener("focus",y),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",O),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",_),window.removeEventListener("blur",w),window.removeEventListener("focus",y)}}},[g,o.isClosePausedRef]);const m=x.useCallback(({tabbingDirection:v})=>{const w=s().map(y=>{const O=y.ref.current,_=[O,...xR(O)];return v==="forwards"?_:_.reverse()});return(v==="forwards"?w.reverse():w).flat()},[s]);return x.useEffect(()=>{const v=d.current;if(v){const b=w=>{var _,S,A;const y=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!y){const E=document.activeElement,j=w.shiftKey;if(w.target===v&&j){(_=l.current)==null||_.focus();return}const k=m({tabbingDirection:j?"backwards":"forwards"}),L=k.findIndex(R=>R===E);Nh(k.slice(L+1))?w.preventDefault():j?(S=l.current)==null||S.focus():(A=u.current)==null||A.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[s,m]),p.jsxs(YN,{ref:c,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&p.jsx(kp,{ref:l,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});Nh(v)}}),p.jsx(lg.Slot,{scope:r,children:p.jsx(oe.ol,{tabIndex:-1,...a,ref:f})}),g&&p.jsx(kp,{ref:u,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});Nh(v)}})]})});w1.displayName=b1;var x1="ToastFocusProxy",kp=x.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,a=tf(x1,r);return p.jsx(ef,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var l;const s=o.relatedTarget;!((l=a.viewport)!=null&&l.contains(s))&&n()}})});kp.displayName=x1;var fl="Toast",lR="toast.swipeStart",uR="toast.swipeMove",dR="toast.swipeCancel",fR="toast.swipeEnd",_1=x.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=t,[s,c]=Pn({prop:n,defaultProp:i??!0,onChange:a,caller:fl});return p.jsx(cn,{present:r||s,children:p.jsx(mR,{open:s,...o,ref:e,onClose:()=>c(!1),onPause:Ze(t.onPause),onResume:Ze(t.onResume),onSwipeStart:ae(t.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ae(t.onSwipeMove,l=>{const{x:u,y:d}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:ae(t.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ae(t.onSwipeEnd,l=>{const{x:u,y:d}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});_1.displayName=fl;var[hR,pR]=g1(fl,{onClose(){}}),mR=x.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:s,onPause:c,onResume:l,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:h,...g}=t,m=tf(fl,r),[v,b]=x.useState(null),w=ge(e,R=>b(R)),y=x.useRef(null),O=x.useRef(null),_=i||m.duration,S=x.useRef(0),A=x.useRef(_),E=x.useRef(0),{onToastAdd:j,onToastRemove:T}=m,C=Ze(()=>{var B;(v==null?void 0:v.contains(document.activeElement))&&((B=m.viewport)==null||B.focus()),o()}),k=x.useCallback(R=>{!R||R===1/0||(window.clearTimeout(E.current),S.current=new Date().getTime(),E.current=window.setTimeout(C,R))},[C]);x.useEffect(()=>{const R=m.viewport;if(R){const B=()=>{k(A.current),l==null||l()},$=()=>{const M=new Date().getTime()-S.current;A.current=A.current-M,window.clearTimeout(E.current),c==null||c()};return R.addEventListener(Tp,$),R.addEventListener(Cp,B),()=>{R.removeEventListener(Tp,$),R.removeEventListener(Cp,B)}}},[m.viewport,_,c,l,k]),x.useEffect(()=>{a&&!m.isClosePausedRef.current&&k(_)},[a,_,m.isClosePausedRef,k]),x.useEffect(()=>(j(),()=>T()),[j,T]);const L=x.useMemo(()=>v?T1(v):null,[v]);return m.viewport?p.jsxs(p.Fragment,{children:[L&&p.jsx(vR,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),p.jsx(hR,{scope:r,onClose:C,children:ps.createPortal(p.jsx(lg.ItemSlot,{scope:r,children:p.jsx(GN,{asChild:!0,onEscapeKeyDown:ae(s,()=>{m.isFocusedToastEscapeKeyDownRef.current||C(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(oe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ae(t.onKeyDown,R=>{R.key==="Escape"&&(s==null||s(R.nativeEvent),R.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:ae(t.onPointerDown,R=>{R.button===0&&(y.current={x:R.clientX,y:R.clientY})}),onPointerMove:ae(t.onPointerMove,R=>{if(!y.current)return;const B=R.clientX-y.current.x,$=R.clientY-y.current.y,M=!!O.current,F=["left","right"].includes(m.swipeDirection),D=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,z=F?D(0,B):0,Y=F?0:D(0,$),q=R.pointerType==="touch"?10:2,I={x:z,y:Y},H={originalEvent:R,delta:I};M?(O.current=I,Cl(uR,d,H,{discrete:!1})):jb(I,m.swipeDirection,q)?(O.current=I,Cl(lR,u,H,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(B)>q||Math.abs($)>q)&&(y.current=null)}),onPointerUp:ae(t.onPointerUp,R=>{const B=O.current,$=R.target;if($.hasPointerCapture(R.pointerId)&&$.releasePointerCapture(R.pointerId),O.current=null,y.current=null,B){const M=R.currentTarget,F={originalEvent:R,delta:B};jb(B,m.swipeDirection,m.swipeThreshold)?Cl(fR,h,F,{discrete:!0}):Cl(dR,f,F,{discrete:!0}),M.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),vR=t=>{const{__scopeToast:e,children:r,...n}=t,i=tf(fl,e),[a,o]=x.useState(!1),[s,c]=x.useState(!1);return bR(()=>o(!0)),x.useEffect(()=>{const l=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(l)},[]),s?null:p.jsx(Zd,{asChild:!0,children:p.jsx(ef,{...n,children:a&&p.jsxs(p.Fragment,{children:[i.label," ",r]})})})},gR="ToastTitle",S1=x.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return p.jsx(oe.div,{...n,ref:e})});S1.displayName=gR;var yR="ToastDescription",O1=x.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return p.jsx(oe.div,{...n,ref:e})});O1.displayName=yR;var A1="ToastAction",E1=x.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?p.jsx(j1,{altText:r,asChild:!0,children:p.jsx(ug,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${A1}\`. Expected non-empty \`string\`.`),null)});E1.displayName=A1;var P1="ToastClose",ug=x.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=pR(P1,r);return p.jsx(j1,{asChild:!0,children:p.jsx(oe.button,{type:"button",...n,ref:e,onClick:ae(t.onClick,i.onClose)})})});ug.displayName=P1;var j1=x.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return p.jsx(oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function T1(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),wR(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...T1(n))}}),e}function Cl(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?sg(i,a):i.dispatchEvent(a)}var jb=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),a=n>i;return e==="left"||e==="right"?a&&n>r:!a&&i>r};function bR(t=()=>{}){const e=Ze(t);ot(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function wR(t){return t.nodeType===t.ELEMENT_NODE}function xR(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Nh(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var _R=y1,C1=w1,k1=_1,$1=S1,N1=O1,R1=E1,I1=ug;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),M1=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},c)=>x.createElement("svg",{ref:c,...OR,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:M1("lucide",i),...s},[...o.map(([l,u])=>x.createElement(l,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(t,e)=>{const r=x.forwardRef(({className:n,...i},a)=>x.createElement(AR,{ref:a,iconNode:e,className:M1(`lucide-${SR(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=_e("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=_e("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=_e("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=_e("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=_e("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=_e("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=_e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=_e("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=_e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=_e("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=_e("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=_e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=_e("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=_e("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=_e("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=_e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=_e("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=_e("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=_e("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=_e("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=_e("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=_e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=_e("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=_e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=_e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function Q(...t){return _N(me(t))}const XR=_R,z1=x.forwardRef(({className:t,...e},r)=>p.jsx(C1,{ref:r,className:Q("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));z1.displayName=C1.displayName;const QR=ag("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),q1=x.forwardRef(({className:t,variant:e,...r},n)=>p.jsx(k1,{ref:n,className:Q(QR({variant:e}),t),...r}));q1.displayName=k1.displayName;const JR=x.forwardRef(({className:t,...e},r)=>p.jsx(R1,{ref:r,className:Q("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));JR.displayName=R1.displayName;const H1=x.forwardRef(({className:t,...e},r)=>p.jsx(I1,{ref:r,className:Q("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(fg,{className:"h-4 w-4"})}));H1.displayName=I1.displayName;const K1=x.forwardRef(({className:t,...e},r)=>p.jsx($1,{ref:r,className:Q("text-sm font-semibold",t),...e}));K1.displayName=$1.displayName;const V1=x.forwardRef(({className:t,...e},r)=>p.jsx(N1,{ref:r,className:Q("text-sm opacity-90",t),...e}));V1.displayName=N1.displayName;function ZR(){const{toasts:t}=LN();return p.jsxs(XR,{children:[t.map(function({id:e,title:r,description:n,action:i,...a}){return p.jsxs(q1,{...a,children:[p.jsxs("div",{className:"grid gap-1",children:[r&&p.jsx(K1,{children:r}),n&&p.jsx(V1,{children:n})]}),i,p.jsx(H1,{})]},e)}),p.jsx(z1,{})]})}var kb=["light","dark"],eI="(prefers-color-scheme: dark)",tI=x.createContext(void 0),rI={setTheme:t=>{},themes:[]},nI=()=>{var t;return(t=x.useContext(tI))!=null?t:rI};x.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:o,attrs:s,nonce:c})=>{let l=a==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${s.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=i?kb.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,m=!1,v=!0)=>{let b=o?o[g]:g,w=m?g+"|| ''":`'${b}'`,y="";return i&&v&&!m&&kb.includes(g)&&(y+=`d.style.colorScheme = '${g}';`),r==="class"?m||b?y+=`c.add(${w})`:y+="null":b&&(y+=`d[s](n,${w})`),y},h=t?`!function(){${u}${f(t)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${l})){var t='${eI}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${l?"":"else{"+f(a,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(a,!1,!1)};}${d}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:h}})});var iI=t=>{switch(t){case"success":return sI;case"info":return lI;case"warning":return cI;case"error":return uI;default:return null}},aI=Array(12).fill(0),oI=({visible:t,className:e})=>P.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},P.createElement("div",{className:"sonner-spinner"},aI.map((r,n)=>P.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),sI=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),cI=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),lI=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),uI=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),dI=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},P.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),P.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),fI=()=>{let[t,e]=P.useState(document.hidden);return P.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Rp=1,hI=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Rp++,a=this.toasts.find(s=>s.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...t,id:i,title:r}),{...s,...t,id:i,dismissible:o,title:r}):s):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0,a,o=n.then(async c=>{if(a=["resolve",c],P.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(mI(c)&&!c.ok){i=!1;let l=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:r,type:"error",message:l,description:u})}else if(e.success!==void 0){i=!1;let l=typeof e.success=="function"?await e.success(c):e.success,u=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"success",message:l,description:u})}}).catch(async c=>{if(a=["reject",c],e.error!==void 0){i=!1;let l=typeof e.error=="function"?await e.error(c):e.error,u=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"error",message:l,description:u})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=e.finally)==null||c.call(e)}),s=()=>new Promise((c,l)=>o.then(()=>a[0]==="reject"?l(a[1]):c(a[1])).catch(l));return typeof r!="string"&&typeof r!="number"?{unwrap:s}:Object.assign(r,{unwrap:s})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||Rp++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Lt=new hI,pI=(t,e)=>{let r=(e==null?void 0:e.id)||Rp++;return Lt.addToast({title:t,...e,id:r}),r},mI=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",vI=pI,gI=()=>Lt.toasts,yI=()=>Lt.getActiveToasts(),Ye=Object.assign(vI,{success:Lt.success,info:Lt.info,warning:Lt.warning,error:Lt.error,custom:Lt.custom,message:Lt.message,promise:Lt.promise,dismiss:Lt.dismiss,loading:Lt.loading},{getHistory:gI,getToasts:yI});function bI(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}bI(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function kl(t){return t.label!==void 0}var wI=3,xI="32px",_I="16px",$b=4e3,SI=356,OI=14,AI=20,EI=200;function Sr(...t){return t.filter(Boolean).join(" ")}function PI(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var jI=t=>{var e,r,n,i,a,o,s,c,l,u,d;let{invert:f,toast:h,unstyled:g,interacting:m,setHeights:v,visibleToasts:b,heights:w,index:y,toasts:O,expanded:_,removeToast:S,defaultRichColors:A,closeButton:E,style:j,cancelButtonStyle:T,actionButtonStyle:C,className:k="",descriptionClassName:L="",duration:R,position:B,gap:$,loadingIcon:M,expandByDefault:F,classNames:D,icons:z,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:q}=t,[I,H]=P.useState(null),[G,fe]=P.useState(null),[X,he]=P.useState(!1),[K,Z]=P.useState(!1),[J,U]=P.useState(!1),[be,pe]=P.useState(!1),[je,Ae]=P.useState(!1),[Ee,et]=P.useState(0),[Je,Ur]=P.useState(0),zt=P.useRef(h.duration||R||$b),Wr=P.useRef(null),br=P.useRef(null),Al=y===0,El=y+1<=b,tr=h.type,ka=h.dismissible!==!1,mN=h.className||"",vN=h.descriptionClassName||"",Pl=P.useMemo(()=>w.findIndex(ye=>ye.toastId===h.id)||0,[w,h.id]),gN=P.useMemo(()=>{var ye;return(ye=h.closeButton)!=null?ye:E},[h.closeButton,E]),bb=P.useMemo(()=>h.duration||R||$b,[h.duration,R]),jh=P.useRef(0),$a=P.useRef(0),wb=P.useRef(0),Na=P.useRef(null),[yN,bN]=B.split("-"),xb=P.useMemo(()=>w.reduce((ye,Re,He)=>He>=Pl?ye:ye+Re.height,0),[w,Pl]),_b=fI(),wN=h.invert||f,Th=tr==="loading";$a.current=P.useMemo(()=>Pl*$+xb,[Pl,xb]),P.useEffect(()=>{zt.current=bb},[bb]),P.useEffect(()=>{he(!0)},[]),P.useEffect(()=>{let ye=br.current;if(ye){let Re=ye.getBoundingClientRect().height;return Ur(Re),v(He=>[{toastId:h.id,height:Re,position:h.position},...He]),()=>v(He=>He.filter(wr=>wr.toastId!==h.id))}},[v,h.id]),P.useLayoutEffect(()=>{if(!X)return;let ye=br.current,Re=ye.style.height;ye.style.height="auto";let He=ye.getBoundingClientRect().height;ye.style.height=Re,Ur(He),v(wr=>wr.find(xr=>xr.toastId===h.id)?wr.map(xr=>xr.toastId===h.id?{...xr,height:He}:xr):[{toastId:h.id,height:He,position:h.position},...wr])},[X,h.title,h.description,v,h.id]);let Un=P.useCallback(()=>{Z(!0),et($a.current),v(ye=>ye.filter(Re=>Re.toastId!==h.id)),setTimeout(()=>{S(h)},EI)},[h,S,v,$a]);P.useEffect(()=>{if(h.promise&&tr==="loading"||h.duration===1/0||h.type==="loading")return;let ye;return _||m||q&&_b?(()=>{if(wb.current<jh.current){let Re=new Date().getTime()-jh.current;zt.current=zt.current-Re}wb.current=new Date().getTime()})():zt.current!==1/0&&(jh.current=new Date().getTime(),ye=setTimeout(()=>{var Re;(Re=h.onAutoClose)==null||Re.call(h,h),Un()},zt.current)),()=>clearTimeout(ye)},[_,m,h,tr,q,_b,Un]),P.useEffect(()=>{h.delete&&Un()},[Un,h.delete]);function xN(){var ye,Re,He;return z!=null&&z.loading?P.createElement("div",{className:Sr(D==null?void 0:D.loader,(ye=h==null?void 0:h.classNames)==null?void 0:ye.loader,"sonner-loader"),"data-visible":tr==="loading"},z.loading):M?P.createElement("div",{className:Sr(D==null?void 0:D.loader,(Re=h==null?void 0:h.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":tr==="loading"},M):P.createElement(oI,{className:Sr(D==null?void 0:D.loader,(He=h==null?void 0:h.classNames)==null?void 0:He.loader),visible:tr==="loading"})}return P.createElement("li",{tabIndex:0,ref:br,className:Sr(k,mN,D==null?void 0:D.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,D==null?void 0:D.default,D==null?void 0:D[tr],(r=h==null?void 0:h.classNames)==null?void 0:r[tr]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:A,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":X,"data-promise":!!h.promise,"data-swiped":je,"data-removed":K,"data-visible":El,"data-y-position":yN,"data-x-position":bN,"data-index":y,"data-front":Al,"data-swiping":J,"data-dismissible":ka,"data-type":tr,"data-invert":wN,"data-swipe-out":be,"data-swipe-direction":G,"data-expanded":!!(_||F&&X),style:{"--index":y,"--toasts-before":y,"--z-index":O.length-y,"--offset":`${K?Ee:$a.current}px`,"--initial-height":F?"auto":`${Je}px`,...j,...h.style},onDragEnd:()=>{U(!1),H(null),Na.current=null},onPointerDown:ye=>{Th||!ka||(Wr.current=new Date,et($a.current),ye.target.setPointerCapture(ye.pointerId),ye.target.tagName!=="BUTTON"&&(U(!0),Na.current={x:ye.clientX,y:ye.clientY}))},onPointerUp:()=>{var ye,Re,He,wr;if(be||!ka)return;Na.current=null;let xr=Number(((ye=br.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Wn=Number(((Re=br.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),$i=new Date().getTime()-((He=Wr.current)==null?void 0:He.getTime()),_r=I==="x"?xr:Wn,zn=Math.abs(_r)/$i;if(Math.abs(_r)>=AI||zn>.11){et($a.current),(wr=h.onDismiss)==null||wr.call(h,h),fe(I==="x"?xr>0?"right":"left":Wn>0?"down":"up"),Un(),pe(!0),Ae(!1);return}U(!1),H(null)},onPointerMove:ye=>{var Re,He,wr,xr;if(!Na.current||!ka||((Re=window.getSelection())==null?void 0:Re.toString().length)>0)return;let Wn=ye.clientY-Na.current.y,$i=ye.clientX-Na.current.x,_r=(He=t.swipeDirections)!=null?He:PI(B);!I&&(Math.abs($i)>1||Math.abs(Wn)>1)&&H(Math.abs($i)>Math.abs(Wn)?"x":"y");let zn={x:0,y:0};I==="y"?(_r.includes("top")||_r.includes("bottom"))&&(_r.includes("top")&&Wn<0||_r.includes("bottom")&&Wn>0)&&(zn.y=Wn):I==="x"&&(_r.includes("left")||_r.includes("right"))&&(_r.includes("left")&&$i<0||_r.includes("right")&&$i>0)&&(zn.x=$i),(Math.abs(zn.x)>0||Math.abs(zn.y)>0)&&Ae(!0),(wr=br.current)==null||wr.style.setProperty("--swipe-amount-x",`${zn.x}px`),(xr=br.current)==null||xr.style.setProperty("--swipe-amount-y",`${zn.y}px`)}},gN&&!h.jsx?P.createElement("button",{"aria-label":Y,"data-disabled":Th,"data-close-button":!0,onClick:Th||!ka?()=>{}:()=>{var ye;Un(),(ye=h.onDismiss)==null||ye.call(h,h)},className:Sr(D==null?void 0:D.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},(a=z==null?void 0:z.close)!=null?a:dI):null,h.jsx||x.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:P.createElement(P.Fragment,null,tr||h.icon||h.promise?P.createElement("div",{"data-icon":"",className:Sr(D==null?void 0:D.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||xN():null,h.type!=="loading"?h.icon||(z==null?void 0:z[tr])||iI(tr):null):null,P.createElement("div",{"data-content":"",className:Sr(D==null?void 0:D.content,(s=h==null?void 0:h.classNames)==null?void 0:s.content)},P.createElement("div",{"data-title":"",className:Sr(D==null?void 0:D.title,(c=h==null?void 0:h.classNames)==null?void 0:c.title)},typeof h.title=="function"?h.title():h.title),h.description?P.createElement("div",{"data-description":"",className:Sr(L,vN,D==null?void 0:D.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},typeof h.description=="function"?h.description():h.description):null),x.isValidElement(h.cancel)?h.cancel:h.cancel&&kl(h.cancel)?P.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||T,onClick:ye=>{var Re,He;kl(h.cancel)&&ka&&((He=(Re=h.cancel).onClick)==null||He.call(Re,ye),Un())},className:Sr(D==null?void 0:D.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,x.isValidElement(h.action)?h.action:h.action&&kl(h.action)?P.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||C,onClick:ye=>{var Re,He;kl(h.action)&&((He=(Re=h.action).onClick)==null||He.call(Re,ye),!ye.defaultPrevented&&Un())},className:Sr(D==null?void 0:D.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function Nb(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function TI(t,e){let r={};return[t,e].forEach((n,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",s=a?_I:xI;function c(l){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof l=="number"?`${l}px`:l})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(l=>{n[l]===void 0?r[`${o}-${l}`]=s:r[`${o}-${l}`]=typeof n[l]=="number"?`${n[l]}px`:n[l]}):c(s)}),r}var CI=x.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:s,offset:c,mobileOffset:l,theme:u="light",richColors:d,duration:f,style:h,visibleToasts:g=wI,toastOptions:m,dir:v=Nb(),gap:b=OI,loadingIcon:w,icons:y,containerAriaLabel:O="Notifications",pauseWhenPageIsHidden:_}=t,[S,A]=P.useState([]),E=P.useMemo(()=>Array.from(new Set([n].concat(S.filter(q=>q.position).map(q=>q.position)))),[S,n]),[j,T]=P.useState([]),[C,k]=P.useState(!1),[L,R]=P.useState(!1),[B,$]=P.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=P.useRef(null),F=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=P.useRef(null),z=P.useRef(!1),Y=P.useCallback(q=>{A(I=>{var H;return(H=I.find(G=>G.id===q.id))!=null&&H.delete||Lt.dismiss(q.id),I.filter(({id:G})=>G!==q.id)})},[]);return P.useEffect(()=>Lt.subscribe(q=>{if(q.dismiss){A(I=>I.map(H=>H.id===q.id?{...H,delete:!0}:H));return}setTimeout(()=>{l1.flushSync(()=>{A(I=>{let H=I.findIndex(G=>G.id===q.id);return H!==-1?[...I.slice(0,H),{...I[H],...q},...I.slice(H+1)]:[q,...I]})})})}),[]),P.useEffect(()=>{if(u!=="system"){$(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:I})=>{$(I?"dark":"light")})}catch{q.addListener(({matches:H})=>{try{$(H?"dark":"light")}catch(G){console.error(G)}})}},[u]),P.useEffect(()=>{S.length<=1&&k(!1)},[S]),P.useEffect(()=>{let q=I=>{var H,G;i.every(fe=>I[fe]||I.code===fe)&&(k(!0),(H=M.current)==null||H.focus()),I.code==="Escape"&&(document.activeElement===M.current||(G=M.current)!=null&&G.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[i]),P.useEffect(()=>{if(M.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,z.current=!1)}},[M.current]),P.createElement("section",{ref:e,"aria-label":`${O} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((q,I)=>{var H;let[G,fe]=q.split("-");return S.length?P.createElement("ol",{key:q,dir:v==="auto"?Nb():v,tabIndex:-1,ref:M,className:s,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":G,"data-lifted":C&&S.length>1&&!a,"data-x-position":fe,style:{"--front-toast-height":`${((H=j[0])==null?void 0:H.height)||0}px`,"--width":`${SI}px`,"--gap":`${b}px`,...h,...TI(c,l)},onBlur:X=>{z.current&&!X.currentTarget.contains(X.relatedTarget)&&(z.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||z.current||(z.current=!0,D.current=X.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{L||k(!1)},onDragEnd:()=>k(!1),onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},S.filter(X=>!X.position&&I===0||X.position===q).map((X,he)=>{var K,Z;return P.createElement(jI,{key:X.id,icons:y,index:he,toast:X,defaultRichColors:d,duration:(K=m==null?void 0:m.duration)!=null?K:f,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:g,closeButton:(Z=m==null?void 0:m.closeButton)!=null?Z:o,interacting:L,position:q,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:Y,toasts:S.filter(J=>J.position==X.position),heights:j.filter(J=>J.position==X.position),setHeights:T,expandByDefault:a,gap:b,loadingIcon:w,expanded:C,pauseWhenPageIsHidden:_,swipeDirections:t.swipeDirections})})):null}))});const kI=({...t})=>{const{theme:e="system"}=nI();return p.jsx(CI,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var $I=u1[" useId ".trim().toString()]||(()=>{}),NI=0;function fi(t){const[e,r]=x.useState($I());return ot(()=>{r(n=>n??String(NI++))},[t]),e?`radix-${e}`:""}const RI=["top","right","bottom","left"],bi=Math.min,Gt=Math.max,_u=Math.round,$l=Math.floor,tn=t=>({x:t,y:t}),II={left:"right",right:"left",bottom:"top",top:"bottom"},MI={start:"end",end:"start"};function Ip(t,e,r){return Gt(t,bi(e,r))}function jn(t,e){return typeof t=="function"?t(e):t}function Tn(t){return t.split("-")[0]}function ms(t){return t.split("-")[1]}function hg(t){return t==="x"?"y":"x"}function pg(t){return t==="y"?"height":"width"}const DI=new Set(["top","bottom"]);function Jr(t){return DI.has(Tn(t))?"y":"x"}function mg(t){return hg(Jr(t))}function LI(t,e,r){r===void 0&&(r=!1);const n=ms(t),i=mg(t),a=pg(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Su(o)),[o,Su(o)]}function BI(t){const e=Su(t);return[Mp(t),e,Mp(e)]}function Mp(t){return t.replace(/start|end/g,e=>MI[e])}const Rb=["left","right"],Ib=["right","left"],FI=["top","bottom"],UI=["bottom","top"];function WI(t,e,r){switch(t){case"top":case"bottom":return r?e?Ib:Rb:e?Rb:Ib;case"left":case"right":return e?FI:UI;default:return[]}}function zI(t,e,r,n){const i=ms(t);let a=WI(Tn(t),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(Mp)))),a}function Su(t){return t.replace(/left|right|bottom|top/g,e=>II[e])}function qI(t){return{top:0,right:0,bottom:0,left:0,...t}}function G1(t){return typeof t!="number"?qI(t):{top:t,right:t,bottom:t,left:t}}function Ou(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function Mb(t,e,r){let{reference:n,floating:i}=t;const a=Jr(e),o=mg(e),s=pg(o),c=Tn(e),l=a==="y",u=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,f=n[s]/2-i[s]/2;let h;switch(c){case"top":h={x:u,y:n.y-i.height};break;case"bottom":h={x:u,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:d};break;case"left":h={x:n.x-i.width,y:d};break;default:h={x:n.x,y:n.y}}switch(ms(e)){case"start":h[o]-=f*(r&&l?-1:1);break;case"end":h[o]+=f*(r&&l?-1:1);break}return h}const HI=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let l=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=Mb(l,n,c),f=n,h={},g=0;for(let m=0;m<s.length;m++){const{name:v,fn:b}=s[m],{x:w,y,data:O,reset:_}=await b({x:u,y:d,initialPlacement:n,placement:f,strategy:i,middlewareData:h,rects:l,platform:o,elements:{reference:t,floating:e}});u=w??u,d=y??d,h={...h,[v]:{...h[v],...O}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(l=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):_.rects),{x:u,y:d}=Mb(l,f,c)),m=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:h}};async function hc(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:o,elements:s,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=jn(e,t),g=G1(h),v=s[f?d==="floating"?"reference":"floating":d],b=Ou(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:l,rootBoundary:u,strategy:c})),w=d==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),O=await(a.isElement==null?void 0:a.isElement(y))?await(a.getScale==null?void 0:a.getScale(y))||{x:1,y:1}:{x:1,y:1},_=Ou(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:w,offsetParent:y,strategy:c}):w);return{top:(b.top-_.top+g.top)/O.y,bottom:(_.bottom-b.bottom+g.bottom)/O.y,left:(b.left-_.left+g.left)/O.x,right:(_.right-b.right+g.right)/O.x}}const KI=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:o,elements:s,middlewareData:c}=e,{element:l,padding:u=0}=jn(t,e)||{};if(l==null)return{};const d=G1(u),f={x:r,y:n},h=mg(i),g=pg(h),m=await o.getDimensions(l),v=h==="y",b=v?"top":"left",w=v?"bottom":"right",y=v?"clientHeight":"clientWidth",O=a.reference[g]+a.reference[h]-f[h]-a.floating[g],_=f[h]-a.reference[h],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let A=S?S[y]:0;(!A||!await(o.isElement==null?void 0:o.isElement(S)))&&(A=s.floating[y]||a.floating[g]);const E=O/2-_/2,j=A/2-m[g]/2-1,T=bi(d[b],j),C=bi(d[w],j),k=T,L=A-m[g]-C,R=A/2-m[g]/2+E,B=Ip(k,R,L),$=!c.arrow&&ms(i)!=null&&R!==B&&a.reference[g]/2-(R<k?T:C)-m[g]/2<0,M=$?R<k?R-k:R-L:0;return{[h]:f[h]+M,data:{[h]:B,centerOffset:R-B-M,...$&&{alignmentOffset:M}},reset:$}}}),VI=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=jn(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const b=Tn(i),w=Jr(s),y=Tn(s)===s,O=await(c.isRTL==null?void 0:c.isRTL(l.floating)),_=f||(y||!m?[Su(s)]:BI(s)),S=g!=="none";!f&&S&&_.push(...zI(s,m,g,O));const A=[s,..._],E=await hc(e,v),j=[];let T=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&j.push(E[b]),d){const R=LI(i,o,O);j.push(E[R[0]],E[R[1]])}if(T=[...T,{placement:i,overflows:j}],!j.every(R=>R<=0)){var C,k;const R=(((C=a.flip)==null?void 0:C.index)||0)+1,B=A[R];if(B&&(!(d==="alignment"?w!==Jr(B):!1)||T.every(F=>F.overflows[0]>0&&Jr(F.placement)===w)))return{data:{index:R,overflows:T},reset:{placement:B}};let $=(k=T.filter(M=>M.overflows[0]<=0).sort((M,F)=>M.overflows[1]-F.overflows[1])[0])==null?void 0:k.placement;if(!$)switch(h){case"bestFit":{var L;const M=(L=T.filter(F=>{if(S){const D=Jr(F.placement);return D===w||D==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(D=>D>0).reduce((D,z)=>D+z,0)]).sort((F,D)=>F[1]-D[1])[0])==null?void 0:L[0];M&&($=M);break}case"initialPlacement":$=s;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function Db(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Lb(t){return RI.some(e=>t[e]>=0)}const GI=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=jn(t,e);switch(n){case"referenceHidden":{const a=await hc(e,{...i,elementContext:"reference"}),o=Db(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Lb(o)}}}case"escaped":{const a=await hc(e,{...i,altBoundary:!0}),o=Db(a,r.floating);return{data:{escapedOffsets:o,escaped:Lb(o)}}}default:return{}}}}},Y1=new Set(["left","top"]);async function YI(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Tn(r),s=ms(r),c=Jr(r)==="y",l=Y1.has(o)?-1:1,u=a&&c?-1:1,d=jn(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof g=="number"&&(h=s==="end"?g*-1:g),c?{x:h*u,y:f*l}:{x:f*l,y:h*u}}const XI=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:o,middlewareData:s}=e,c=await YI(e,t);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},QI=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:v=>{let{x:b,y:w}=v;return{x:b,y:w}}},...c}=jn(t,e),l={x:r,y:n},u=await hc(e,c),d=Jr(Tn(i)),f=hg(d);let h=l[f],g=l[d];if(a){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=h+u[v],y=h-u[b];h=Ip(w,h,y)}if(o){const v=d==="y"?"top":"left",b=d==="y"?"bottom":"right",w=g+u[v],y=g-u[b];g=Ip(w,g,y)}const m=s.fn({...e,[f]:h,[d]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[f]:a,[d]:o}}}}}},JI=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=e,{offset:s=0,mainAxis:c=!0,crossAxis:l=!0}=jn(t,e),u={x:r,y:n},d=Jr(i),f=hg(d);let h=u[f],g=u[d];const m=jn(s,e),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const y=f==="y"?"height":"width",O=a.reference[f]-a.floating[y]+v.mainAxis,_=a.reference[f]+a.reference[y]-v.mainAxis;h<O?h=O:h>_&&(h=_)}if(l){var b,w;const y=f==="y"?"width":"height",O=Y1.has(Tn(i)),_=a.reference[d]-a.floating[y]+(O&&((b=o.offset)==null?void 0:b[d])||0)+(O?0:v.crossAxis),S=a.reference[d]+a.reference[y]+(O?0:((w=o.offset)==null?void 0:w[d])||0)-(O?v.crossAxis:0);g<_?g=_:g>S&&(g=S)}return{[f]:h,[d]:g}}}},ZI=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:o,elements:s}=e,{apply:c=()=>{},...l}=jn(t,e),u=await hc(e,l),d=Tn(i),f=ms(i),h=Jr(i)==="y",{width:g,height:m}=a.floating;let v,b;d==="top"||d==="bottom"?(v=d,b=f===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(b=d,v=f==="end"?"top":"bottom");const w=m-u.top-u.bottom,y=g-u.left-u.right,O=bi(m-u[v],w),_=bi(g-u[b],y),S=!e.middlewareData.shift;let A=O,E=_;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(E=y),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(A=w),S&&!f){const T=Gt(u.left,0),C=Gt(u.right,0),k=Gt(u.top,0),L=Gt(u.bottom,0);h?E=g-2*(T!==0||C!==0?T+C:Gt(u.left,u.right)):A=m-2*(k!==0||L!==0?k+L:Gt(u.top,u.bottom))}await c({...e,availableWidth:E,availableHeight:A});const j=await o.getDimensions(s.floating);return g!==j.width||m!==j.height?{reset:{rects:!0}}:{}}}};function nf(){return typeof window<"u"}function vs(t){return X1(t)?(t.nodeName||"").toLowerCase():"#document"}function Qt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ln(t){var e;return(e=(X1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function X1(t){return nf()?t instanceof Node||t instanceof Qt(t).Node:!1}function Mr(t){return nf()?t instanceof Element||t instanceof Qt(t).Element:!1}function an(t){return nf()?t instanceof HTMLElement||t instanceof Qt(t).HTMLElement:!1}function Bb(t){return!nf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Qt(t).ShadowRoot}const eM=new Set(["inline","contents"]);function hl(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Dr(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!eM.has(i)}const tM=new Set(["table","td","th"]);function rM(t){return tM.has(vs(t))}const nM=[":popover-open",":modal"];function af(t){return nM.some(e=>{try{return t.matches(e)}catch{return!1}})}const iM=["transform","translate","scale","rotate","perspective"],aM=["transform","translate","scale","rotate","perspective","filter"],oM=["paint","layout","strict","content"];function vg(t){const e=gg(),r=Mr(t)?Dr(t):t;return iM.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||aM.some(n=>(r.willChange||"").includes(n))||oM.some(n=>(r.contain||"").includes(n))}function sM(t){let e=wi(t);for(;an(e)&&!To(e);){if(vg(e))return e;if(af(e))return null;e=wi(e)}return null}function gg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const cM=new Set(["html","body","#document"]);function To(t){return cM.has(vs(t))}function Dr(t){return Qt(t).getComputedStyle(t)}function of(t){return Mr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function wi(t){if(vs(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Bb(t)&&t.host||ln(t);return Bb(e)?e.host:e}function Q1(t){const e=wi(t);return To(e)?t.ownerDocument?t.ownerDocument.body:t.body:an(e)&&hl(e)?e:Q1(e)}function pc(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=Q1(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),o=Qt(i);if(a){const s=Dp(o);return e.concat(o,o.visualViewport||[],hl(i)?i:[],s&&r?pc(s):[])}return e.concat(i,pc(i,[],r))}function Dp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function J1(t){const e=Dr(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=an(t),a=i?t.offsetWidth:r,o=i?t.offsetHeight:n,s=_u(r)!==a||_u(n)!==o;return s&&(r=a,n=o),{width:r,height:n,$:s}}function yg(t){return Mr(t)?t:t.contextElement}function so(t){const e=yg(t);if(!an(e))return tn(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=J1(e);let o=(a?_u(r.width):r.width)/n,s=(a?_u(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const lM=tn(0);function Z1(t){const e=Qt(t);return!gg()||!e.visualViewport?lM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function uM(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Qt(t)?!1:e}function pa(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=yg(t);let o=tn(1);e&&(n?Mr(n)&&(o=so(n)):o=so(t));const s=uM(a,r,n)?Z1(a):tn(0);let c=(i.left+s.x)/o.x,l=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){const f=Qt(a),h=n&&Mr(n)?Qt(n):n;let g=f,m=Dp(g);for(;m&&n&&h!==g;){const v=so(m),b=m.getBoundingClientRect(),w=Dr(m),y=b.left+(m.clientLeft+parseFloat(w.paddingLeft))*v.x,O=b.top+(m.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,l*=v.y,u*=v.x,d*=v.y,c+=y,l+=O,g=Qt(m),m=Dp(g)}}return Ou({width:u,height:d,x:c,y:l})}function bg(t,e){const r=of(t).scrollLeft;return e?e.left+r:pa(ln(t)).left+r}function eO(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:bg(t,n)),a=n.top+e.scrollTop;return{x:i,y:a}}function dM(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",o=ln(n),s=e?af(e.floating):!1;if(n===o||s&&a)return r;let c={scrollLeft:0,scrollTop:0},l=tn(1);const u=tn(0),d=an(n);if((d||!d&&!a)&&((vs(n)!=="body"||hl(o))&&(c=of(n)),an(n))){const h=pa(n);l=so(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}const f=o&&!d&&!a?eO(o,c,!0):tn(0);return{width:r.width*l.x,height:r.height*l.y,x:r.x*l.x-c.scrollLeft*l.x+u.x+f.x,y:r.y*l.y-c.scrollTop*l.y+u.y+f.y}}function fM(t){return Array.from(t.getClientRects())}function hM(t){const e=ln(t),r=of(t),n=t.ownerDocument.body,i=Gt(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Gt(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+bg(t);const s=-r.scrollTop;return Dr(n).direction==="rtl"&&(o+=Gt(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:s}}function pM(t,e){const r=Qt(t),n=ln(t),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,s=0,c=0;if(i){a=i.width,o=i.height;const l=gg();(!l||l&&e==="fixed")&&(s=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:s,y:c}}const mM=new Set(["absolute","fixed"]);function vM(t,e){const r=pa(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=an(t)?so(t):tn(1),o=t.clientWidth*a.x,s=t.clientHeight*a.y,c=i*a.x,l=n*a.y;return{width:o,height:s,x:c,y:l}}function Fb(t,e,r){let n;if(e==="viewport")n=pM(t,r);else if(e==="document")n=hM(ln(t));else if(Mr(e))n=vM(e,r);else{const i=Z1(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ou(n)}function tO(t,e){const r=wi(t);return r===e||!Mr(r)||To(r)?!1:Dr(r).position==="fixed"||tO(r,e)}function gM(t,e){const r=e.get(t);if(r)return r;let n=pc(t,[],!1).filter(s=>Mr(s)&&vs(s)!=="body"),i=null;const a=Dr(t).position==="fixed";let o=a?wi(t):t;for(;Mr(o)&&!To(o);){const s=Dr(o),c=vg(o);!c&&s.position==="fixed"&&(i=null),(a?!c&&!i:!c&&s.position==="static"&&!!i&&mM.has(i.position)||hl(o)&&!c&&tO(t,o))?n=n.filter(u=>u!==o):i=s,o=wi(o)}return e.set(t,n),n}function yM(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?af(e)?[]:gM(e,this._c):[].concat(r),n],s=o[0],c=o.reduce((l,u)=>{const d=Fb(e,u,i);return l.top=Gt(d.top,l.top),l.right=bi(d.right,l.right),l.bottom=bi(d.bottom,l.bottom),l.left=Gt(d.left,l.left),l},Fb(e,s,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function bM(t){const{width:e,height:r}=J1(t);return{width:e,height:r}}function wM(t,e,r){const n=an(e),i=ln(e),a=r==="fixed",o=pa(t,!0,a,e);let s={scrollLeft:0,scrollTop:0};const c=tn(0);function l(){c.x=bg(i)}if(n||!n&&!a)if((vs(e)!=="body"||hl(i))&&(s=of(e)),n){const h=pa(e,!0,a,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else i&&l();a&&!n&&i&&l();const u=i&&!n&&!a?eO(i,s):tn(0),d=o.left+s.scrollLeft-c.x-u.x,f=o.top+s.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function Rh(t){return Dr(t).position==="static"}function Ub(t,e){if(!an(t)||Dr(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ln(t)===r&&(r=r.ownerDocument.body),r}function rO(t,e){const r=Qt(t);if(af(t))return r;if(!an(t)){let i=wi(t);for(;i&&!To(i);){if(Mr(i)&&!Rh(i))return i;i=wi(i)}return r}let n=Ub(t,e);for(;n&&rM(n)&&Rh(n);)n=Ub(n,e);return n&&To(n)&&Rh(n)&&!vg(n)?r:n||sM(t)||r}const xM=async function(t){const e=this.getOffsetParent||rO,r=this.getDimensions,n=await r(t.floating);return{reference:wM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function _M(t){return Dr(t).direction==="rtl"}const SM={convertOffsetParentRelativeRectToViewportRelativeRect:dM,getDocumentElement:ln,getClippingRect:yM,getOffsetParent:rO,getElementRects:xM,getClientRects:fM,getDimensions:bM,getScale:so,isElement:Mr,isRTL:_M};function nO(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function OM(t,e){let r=null,n;const i=ln(t);function a(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),a();const l=t.getBoundingClientRect(),{left:u,top:d,width:f,height:h}=l;if(s||e(),!f||!h)return;const g=$l(d),m=$l(i.clientWidth-(u+f)),v=$l(i.clientHeight-(d+h)),b=$l(u),y={rootMargin:-g+"px "+-m+"px "+-v+"px "+-b+"px",threshold:Gt(0,bi(1,c))||1};let O=!0;function _(S){const A=S[0].intersectionRatio;if(A!==c){if(!O)return o();A?o(!1,A):n=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!nO(l,t.getBoundingClientRect())&&o(),O=!1}try{r=new IntersectionObserver(_,{...y,root:i.ownerDocument})}catch{r=new IntersectionObserver(_,y)}r.observe(t)}return o(!0),a}function AM(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,l=yg(t),u=i||a?[...l?pc(l):[],...pc(e)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",r,{passive:!0}),a&&b.addEventListener("resize",r)});const d=l&&s?OM(l,r):null;let f=-1,h=null;o&&(h=new ResizeObserver(b=>{let[w]=b;w&&w.target===l&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var y;(y=h)==null||y.observe(e)})),r()}),l&&!c&&h.observe(l),h.observe(e));let g,m=c?pa(t):null;c&&v();function v(){const b=pa(t);m&&!nO(m,b)&&r(),m=b,g=requestAnimationFrame(v)}return r(),()=>{var b;u.forEach(w=>{i&&w.removeEventListener("scroll",r),a&&w.removeEventListener("resize",r)}),d==null||d(),(b=h)==null||b.disconnect(),h=null,c&&cancelAnimationFrame(g)}}const EM=XI,PM=QI,jM=VI,TM=ZI,CM=GI,Wb=KI,kM=JI,$M=(t,e,r)=>{const n=new Map,i={platform:SM,...r},a={...i.platform,_c:n};return HI(t,e,{...i,platform:a})};var NM=typeof document<"u",RM=function(){},uu=NM?x.useLayoutEffect:RM;function Au(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Au(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!Au(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function iO(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function zb(t,e){const r=iO(t);return Math.round(e*r)/r}function Ih(t){const e=x.useRef(t);return uu(()=>{e.current=t}),e}function IM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:c,open:l}=t,[u,d]=x.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=x.useState(n);Au(f,n)||h(n);const[g,m]=x.useState(null),[v,b]=x.useState(null),w=x.useCallback(F=>{F!==S.current&&(S.current=F,m(F))},[]),y=x.useCallback(F=>{F!==A.current&&(A.current=F,b(F))},[]),O=a||g,_=o||v,S=x.useRef(null),A=x.useRef(null),E=x.useRef(u),j=c!=null,T=Ih(c),C=Ih(i),k=Ih(l),L=x.useCallback(()=>{if(!S.current||!A.current)return;const F={placement:e,strategy:r,middleware:f};C.current&&(F.platform=C.current),$M(S.current,A.current,F).then(D=>{const z={...D,isPositioned:k.current!==!1};R.current&&!Au(E.current,z)&&(E.current=z,ps.flushSync(()=>{d(z)}))})},[f,e,r,C,k]);uu(()=>{l===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(F=>({...F,isPositioned:!1})))},[l]);const R=x.useRef(!1);uu(()=>(R.current=!0,()=>{R.current=!1}),[]),uu(()=>{if(O&&(S.current=O),_&&(A.current=_),O&&_){if(T.current)return T.current(O,_,L);L()}},[O,_,L,T,j]);const B=x.useMemo(()=>({reference:S,floating:A,setReference:w,setFloating:y}),[w,y]),$=x.useMemo(()=>({reference:O,floating:_}),[O,_]),M=x.useMemo(()=>{const F={position:r,left:0,top:0};if(!$.floating)return F;const D=zb($.floating,u.x),z=zb($.floating,u.y);return s?{...F,transform:"translate("+D+"px, "+z+"px)",...iO($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:z}},[r,s,$.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:L,refs:B,elements:$,floatingStyles:M}),[u,L,B,$,M])}const MM=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Wb({element:n.current,padding:i}).fn(r):{}:n?Wb({element:n,padding:i}).fn(r):{}}}},DM=(t,e)=>({...EM(t),options:[t,e]}),LM=(t,e)=>({...PM(t),options:[t,e]}),BM=(t,e)=>({...kM(t),options:[t,e]}),FM=(t,e)=>({...jM(t),options:[t,e]}),UM=(t,e)=>({...TM(t),options:[t,e]}),WM=(t,e)=>({...CM(t),options:[t,e]}),zM=(t,e)=>({...MM(t),options:[t,e]});var qM="Arrow",aO=x.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return p.jsx(oe.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});aO.displayName=qM;var HM=aO;function sf(t){const[e,r]=x.useState(void 0);return ot(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const c=a.borderBoxSize,l=Array.isArray(c)?c[0]:c;o=l.inlineSize,s=l.blockSize}else o=t.offsetWidth,s=t.offsetHeight;r({width:o,height:s})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var wg="Popper",[oO,cf]=Ut(wg),[KM,sO]=oO(wg),cO=t=>{const{__scopePopper:e,children:r}=t,[n,i]=x.useState(null);return p.jsx(KM,{scope:e,anchor:n,onAnchorChange:i,children:r})};cO.displayName=wg;var lO="PopperAnchor",uO=x.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=sO(lO,r),o=x.useRef(null),s=ge(e,o);return x.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:p.jsx(oe.div,{...i,ref:s})});uO.displayName=lO;var xg="PopperContent",[VM,GM]=oO(xg),dO=x.forwardRef((t,e)=>{var X,he,K,Z,J,U;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:g,...m}=t,v=sO(xg,r),[b,w]=x.useState(null),y=ge(e,be=>w(be)),[O,_]=x.useState(null),S=sf(O),A=(S==null?void 0:S.width)??0,E=(S==null?void 0:S.height)??0,j=n+(a!=="center"?"-"+a:""),T=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},C=Array.isArray(l)?l:[l],k=C.length>0,L={padding:T,boundary:C.filter(XM),altBoundary:k},{refs:R,floatingStyles:B,placement:$,isPositioned:M,middlewareData:F}=IM({strategy:"fixed",placement:j,whileElementsMounted:(...be)=>AM(...be,{animationFrame:h==="always"}),elements:{reference:v.anchor},middleware:[DM({mainAxis:i+E,alignmentAxis:o}),c&&LM({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?BM():void 0,...L}),c&&FM({...L}),UM({...L,apply:({elements:be,rects:pe,availableWidth:je,availableHeight:Ae})=>{const{width:Ee,height:et}=pe.reference,Je=be.floating.style;Je.setProperty("--radix-popper-available-width",`${je}px`),Je.setProperty("--radix-popper-available-height",`${Ae}px`),Je.setProperty("--radix-popper-anchor-width",`${Ee}px`),Je.setProperty("--radix-popper-anchor-height",`${et}px`)}}),O&&zM({element:O,padding:s}),QM({arrowWidth:A,arrowHeight:E}),f&&WM({strategy:"referenceHidden",...L})]}),[D,z]=pO($),Y=Ze(g);ot(()=>{M&&(Y==null||Y())},[M,Y]);const q=(X=F.arrow)==null?void 0:X.x,I=(he=F.arrow)==null?void 0:he.y,H=((K=F.arrow)==null?void 0:K.centerOffset)!==0,[G,fe]=x.useState();return ot(()=>{b&&fe(window.getComputedStyle(b).zIndex)},[b]),p.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:M?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(Z=F.transformOrigin)==null?void 0:Z.x,(J=F.transformOrigin)==null?void 0:J.y].join(" "),...((U=F.hide)==null?void 0:U.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(VM,{scope:r,placedSide:D,onArrowChange:_,arrowX:q,arrowY:I,shouldHideArrow:H,children:p.jsx(oe.div,{"data-side":D,"data-align":z,...m,ref:y,style:{...m.style,animation:M?void 0:"none"}})})})});dO.displayName=xg;var fO="PopperArrow",YM={top:"bottom",right:"left",bottom:"top",left:"right"},hO=x.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=GM(fO,n),o=YM[a.placedSide];return p.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:p.jsx(HM,{...i,ref:r,style:{...i.style,display:"block"}})})});hO.displayName=fO;function XM(t){return t!==null}var QM=t=>({name:"transformOrigin",options:t,fn(e){var v,b,w;const{placement:r,rects:n,middlewareData:i}=e,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,s=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[l,u]=pO(r),d={start:"0%",center:"50%",end:"100%"}[u],f=(((b=i.arrow)==null?void 0:b.x)??0)+s/2,h=(((w=i.arrow)==null?void 0:w.y)??0)+c/2;let g="",m="";return l==="bottom"?(g=o?d:`${f}px`,m=`${-c}px`):l==="top"?(g=o?d:`${f}px`,m=`${n.floating.height+c}px`):l==="right"?(g=`${-c}px`,m=o?d:`${h}px`):l==="left"&&(g=`${n.floating.width+c}px`,m=o?d:`${h}px`),{data:{x:g,y:m}}}});function pO(t){const[e,r="center"]=t.split("-");return[e,r]}var JM=cO,mO=uO,vO=dO,gO=hO,[lf,bhe]=Ut("Tooltip",[cf]),_g=cf(),yO="TooltipProvider",ZM=700,qb="tooltip.open",[eD,bO]=lf(yO),wO=t=>{const{__scopeTooltip:e,delayDuration:r=ZM,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,o=x.useRef(!0),s=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const l=c.current;return()=>window.clearTimeout(l)},[]),p.jsx(eD,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:s,onPointerInTransitChange:x.useCallback(l=>{s.current=l},[]),disableHoverableContent:i,children:a})};wO.displayName=yO;var xO="Tooltip",[whe,uf]=lf(xO),Lp="TooltipTrigger",tD=x.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=uf(Lp,r),a=bO(Lp,r),o=_g(r),s=x.useRef(null),c=ge(e,s,i.onTriggerChange),l=x.useRef(!1),u=x.useRef(!1),d=x.useCallback(()=>l.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),p.jsx(mO,{asChild:!0,...o,children:p.jsx(oe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:ae(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:ae(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:ae(t.onPointerDown,()=>{i.open&&i.onClose(),l.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:ae(t.onFocus,()=>{l.current||i.onOpen()}),onBlur:ae(t.onBlur,i.onClose),onClick:ae(t.onClick,i.onClose)})})});tD.displayName=Lp;var rD="TooltipPortal",[xhe,nD]=lf(rD,{forceMount:void 0}),Co="TooltipContent",_O=x.forwardRef((t,e)=>{const r=nD(Co,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,o=uf(Co,t.__scopeTooltip);return p.jsx(cn,{present:n||o.open,children:o.disableHoverableContent?p.jsx(SO,{side:i,...a,ref:e}):p.jsx(iD,{side:i,...a,ref:e})})}),iD=x.forwardRef((t,e)=>{const r=uf(Co,t.__scopeTooltip),n=bO(Co,t.__scopeTooltip),i=x.useRef(null),a=ge(e,i),[o,s]=x.useState(null),{trigger:c,onClose:l}=r,u=i.current,{onPointerInTransitChange:d}=n,f=x.useCallback(()=>{s(null),d(!1)},[d]),h=x.useCallback((g,m)=>{const v=g.currentTarget,b={x:g.clientX,y:g.clientY},w=lD(b,v.getBoundingClientRect()),y=uD(b,w),O=dD(m.getBoundingClientRect()),_=hD([...y,...O]);s(_),d(!0)},[d]);return x.useEffect(()=>()=>f(),[f]),x.useEffect(()=>{if(c&&u){const g=v=>h(v,u),m=v=>h(v,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",m)}}},[c,u,h,f]),x.useEffect(()=>{if(o){const g=m=>{const v=m.target,b={x:m.clientX,y:m.clientY},w=(c==null?void 0:c.contains(v))||(u==null?void 0:u.contains(v)),y=!fD(b,o);w?f():y&&(f(),l())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,o,l,f]),p.jsx(SO,{...t,ref:a})}),[aD,oD]=lf(xO,{isInside:!1}),sD=c1("TooltipContent"),SO=x.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=t,c=uf(Co,r),l=_g(r),{onClose:u}=c;return x.useEffect(()=>(document.addEventListener(qb,u),()=>document.removeEventListener(qb,u)),[u]),x.useEffect(()=>{if(c.trigger){const d=f=>{const h=f.target;h!=null&&h.contains(c.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,u]),p.jsx(Jd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:p.jsxs(vO,{"data-state":c.stateAttribute,...l,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(sD,{children:n}),p.jsx(aD,{scope:r,isInside:!0,children:p.jsx(iR,{id:c.contentId,role:"tooltip",children:i||n})})]})})});_O.displayName=Co;var OO="TooltipArrow",cD=x.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=_g(r);return oD(OO,r).isInside?null:p.jsx(gO,{...i,...n,ref:e})});cD.displayName=OO;function lD(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function uD(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function dD(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function fD(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const s=e[a],c=e[o],l=s.x,u=s.y,d=c.x,f=c.y;u>n!=f>n&&r<(d-l)*(n-u)/(f-u)+l&&(i=!i)}return i}function hD(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),pD(e)}function pD(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var mD=wO,AO=_O;const vD=mD,gD=x.forwardRef(({className:t,sideOffset:e=4,...r},n)=>p.jsx(AO,{ref:n,sideOffset:e,className:Q("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));gD.displayName=AO.displayName;var gs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ma=typeof window>"u"||"Deno"in globalThis;function Ct(){}function yD(t,e){return typeof t=="function"?t(e):t}function Bp(t){return typeof t=="number"&&t>=0&&t!==1/0}function EO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function hi(t,e){return typeof t=="function"?t(e):t}function sr(t,e){return typeof t=="function"?t(e):t}function Hb(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:s}=t;if(o){if(n){if(e.queryHash!==Sg(o,e.options))return!1}else if(!mc(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||i&&i!==e.state.fetchStatus||a&&!a(e))}function Kb(t,e){const{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(va(e.options.mutationKey)!==va(a))return!1}else if(!mc(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function Sg(t,e){return((e==null?void 0:e.queryKeyHashFn)||va)(t)}function va(t){return JSON.stringify(t,(e,r)=>Fp(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function mc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>mc(t[r],e[r])):!1}function PO(t,e){if(t===e)return t;const r=Vb(t)&&Vb(e);if(r||Fp(t)&&Fp(e)){const n=r?t:Object.keys(t),i=n.length,a=r?e:Object.keys(e),o=a.length,s=r?[]:{},c=new Set(n);let l=0;for(let u=0;u<o;u++){const d=r?u:a[u];(!r&&c.has(d)||r)&&t[d]===void 0&&e[d]===void 0?(s[d]=void 0,l++):(s[d]=PO(t[d],e[d]),s[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:s}return e}function Eu(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Vb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Fp(t){if(!Gb(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Gb(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Gb(t){return Object.prototype.toString.call(t)==="[object Object]"}function bD(t){return new Promise(e=>{setTimeout(e,t)})}function Up(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?PO(t,e):e}function wD(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function xD(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Og=Symbol();function jO(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Og?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function TO(t,e){return typeof t=="function"?t(...e):!!t}var ra,Zn,go,JS,_D=(JS=class extends gs{constructor(){super();le(this,ra);le(this,Zn);le(this,go);ee(this,go,e=>{if(!ma&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){N(this,Zn)||this.setEventListener(N(this,go))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,Zn))==null||e.call(this),ee(this,Zn,void 0))}setEventListener(e){var r;ee(this,go,e),(r=N(this,Zn))==null||r.call(this),ee(this,Zn,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){N(this,ra)!==e&&(ee(this,ra,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof N(this,ra)=="boolean"?N(this,ra):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ra=new WeakMap,Zn=new WeakMap,go=new WeakMap,JS),Ag=new _D,yo,ei,bo,ZS,SD=(ZS=class extends gs{constructor(){super();le(this,yo,!0);le(this,ei);le(this,bo);ee(this,bo,e=>{if(!ma&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){N(this,ei)||this.setEventListener(N(this,bo))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,ei))==null||e.call(this),ee(this,ei,void 0))}setEventListener(e){var r;ee(this,bo,e),(r=N(this,ei))==null||r.call(this),ee(this,ei,e(this.setOnline.bind(this)))}setOnline(e){N(this,yo)!==e&&(ee(this,yo,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return N(this,yo)}},yo=new WeakMap,ei=new WeakMap,bo=new WeakMap,ZS),Pu=new SD;function Wp(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function OD(t){return Math.min(1e3*2**t,3e4)}function CO(t){return(t??"online")==="online"?Pu.isOnline():!0}var kO=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Mh(t){return t instanceof kO}function $O(t){let e=!1,r=0,n=!1,i;const a=Wp(),o=m=>{var v;n||(f(new kO(m)),(v=t.abort)==null||v.call(t))},s=()=>{e=!0},c=()=>{e=!1},l=()=>Ag.isFocused()&&(t.networkMode==="always"||Pu.isOnline())&&t.canRun(),u=()=>CO(t.networkMode)&&t.canRun(),d=m=>{var v;n||(n=!0,(v=t.onSuccess)==null||v.call(t,m),i==null||i(),a.resolve(m))},f=m=>{var v;n||(n=!0,(v=t.onError)==null||v.call(t,m),i==null||i(),a.reject(m))},h=()=>new Promise(m=>{var v;i=b=>{(n||l())&&m(b)},(v=t.onPause)==null||v.call(t)}).then(()=>{var m;i=void 0,n||(m=t.onContinue)==null||m.call(t)}),g=()=>{if(n)return;let m;const v=r===0?t.initialPromise:void 0;try{m=v??t.fn()}catch(b){m=Promise.reject(b)}Promise.resolve(m).then(d).catch(b=>{var S;if(n)return;const w=t.retry??(ma?0:3),y=t.retryDelay??OD,O=typeof y=="function"?y(r,b):y,_=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,b);if(e||!_){f(b);return}r++,(S=t.onFail)==null||S.call(t,r,b),bD(O).then(()=>l()?void 0:h()).then(()=>{e?f(b):g()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:s,continueRetry:c,canStart:u,start:()=>(u()?g():h().then(g),a)}}var AD=t=>setTimeout(t,0);function ED(){let t=[],e=0,r=s=>{s()},n=s=>{s()},i=AD;const a=s=>{e?t.push(s):i(()=>{r(s)})},o=()=>{const s=t;t=[],s.length&&i(()=>{n(()=>{s.forEach(c=>{r(c)})})})};return{batch:s=>{let c;e++;try{c=s()}finally{e--,e||o()}return c},batchCalls:s=>(...c)=>{a(()=>{s(...c)})},schedule:a,setNotifyFunction:s=>{r=s},setBatchNotifyFunction:s=>{n=s},setScheduler:s=>{i=s}}}var ht=ED(),na,e1,NO=(e1=class{constructor(){le(this,na)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Bp(this.gcTime)&&ee(this,na,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ma?1/0:5*60*1e3))}clearGcTimeout(){N(this,na)&&(clearTimeout(N(this,na)),ee(this,na,void 0))}},na=new WeakMap,e1),wo,ia,or,aa,St,sl,oa,jr,pn,t1,PD=(t1=class extends NO{constructor(e){super();le(this,jr);le(this,wo);le(this,ia);le(this,or);le(this,aa);le(this,St);le(this,sl);le(this,oa);ee(this,oa,!1),ee(this,sl,e.defaultOptions),this.setOptions(e.options),this.observers=[],ee(this,aa,e.client),ee(this,or,N(this,aa).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ee(this,wo,jD(this.options)),this.state=e.state??N(this,wo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=N(this,St))==null?void 0:e.promise}setOptions(e){this.options={...N(this,sl),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,or).remove(this)}setData(e,r){const n=Up(this.state.data,e,this.options);return xe(this,jr,pn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){xe(this,jr,pn).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=N(this,St))==null?void 0:n.promise;return(i=N(this,St))==null||i.cancel(e),r?r.then(Ct).catch(Ct):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,wo))}isActive(){return this.observers.some(e=>sr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Og||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>hi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!EO(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=N(this,St))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=N(this,St))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),N(this,or).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(N(this,St)&&(N(this,oa)?N(this,St).cancel({revert:!0}):N(this,St).cancelRetry()),this.scheduleGc()),N(this,or).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xe(this,jr,pn).call(this,{type:"invalidate"})}fetch(e,r){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(N(this,St))return N(this,St).continueRetry(),N(this,St).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ee(this,oa,!0),n.signal)})},a=()=>{const f=jO(this.options,r),g=(()=>{const m={client:N(this,aa),queryKey:this.queryKey,meta:this.meta};return i(m),m})();return ee(this,oa,!1),this.options.persister?this.options.persister(f,g,this):f(g)},s=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:N(this,aa),state:this.state,fetchFn:a};return i(f),f})();(l=this.options.behavior)==null||l.onFetch(s,this),ee(this,ia,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&xe(this,jr,pn).call(this,{type:"fetch",meta:(d=s.fetchOptions)==null?void 0:d.meta});const c=f=>{var h,g,m,v;Mh(f)&&f.silent||xe(this,jr,pn).call(this,{type:"error",error:f}),Mh(f)||((g=(h=N(this,or).config).onError)==null||g.call(h,f,this),(v=(m=N(this,or).config).onSettled)==null||v.call(m,this.state.data,f,this)),this.scheduleGc()};return ee(this,St,$O({initialPromise:r==null?void 0:r.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,g,m,v;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){c(b);return}(g=(h=N(this,or).config).onSuccess)==null||g.call(h,f,this),(v=(m=N(this,or).config).onSettled)==null||v.call(m,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,h)=>{xe(this,jr,pn).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{xe(this,jr,pn).call(this,{type:"pause"})},onContinue:()=>{xe(this,jr,pn).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),N(this,St).start()}},wo=new WeakMap,ia=new WeakMap,or=new WeakMap,aa=new WeakMap,St=new WeakMap,sl=new WeakMap,oa=new WeakMap,jr=new WeakSet,pn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...RO(n.data,this.options),fetchMeta:e.meta??null};case"success":return ee(this,ia,void 0),{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Mh(i)&&i.revert&&N(this,ia)?{...N(this,ia),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),ht.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),N(this,or).notify({query:this,type:"updated",action:e})})},t1);function RO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:CO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function jD(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Hr,r1,TD=(r1=class extends gs{constructor(e={}){super();le(this,Hr);this.config=e,ee(this,Hr,new Map)}build(e,r,n){const i=r.queryKey,a=r.queryHash??Sg(i,r);let o=this.get(a);return o||(o=new PD({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){N(this,Hr).has(e.queryHash)||(N(this,Hr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=N(this,Hr).get(e.queryHash);r&&(e.destroy(),r===e&&N(this,Hr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ht.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return N(this,Hr).get(e)}getAll(){return[...N(this,Hr).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Hb(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Hb(e,n)):r}notify(e){ht.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){ht.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ht.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Hr=new WeakMap,r1),Kr,Pt,sa,Vr,Hn,n1,CD=(n1=class extends NO{constructor(e){super();le(this,Vr);le(this,Kr);le(this,Pt);le(this,sa);this.mutationId=e.mutationId,ee(this,Pt,e.mutationCache),ee(this,Kr,[]),this.state=e.state||IO(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){N(this,Kr).includes(e)||(N(this,Kr).push(e),this.clearGcTimeout(),N(this,Pt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ee(this,Kr,N(this,Kr).filter(r=>r!==e)),this.scheduleGc(),N(this,Pt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){N(this,Kr).length||(this.state.status==="pending"?this.scheduleGc():N(this,Pt).remove(this))}continue(){var e;return((e=N(this,sa))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,s,c,l,u,d,f,h,g,m,v,b,w,y,O,_,S,A,E;const r=()=>{xe(this,Vr,Hn).call(this,{type:"continue"})};ee(this,sa,$O({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(j,T)=>{xe(this,Vr,Hn).call(this,{type:"failed",failureCount:j,error:T})},onPause:()=>{xe(this,Vr,Hn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,Pt).canRun(this)}));const n=this.state.status==="pending",i=!N(this,sa).canStart();try{if(n)r();else{xe(this,Vr,Hn).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(a=N(this,Pt).config).onMutate)==null?void 0:o.call(a,e,this));const T=await((c=(s=this.options).onMutate)==null?void 0:c.call(s,e));T!==this.state.context&&xe(this,Vr,Hn).call(this,{type:"pending",context:T,variables:e,isPaused:i})}const j=await N(this,sa).start();return await((u=(l=N(this,Pt).config).onSuccess)==null?void 0:u.call(l,j,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,j,e,this.state.context)),await((g=(h=N(this,Pt).config).onSettled)==null?void 0:g.call(h,j,null,this.state.variables,this.state.context,this)),await((v=(m=this.options).onSettled)==null?void 0:v.call(m,j,null,e,this.state.context)),xe(this,Vr,Hn).call(this,{type:"success",data:j}),j}catch(j){try{throw await((w=(b=N(this,Pt).config).onError)==null?void 0:w.call(b,j,e,this.state.context,this)),await((O=(y=this.options).onError)==null?void 0:O.call(y,j,e,this.state.context)),await((S=(_=N(this,Pt).config).onSettled)==null?void 0:S.call(_,void 0,j,this.state.variables,this.state.context,this)),await((E=(A=this.options).onSettled)==null?void 0:E.call(A,void 0,j,e,this.state.context)),j}finally{xe(this,Vr,Hn).call(this,{type:"error",error:j})}}finally{N(this,Pt).runNext(this)}}},Kr=new WeakMap,Pt=new WeakMap,sa=new WeakMap,Vr=new WeakSet,Hn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ht.batch(()=>{N(this,Kr).forEach(n=>{n.onMutationUpdate(e)}),N(this,Pt).notify({mutation:this,type:"updated",action:e})})},n1);function IO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vn,Tr,cl,i1,kD=(i1=class extends gs{constructor(e={}){super();le(this,vn);le(this,Tr);le(this,cl);this.config=e,ee(this,vn,new Set),ee(this,Tr,new Map),ee(this,cl,0)}build(e,r,n){const i=new CD({mutationCache:this,mutationId:++jl(this,cl)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){N(this,vn).add(e);const r=Nl(e);if(typeof r=="string"){const n=N(this,Tr).get(r);n?n.push(e):N(this,Tr).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(N(this,vn).delete(e)){const r=Nl(e);if(typeof r=="string"){const n=N(this,Tr).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&N(this,Tr).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Nl(e);if(typeof r=="string"){const n=N(this,Tr).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=Nl(e);if(typeof r=="string"){const i=(n=N(this,Tr).get(r))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ht.batch(()=>{N(this,vn).forEach(e=>{this.notify({type:"removed",mutation:e})}),N(this,vn).clear(),N(this,Tr).clear()})}getAll(){return Array.from(N(this,vn))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Kb(r,n))}findAll(e={}){return this.getAll().filter(r=>Kb(e,r))}notify(e){ht.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return ht.batch(()=>Promise.all(e.map(r=>r.continue().catch(Ct))))}},vn=new WeakMap,Tr=new WeakMap,cl=new WeakMap,i1);function Nl(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Yb(t){return{onFetch:(e,r)=>{var u,d,f,h,g;const n=e.options,i=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,a=((h=e.state.data)==null?void 0:h.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let s={pages:[],pageParams:[]},c=0;const l=async()=>{let m=!1;const v=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},b=jO(e.options,e.fetchOptions),w=async(y,O,_)=>{if(m)return Promise.reject();if(O==null&&y.pages.length)return Promise.resolve(y);const A=(()=>{const C={client:e.client,queryKey:e.queryKey,pageParam:O,direction:_?"backward":"forward",meta:e.options.meta};return v(C),C})(),E=await b(A),{maxPages:j}=e.options,T=_?xD:wD;return{pages:T(y.pages,E,j),pageParams:T(y.pageParams,O,j)}};if(i&&a.length){const y=i==="backward",O=y?$D:Xb,_={pages:a,pageParams:o},S=O(n,_);s=await w(_,S,y)}else{const y=t??a.length;do{const O=c===0?o[0]??n.initialPageParam:Xb(n,s);if(c>0&&O==null)break;s=await w(s,O),c++}while(c<y)}return s};e.options.persister?e.fetchFn=()=>{var m,v;return(v=(m=e.options).persister)==null?void 0:v.call(m,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=l}}}function Xb(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function $D(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Xe,ti,ri,xo,_o,ni,So,Oo,a1,ND=(a1=class{constructor(t={}){le(this,Xe);le(this,ti);le(this,ri);le(this,xo);le(this,_o);le(this,ni);le(this,So);le(this,Oo);ee(this,Xe,t.queryCache||new TD),ee(this,ti,t.mutationCache||new kD),ee(this,ri,t.defaultOptions||{}),ee(this,xo,new Map),ee(this,_o,new Map),ee(this,ni,0)}mount(){jl(this,ni)._++,N(this,ni)===1&&(ee(this,So,Ag.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,Xe).onFocus())})),ee(this,Oo,Pu.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,Xe).onOnline())})))}unmount(){var t,e;jl(this,ni)._--,N(this,ni)===0&&((t=N(this,So))==null||t.call(this),ee(this,So,void 0),(e=N(this,Oo))==null||e.call(this),ee(this,Oo,void 0))}isFetching(t){return N(this,Xe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return N(this,ti).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=N(this,Xe).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=N(this,Xe).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(hi(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return N(this,Xe).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=N(this,Xe).get(n.queryHash),a=i==null?void 0:i.state.data,o=yD(e,a);if(o!==void 0)return N(this,Xe).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return ht.batch(()=>N(this,Xe).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=N(this,Xe).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=N(this,Xe);ht.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=N(this,Xe);return ht.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=ht.batch(()=>N(this,Xe).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Ct).catch(Ct)}invalidateQueries(t,e={}){return ht.batch(()=>(N(this,Xe).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=ht.batch(()=>N(this,Xe).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Ct)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Ct)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=N(this,Xe).build(this,e);return r.isStaleByTime(hi(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ct).catch(Ct)}fetchInfiniteQuery(t){return t.behavior=Yb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ct).catch(Ct)}ensureInfiniteQueryData(t){return t.behavior=Yb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Pu.isOnline()?N(this,ti).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,Xe)}getMutationCache(){return N(this,ti)}getDefaultOptions(){return N(this,ri)}setDefaultOptions(t){ee(this,ri,t)}setQueryDefaults(t,e){N(this,xo).set(va(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...N(this,xo).values()],r={};return e.forEach(n=>{mc(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){N(this,_o).set(va(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...N(this,_o).values()],r={};return e.forEach(n=>{mc(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...N(this,ri).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Sg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Og&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...N(this,ri).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){N(this,Xe).clear(),N(this,ti).clear()}},Xe=new WeakMap,ti=new WeakMap,ri=new WeakMap,xo=new WeakMap,_o=new WeakMap,ni=new WeakMap,So=new WeakMap,Oo=new WeakMap,a1),Mt,Se,ll,jt,ca,Ao,ii,ai,ul,Eo,Po,la,ua,oi,jo,Ce,Gs,zp,qp,Hp,Kp,Vp,Gp,Yp,MO,o1,RD=(o1=class extends gs{constructor(e,r){super();le(this,Ce);le(this,Mt);le(this,Se);le(this,ll);le(this,jt);le(this,ca);le(this,Ao);le(this,ii);le(this,ai);le(this,ul);le(this,Eo);le(this,Po);le(this,la);le(this,ua);le(this,oi);le(this,jo,new Set);this.options=r,ee(this,Mt,e),ee(this,ai,null),ee(this,ii,Wp()),this.options.experimental_prefetchInRender||N(this,ii).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,Se).addObserver(this),Qb(N(this,Se),this.options)?xe(this,Ce,Gs).call(this):this.updateResult(),xe(this,Ce,Kp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Xp(N(this,Se),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Xp(N(this,Se),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,xe(this,Ce,Vp).call(this),xe(this,Ce,Gp).call(this),N(this,Se).removeObserver(this)}setOptions(e){const r=this.options,n=N(this,Se);if(this.options=N(this,Mt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof sr(this.options.enabled,N(this,Se))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");xe(this,Ce,Yp).call(this),N(this,Se).setOptions(this.options),r._defaulted&&!Eu(this.options,r)&&N(this,Mt).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,Se),observer:this});const i=this.hasListeners();i&&Jb(N(this,Se),n,this.options,r)&&xe(this,Ce,Gs).call(this),this.updateResult(),i&&(N(this,Se)!==n||sr(this.options.enabled,N(this,Se))!==sr(r.enabled,N(this,Se))||hi(this.options.staleTime,N(this,Se))!==hi(r.staleTime,N(this,Se)))&&xe(this,Ce,zp).call(this);const a=xe(this,Ce,qp).call(this);i&&(N(this,Se)!==n||sr(this.options.enabled,N(this,Se))!==sr(r.enabled,N(this,Se))||a!==N(this,oi))&&xe(this,Ce,Hp).call(this,a)}getOptimisticResult(e){const r=N(this,Mt).getQueryCache().build(N(this,Mt),e),n=this.createResult(r,e);return MD(this,n)&&(ee(this,jt,n),ee(this,Ao,this.options),ee(this,ca,N(this,Se).state)),n}getCurrentResult(){return N(this,jt)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),Reflect.get(n,i))})}trackProp(e){N(this,jo).add(e)}getCurrentQuery(){return N(this,Se)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=N(this,Mt).defaultQueryOptions(e),n=N(this,Mt).getQueryCache().build(N(this,Mt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return xe(this,Ce,Gs).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,jt)))}createResult(e,r){var j;const n=N(this,Se),i=this.options,a=N(this,jt),o=N(this,ca),s=N(this,Ao),l=e!==n?e.state:N(this,ll),{state:u}=e;let d={...u},f=!1,h;if(r._optimisticResults){const T=this.hasListeners(),C=!T&&Qb(e,r),k=T&&Jb(e,n,r,i);(C||k)&&(d={...d,...RO(u.data,e.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:m,status:v}=d;h=d.data;let b=!1;if(r.placeholderData!==void 0&&h===void 0&&v==="pending"){let T;a!=null&&a.isPlaceholderData&&r.placeholderData===(s==null?void 0:s.placeholderData)?(T=a.data,b=!0):T=typeof r.placeholderData=="function"?r.placeholderData((j=N(this,Po))==null?void 0:j.state.data,N(this,Po)):r.placeholderData,T!==void 0&&(v="success",h=Up(a==null?void 0:a.data,T,r),f=!0)}if(r.select&&h!==void 0&&!b)if(a&&h===(o==null?void 0:o.data)&&r.select===N(this,ul))h=N(this,Eo);else try{ee(this,ul,r.select),h=r.select(h),h=Up(a==null?void 0:a.data,h,r),ee(this,Eo,h),ee(this,ai,null)}catch(T){ee(this,ai,T)}N(this,ai)&&(g=N(this,ai),h=N(this,Eo),m=Date.now(),v="error");const w=d.fetchStatus==="fetching",y=v==="pending",O=v==="error",_=y&&w,S=h!==void 0,E={status:v,fetchStatus:d.fetchStatus,isPending:y,isSuccess:v==="success",isError:O,isInitialLoading:_,isLoading:_,data:h,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:w,isRefetching:w&&!y,isLoadingError:O&&!S,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:O&&S,isStale:Eg(e,r),refetch:this.refetch,promise:N(this,ii),isEnabled:sr(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const T=L=>{E.status==="error"?L.reject(E.error):E.data!==void 0&&L.resolve(E.data)},C=()=>{const L=ee(this,ii,E.promise=Wp());T(L)},k=N(this,ii);switch(k.status){case"pending":e.queryHash===n.queryHash&&T(k);break;case"fulfilled":(E.status==="error"||E.data!==k.value)&&C();break;case"rejected":(E.status!=="error"||E.error!==k.reason)&&C();break}}return E}updateResult(){const e=N(this,jt),r=this.createResult(N(this,Se),this.options);if(ee(this,ca,N(this,Se).state),ee(this,Ao,this.options),N(this,ca).data!==void 0&&ee(this,Po,N(this,Se)),Eu(r,e))return;ee(this,jt,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!N(this,jo).size)return!0;const o=new Set(a??N(this,jo));return this.options.throwOnError&&o.add("error"),Object.keys(N(this,jt)).some(s=>{const c=s;return N(this,jt)[c]!==e[c]&&o.has(c)})};xe(this,Ce,MO).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&xe(this,Ce,Kp).call(this)}},Mt=new WeakMap,Se=new WeakMap,ll=new WeakMap,jt=new WeakMap,ca=new WeakMap,Ao=new WeakMap,ii=new WeakMap,ai=new WeakMap,ul=new WeakMap,Eo=new WeakMap,Po=new WeakMap,la=new WeakMap,ua=new WeakMap,oi=new WeakMap,jo=new WeakMap,Ce=new WeakSet,Gs=function(e){xe(this,Ce,Yp).call(this);let r=N(this,Se).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Ct)),r},zp=function(){xe(this,Ce,Vp).call(this);const e=hi(this.options.staleTime,N(this,Se));if(ma||N(this,jt).isStale||!Bp(e))return;const n=EO(N(this,jt).dataUpdatedAt,e)+1;ee(this,la,setTimeout(()=>{N(this,jt).isStale||this.updateResult()},n))},qp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,Se)):this.options.refetchInterval)??!1},Hp=function(e){xe(this,Ce,Gp).call(this),ee(this,oi,e),!(ma||sr(this.options.enabled,N(this,Se))===!1||!Bp(N(this,oi))||N(this,oi)===0)&&ee(this,ua,setInterval(()=>{(this.options.refetchIntervalInBackground||Ag.isFocused())&&xe(this,Ce,Gs).call(this)},N(this,oi)))},Kp=function(){xe(this,Ce,zp).call(this),xe(this,Ce,Hp).call(this,xe(this,Ce,qp).call(this))},Vp=function(){N(this,la)&&(clearTimeout(N(this,la)),ee(this,la,void 0))},Gp=function(){N(this,ua)&&(clearInterval(N(this,ua)),ee(this,ua,void 0))},Yp=function(){const e=N(this,Mt).getQueryCache().build(N(this,Mt),this.options);if(e===N(this,Se))return;const r=N(this,Se);ee(this,Se,e),ee(this,ll,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},MO=function(e){ht.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(N(this,jt))}),N(this,Mt).getQueryCache().notify({query:N(this,Se),type:"observerResultsUpdated"})})},o1);function ID(t,e){return sr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Qb(t,e){return ID(t,e)||t.state.data!==void 0&&Xp(t,e,e.refetchOnMount)}function Xp(t,e,r){if(sr(e.enabled,t)!==!1&&hi(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Eg(t,e)}return!1}function Jb(t,e,r,n){return(t!==e||sr(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Eg(t,r)}function Eg(t,e){return sr(e.enabled,t)!==!1&&t.isStaleByTime(hi(e.staleTime,t))}function MD(t,e){return!Eu(t.getCurrentResult(),e)}var si,ci,Dt,gn,En,du,Qp,s1,DD=(s1=class extends gs{constructor(r,n){super();le(this,En);le(this,si);le(this,ci);le(this,Dt);le(this,gn);ee(this,si,r),this.setOptions(n),this.bindMethods(),xe(this,En,du).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=N(this,si).defaultMutationOptions(r),Eu(this.options,n)||N(this,si).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,Dt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&va(n.mutationKey)!==va(this.options.mutationKey)?this.reset():((i=N(this,Dt))==null?void 0:i.state.status)==="pending"&&N(this,Dt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=N(this,Dt))==null||r.removeObserver(this)}onMutationUpdate(r){xe(this,En,du).call(this),xe(this,En,Qp).call(this,r)}getCurrentResult(){return N(this,ci)}reset(){var r;(r=N(this,Dt))==null||r.removeObserver(this),ee(this,Dt,void 0),xe(this,En,du).call(this),xe(this,En,Qp).call(this)}mutate(r,n){var i;return ee(this,gn,n),(i=N(this,Dt))==null||i.removeObserver(this),ee(this,Dt,N(this,si).getMutationCache().build(N(this,si),this.options)),N(this,Dt).addObserver(this),N(this,Dt).execute(r)}},si=new WeakMap,ci=new WeakMap,Dt=new WeakMap,gn=new WeakMap,En=new WeakSet,du=function(){var n;const r=((n=N(this,Dt))==null?void 0:n.state)??IO();ee(this,ci,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Qp=function(r){ht.batch(()=>{var n,i,a,o,s,c,l,u;if(N(this,gn)&&this.hasListeners()){const d=N(this,ci).variables,f=N(this,ci).context;(r==null?void 0:r.type)==="success"?((i=(n=N(this,gn)).onSuccess)==null||i.call(n,r.data,d,f),(o=(a=N(this,gn)).onSettled)==null||o.call(a,r.data,null,d,f)):(r==null?void 0:r.type)==="error"&&((c=(s=N(this,gn)).onError)==null||c.call(s,r.error,d,f),(u=(l=N(this,gn)).onSettled)==null||u.call(l,void 0,r.error,d,f))}this.listeners.forEach(d=>{d(N(this,ci))})})},s1),DO=x.createContext(void 0),ys=t=>{const e=x.useContext(DO);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},LD=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(DO.Provider,{value:t,children:e})),LO=x.createContext(!1),BD=()=>x.useContext(LO);LO.Provider;function FD(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var UD=x.createContext(FD()),WD=()=>x.useContext(UD),zD=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},qD=t=>{x.useEffect(()=>{t.clearReset()},[t])},HD=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||TO(r,[t.error,n])),KD=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>e(r(...n)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},VD=(t,e)=>t.isLoading&&t.isFetching&&!e,GD=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Zb=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function YD(t,e,r){var d,f,h,g,m;const n=BD(),i=WD(),a=ys(),o=a.defaultQueryOptions(t);(f=(d=a.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=n?"isRestoring":"optimistic",KD(o),zD(o,i),qD(i);const s=!a.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new e(a,o)),l=c.getOptimisticResult(o),u=!n&&t.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(v=>{const b=u?c.subscribe(ht.batchCalls(v)):Ct;return c.updateResult(),b},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o)},[o,c]),GD(o,l))throw Zb(o,c,i);if(HD({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;if((g=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||g.call(h,o,l),o.experimental_prefetchInRender&&!ma&&VD(l,n)){const v=s?Zb(o,c,i):(m=a.getQueryCache().get(o.queryHash))==null?void 0:m.promise;v==null||v.catch(Ct).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?l:c.trackResult(l)}function ko(t,e){return YD(t,RD)}function bn(t,e){const r=ys(),[n]=x.useState(()=>new DD(r,t));x.useEffect(()=>{n.setOptions(t)},[n,t]);const i=x.useSyncExternalStore(x.useCallback(o=>n.subscribe(ht.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=x.useCallback((o,s)=>{n.mutate(o,s).catch(Ct)},[n]);if(i.error&&TO(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const XD=[{to:"/stats",label:"Statistiche",icon:CR},{to:"/macro-goals",label:"Macro Obiettivi",icon:L1}];function QD(){return p.jsx("nav",{className:"flex items-center justify-center gap-1 sm:gap-2",children:XD.map(({to:t,label:e,icon:r})=>p.jsxs(ON,{to:t,className:({isActive:n})=>Q("flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all","hover:bg-accent",n?"bg-primary text-primary-foreground hover:bg-primary/90":"text-muted-foreground"),children:[p.jsx(r,{className:"w-4 h-4"}),p.jsx("span",{className:"hidden xs:inline sm:inline",children:e})]},t))})}function JD(){return p.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[p.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md sticky top-0 z-50",children:p.jsxs("div",{className:"h-16 flex items-center justify-between px-4 sm:px-8 max-w-[2400px] mx-auto w-full",children:[p.jsxs(AN,{to:"/",className:"flex items-center gap-2 sm:gap-3 group",children:[p.jsx(IR,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary animate-pulse"}),p.jsx("span",{className:"font-display font-bold text-base sm:text-lg tracking-tight group-hover:text-primary transition-colors",children:"Mattioli.OS"})]}),p.jsx(QD,{})]})}),p.jsx("main",{className:"flex-1",children:p.jsx(EN,{})})]})}var Pg={},ju={},Jp=function(t,e){return Jp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Jp(t,e)};function BO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Jp(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var cr=function(){return cr=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},cr.apply(this,arguments)};function Si(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function FO(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function UO(t,e){return function(r,n){e(r,n,t)}}function WO(t,e,r,n,i,a){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var s=n.kind,c=s==="getter"?"get":s==="setter"?"set":"value",l=!e&&t?n.static?t:t.prototype:null,u=e||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),d,f=!1,h=r.length-1;h>=0;h--){var g={};for(var m in n)g[m]=m==="access"?{}:n[m];for(var m in n.access)g.access[m]=n.access[m];g.addInitializer=function(b){if(f)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(b||null))};var v=(0,r[h])(s==="accessor"?{get:u.get,set:u.set}:u[c],g);if(s==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(d=o(v.get))&&(u.get=d),(d=o(v.set))&&(u.set=d),(d=o(v.init))&&i.unshift(d)}else(d=o(v))&&(s==="field"?i.unshift(d):u[c]=d)}l&&Object.defineProperty(l,n.name,u),f=!0}function zO(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function qO(t){return typeof t=="symbol"?t:"".concat(t)}function HO(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function KO(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function re(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?a(u.value):i(u.value).then(s,c)}l((n=n.apply(t,e||[])).next())})}function VO(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var df=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function GO(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&df(e,t,r)}function Tu(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function jg(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function YO(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(jg(arguments[e]));return t}function XO(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function Tg(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function $o(t){return this instanceof $o?(this.v=t,this):new $o(t)}function QO(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(h){return function(g){return Promise.resolve(g).then(h,d)}}function s(h,g){n[h]&&(i[h]=function(m){return new Promise(function(v,b){a.push([h,m,v,b])>1||c(h,m)})},g&&(i[h]=g(i[h])))}function c(h,g){try{l(n[h](g))}catch(m){f(a[0][3],m)}}function l(h){h.value instanceof $o?Promise.resolve(h.value.v).then(u,d):f(a[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,g){h(g),a.shift(),a.length&&c(a[0][0],a[0][1])}}function JO(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=t[i]?function(o){return(r=!r)?{value:$o(t[i](o)),done:!1}:a?a(o):o}:a}}function ZO(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Tu=="function"?Tu(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(o){return new Promise(function(s,c){o=t[a](o),i(s,c,o.done,o.value)})}}function i(a,o,s,c){Promise.resolve(c).then(function(l){a({value:l,done:s})},o)}}function eA(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var ZD=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Zp=function(t){return Zp=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Zp(t)};function tA(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Zp(t),n=0;n<r.length;n++)r[n]!=="default"&&df(e,t,r[n]);return ZD(e,t),e}function rA(t){return t&&t.__esModule?t:{default:t}}function nA(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function iA(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function aA(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function oA(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var e2=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function sA(t){function e(a){t.error=t.hasError?new e2(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(o){return e(o),i()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function cA(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,o){return n?e?".jsx":".js":i&&(!a||!o)?r:i+a+"."+o.toLowerCase()+"js"}):t}const t2={__extends:BO,__assign:cr,__rest:Si,__decorate:FO,__param:UO,__esDecorate:WO,__runInitializers:zO,__propKey:qO,__setFunctionName:HO,__metadata:KO,__awaiter:re,__generator:VO,__createBinding:df,__exportStar:GO,__values:Tu,__read:jg,__spread:YO,__spreadArrays:XO,__spreadArray:Tg,__await:$o,__asyncGenerator:QO,__asyncDelegator:JO,__asyncValues:ZO,__makeTemplateObject:eA,__importStar:tA,__importDefault:rA,__classPrivateFieldGet:nA,__classPrivateFieldSet:iA,__classPrivateFieldIn:aA,__addDisposableResource:oA,__disposeResources:sA,__rewriteRelativeImportExtension:cA},r2=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:oA,get __assign(){return cr},__asyncDelegator:JO,__asyncGenerator:QO,__asyncValues:ZO,__await:$o,__awaiter:re,__classPrivateFieldGet:nA,__classPrivateFieldIn:aA,__classPrivateFieldSet:iA,__createBinding:df,__decorate:FO,__disposeResources:sA,__esDecorate:WO,__exportStar:GO,__extends:BO,__generator:VO,__importDefault:rA,__importStar:tA,__makeTemplateObject:eA,__metadata:KO,__param:UO,__propKey:qO,__read:jg,__rest:Si,__rewriteRelativeImportExtension:cA,__runInitializers:zO,__setFunctionName:HO,__spread:YO,__spreadArray:Tg,__spreadArrays:XO,__values:Tu,default:t2},Symbol.toStringTag,{value:"Module"})),n2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let ff=class extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}},lA=class extends ff{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},em=class extends ff{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},tm=class extends ff{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Cu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Cu||(Cu={}));class i2{constructor(e,{headers:r={},customFetch:n,region:i=Cu.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=n2(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return re(this,arguments,void 0,function*(r,n={}){var i;let a,o;try{const{headers:s,method:c,body:l,signal:u,timeout:d}=n;let f={},{region:h}=n;h||(h=this.region);const g=new URL(`${this.url}/${r}`);h&&h!=="any"&&(f["x-region"]=h,g.searchParams.set("forceFunctionRegion",h));let m;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(f["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(f["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;let v=u;d&&(o=new AbortController,a=setTimeout(()=>o.abort(),d),u?(v=o.signal,u.addEventListener("abort",()=>o.abort())):v=o.signal);const b=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),s),body:m,signal:v}).catch(_=>{throw new lA(_)}),w=b.headers.get("x-relay-error");if(w&&w==="true")throw new em(b);if(!b.ok)throw new tm(b);let y=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return y==="application/json"?O=yield b.json():y==="application/octet-stream"||y==="application/pdf"?O=yield b.blob():y==="text/event-stream"?O=b:y==="multipart/form-data"?O=yield b.formData():O=yield b.text(),{data:O,error:null,response:b}}catch(s){return{data:null,error:s,response:s instanceof tm||s instanceof em?s.context:void 0}}finally{a&&clearTimeout(a)}})}}const a2=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Cu},FunctionsClient:i2,FunctionsError:ff,FunctionsFetchError:lA,FunctionsHttpError:tm,FunctionsRelayError:em},Symbol.toStringTag,{value:"Module"})),uA=dl(a2);var At={};const bs=dl(r2);var Rl={},Il={},Ml={},Dl={},Ll={},Bl={},e0;function dA(){if(e0)return Bl;e0=1,Object.defineProperty(Bl,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Bl.default=t,Bl}var t0;function fA(){if(t0)return Ll;t0=1,Object.defineProperty(Ll,"__esModule",{value:!0});const e=bs.__importDefault(dA());let r=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let s=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var l,u,d,f;let h=null,g=null,m=null,v=c.status,b=c.statusText;if(c.ok){if(this.method!=="HEAD"){const _=await c.text();_===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((l=this.headers.get("Accept"))===null||l===void 0)&&l.includes("application/vnd.pgrst.plan+text"))?g=_:g=JSON.parse(_))}const y=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),O=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");y&&O&&O.length>1&&(m=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(h={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,v=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const y=await c.text();try{h=JSON.parse(y),Array.isArray(h)&&c.status===404&&(g=[],h=null,v=200,b="OK")}catch{c.status===404&&y===""?(v=204,b="No Content"):h={message:y}}if(h&&this.isMaybeSingle&&(!((f=h==null?void 0:h.details)===null||f===void 0)&&f.includes("0 rows"))&&(h=null,v=200,b="OK"),h&&this.shouldThrowOnError)throw new e.default(h)}return{error:h,data:g,count:m,status:v,statusText:b}});return this.shouldThrowOnError||(s=s.catch(c=>{var l,u,d,f,h,g;let m="";const v=c==null?void 0:c.cause;if(v){const b=(l=v==null?void 0:v.message)!==null&&l!==void 0?l:"",w=(u=v==null?void 0:v.code)!==null&&u!==void 0?u:"";m=`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,m+=`

Caused by: ${(f=v==null?void 0:v.name)!==null&&f!==void 0?f:"Error"}: ${b}`,w&&(m+=` (${w})`),v!=null&&v.stack&&(m+=`
${v.stack}`)}else m=(h=c==null?void 0:c.stack)!==null&&h!==void 0?h:"";return{error:{message:`${(g=c==null?void 0:c.name)!==null&&g!==void 0?g:"FetchError"}: ${c==null?void 0:c.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(i,a)}returns(){return this}overrideTypes(){return this}};return Ll.default=r,Ll}var r0;function hA(){if(r0)return Dl;r0=1,Object.defineProperty(Dl,"__esModule",{value:!0});const e=bs.__importDefault(fA());let r=class extends e.default{select(i){let a=!1;const o=(i??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:s,referencedTable:c=s}={}){const l=c?`${c}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:s=o}={}){const c=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(l,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:s=!1,wal:c=!1,format:l="text"}={}){var u;const d=[i?"analyze":null,a?"verbose":null,o?"settings":null,s?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${f}"; options=${d};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Dl.default=r,Dl}var n0;function Cg(){if(n0)return Ml;n0=1,Object.defineProperty(Ml,"__esModule",{value:!0});const e=bs.__importDefault(hA()),r=new RegExp("[,()]");let n=class extends e.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const s=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:s,type:c}={}){let l="";c==="plain"?l="pl":c==="phrase"?l="ph":c==="websearch"&&(l="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${l}fts${u}.${o}`),this}match(a){return Object.entries(a).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(a,o,s){return this.url.searchParams.append(a,`not.${o}.${s}`),this}or(a,{foreignTable:o,referencedTable:s=o}={}){const c=s?`${s}.or`:"or";return this.url.searchParams.append(c,`(${a})`),this}filter(a,o,s){return this.url.searchParams.append(a,`${o}.${s}`),this}};return Ml.default=n,Ml}var i0;function pA(){if(i0)return Il;i0=1,Object.defineProperty(Il,"__esModule",{value:!0});const e=bs.__importDefault(Cg());let r=class{constructor(i,{headers:a={},schema:o,fetch:s}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=s}select(i,a){const{head:o=!1,count:s}=a??{},c=o?"HEAD":"GET";let l=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var s;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const l=i.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:s,defaultToNull:c=!0}={}){var l;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),s&&this.headers.append("Prefer",`count=${s}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(i,{count:a}={}){var o;const s="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return Il.default=r,Il}var a0;function o2(){if(a0)return Rl;a0=1,Object.defineProperty(Rl,"__esModule",{value:!0});const t=bs,e=t.__importDefault(pA()),r=t.__importDefault(Cg());let n=class mA{constructor(a,{headers:o={},schema:s,fetch:c}={}){this.url=a,this.headers=new Headers(o),this.schemaName=s,this.fetch=c}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new mA(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:s=!1,get:c=!1,count:l}={}){var u;let d;const f=new URL(`${this.url}/rpc/${a}`);let h;s||c?(d=s?"HEAD":"GET",Object.entries(o).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{f.searchParams.append(m,v)})):(d="POST",h=o);const g=new Headers(this.headers);return l&&g.set("Prefer",`count=${l}`),new r.default({method:d,url:f,headers:g,schema:this.schemaName,body:h,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return Rl.default=n,Rl}Object.defineProperty(At,"__esModule",{value:!0});At.PostgrestError=At.PostgrestBuilder=At.PostgrestTransformBuilder=At.PostgrestFilterBuilder=At.PostgrestQueryBuilder=At.PostgrestClient=void 0;const ws=bs,vA=ws.__importDefault(o2());At.PostgrestClient=vA.default;const gA=ws.__importDefault(pA());At.PostgrestQueryBuilder=gA.default;const yA=ws.__importDefault(Cg());At.PostgrestFilterBuilder=yA.default;const bA=ws.__importDefault(hA());At.PostgrestTransformBuilder=bA.default;const wA=ws.__importDefault(fA());At.PostgrestBuilder=wA.default;const xA=ws.__importDefault(dA());At.PostgrestError=xA.default;At.default={PostgrestClient:vA.default,PostgrestQueryBuilder:gA.default,PostgrestFilterBuilder:yA.default,PostgrestTransformBuilder:bA.default,PostgrestBuilder:wA.default,PostgrestError:xA.default};class _A{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const s2="2.87.1",c2=`realtime-js/${s2}`,SA="1.0.0",l2="2.0.0",o0=SA,rm=1e4,u2=1e3,d2=100;var Hi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Hi||(Hi={}));var tt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(tt||(tt={}));var Cr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Cr||(Cr={}));var nm;(function(t){t.websocket="websocket"})(nm||(nm={}));var Ki;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ki||(Ki={}));class f2{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var i,a;const o=e.topic,s=(i=e.ref)!==null&&i!==void 0?i:"",c=(a=e.join_ref)!==null&&a!==void 0?a:"",l=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+s.length+o.length+l.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+f);let g=new DataView(h),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,c.length),g.setUint8(m++,s.length),g.setUint8(m++,o.length),g.setUint8(m++,l.length),g.setUint8(m++,d.length),g.setUint8(m++,r),Array.from(c,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(s,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(l,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(d,b=>g.setUint8(m++,b.charCodeAt(0)));var v=new Uint8Array(h.byteLength+n.byteLength);return v.set(new Uint8Array(h),0),v.set(new Uint8Array(n),h.byteLength),v.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,a,o,s,c]=n;return r({join_ref:i,ref:a,topic:o,event:s,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),s=r.getUint8(4);let c=this.HEADER_LENGTH+4;const l=n.decode(e.slice(c,c+i));c=c+i;const u=n.decode(e.slice(c,c+a));c=c+a;const d=n.decode(e.slice(c,c+o));c=c+o;const f=e.slice(c,e.byteLength),h=s===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,g={type:this.BROADCAST_EVENT,event:u,payload:h};return o>0&&(g.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class OA{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Fe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Fe||(Fe={}));const s0=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,o)=>(a[o]=h2(o,t,e,i),a),{}):{}},h2=(t,e,r,n)=>{const i=e.find(s=>s.name===t),a=i==null?void 0:i.type,o=r[t];return a&&!n.includes(a)?AA(a,o):im(o)},AA=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return g2(e,r)}switch(t){case Fe.bool:return p2(e);case Fe.float4:case Fe.float8:case Fe.int2:case Fe.int4:case Fe.int8:case Fe.numeric:case Fe.oid:return m2(e);case Fe.json:case Fe.jsonb:return v2(e);case Fe.timestamp:return y2(e);case Fe.abstime:case Fe.date:case Fe.daterange:case Fe.int4range:case Fe.int8range:case Fe.money:case Fe.reltime:case Fe.text:case Fe.time:case Fe.timestamptz:case Fe.timetz:case Fe.tsrange:case Fe.tstzrange:return im(e);default:return im(e)}},im=t=>t,p2=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},m2=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},v2=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},g2=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const o=t.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>AA(e,s))}return t},y2=t=>typeof t=="string"?t.replace(" ","T"):t,EA=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Dh{constructor(e,r,n={},i=rm){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var am;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(am||(am={}));let PA=class fu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fu.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=fu.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=fu.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),o=this.transformState(r),s={},c={};return this.map(a,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{const d=a[l];if(d){const f=u.map(v=>v.presence_ref),h=d.map(v=>v.presence_ref),g=u.filter(v=>h.indexOf(v.presence_ref)<0),m=d.filter(v=>f.indexOf(v.presence_ref)<0);g.length>0&&(s[l]=g),m.length>0&&(c[l]=m)}else s[l]=u}),this.syncDiff(a,{joins:s,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,c)=>{var l;const u=(l=e[s])!==null&&l!==void 0?l:[];if(e[s]=this.cloneDeep(c),u.length>0){const d=e[s].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);e[s].unshift(...f)}n(s,u,c)}),this.map(o,(s,c)=>{let l=e[s];if(!l)return;const u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[s]=l,i(s,l,c),l.length===0&&delete e[s]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var om;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(om||(om={}));var co;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(co||(co={}));var zr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(zr||(zr={}));const b2=tt;let jA=class Ys{constructor(e,r={config:{}},n){var i,a;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Dh(this,Cr.join,this.params,this.timeout),this.rejoinTimer=new OA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Cr.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new PA(this),this.broadcastEndpointURL=EA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==tt.closed){const{config:{broadcast:o,presence:s,private:c}}=this.params,l=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[co.PRESENCE]&&this.bindings[co.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(zr.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(zr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){e==null||e(zr.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,b=[];for(let w=0;w<v;w++){const y=m[w],{filter:{event:O,schema:_,table:S,filter:A}}=y,E=h&&h[w];if(E&&E.event===O&&Ys.isFilterValueEqual(E.schema,_)&&Ys.isFilterValueEqual(E.table,S)&&Ys.isFilterValueEqual(E.filter,A))b.push(Object.assign(Object.assign({},y),{id:E.id}));else{this.unsubscribe(),this.state=tt.errored,e==null||e(zr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(zr.SUBSCRIBED);return}}).receive("error",h=>{this.state=tt.errored,e==null||e(zr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(zr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===tt.joined&&e===co.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let c=s.statusText;try{const l=await s.json();c=l.error||l.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,c;const l=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),l.receive("ok",()=>a("ok")),l.receive("error",()=>a("error")),l.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=tt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Cr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Dh(this,Cr.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Dh(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>d2){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const o=e.toLocaleLowerCase(),{close:s,error:c,leave:l,join:u}=Cr;if(n&&[s,c,l,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var g,m,v;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=h.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(h=>h.callback(f,n)):(a=this.bindings[o])===null||a===void 0||a.filter(h=>{var g,m,v,b,w,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const O=h.id,_=(g=h.filter)===null||g===void 0?void 0:g.event;return O&&((m=r.ids)===null||m===void 0?void 0:m.includes(O))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const O=(w=(b=h==null?void 0:h.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return O==="*"||O===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:m,table:v,commit_timestamp:b,type:w,errors:y}=g;f=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:b,eventType:w,new:{},old:{},errors:y}),this._getPayloadRecords(g))}h.callback(f,n)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Ys.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Cr.close,{},e)}_onError(e){this._on(Cr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=s0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=s0(e.columns,e.old_record)),r}};const Lh=()=>{},Fl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},w2=[1e3,2e3,5e3,1e4],x2=1e4,_2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let S2=class{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rm,this.transport=null,this.heartbeatIntervalMs=Fl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lh,this.ref=0,this.reconnectTimer=null,this.vsn=o0,this.logger=Lh,this.conn=null,this.sendBuffer=[],this.serializer=new f2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${nm.websocket}`,this.httpEndpoint=EA(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_A.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Hi.connecting:return Ki.Connecting;case Hi.open:return Ki.Open;case Hi.closing:return Ki.Closing;default:return Ki.Closed}}isConnected(){return this.connectionState()===Ki.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new jA(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,o=()=>{this.encode(e,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(u2,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Fl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${s}`.trim(),a),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Hi.open||this.conn.readyState===Hi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Cr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([_2],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:c2};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Cr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new OA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,o,s,c,l,u,d,f,h;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:rm,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Fl.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:Lh,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:o0,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:g=>w2[g-1]||x2,this.vsn){case SA:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(g,m)=>m(JSON.stringify(g)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(g,m)=>m(JSON.parse(g));break;case l2:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const O2=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:b2,get REALTIME_LISTEN_TYPES(){return co},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return om},get REALTIME_PRESENCE_LISTEN_EVENTS(){return am},get REALTIME_SUBSCRIBE_STATES(){return zr},RealtimeChannel:jA,RealtimeClient:S2,RealtimePresence:PA,WebSocketFactory:_A},Symbol.toStringTag,{value:"Module"})),TA=dl(O2);class pl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ke(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class CA extends pl{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ku extends pl{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const kg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),A2=()=>Response,sm=t=>{if(Array.isArray(t))return t.map(r=>sm(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=sm(n)}),e},E2=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},P2=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Bh=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},j2=(t,e,r)=>re(void 0,void 0,void 0,function*(){const n=yield A2();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const a=t.status||500,o=(i==null?void 0:i.statusCode)||a+"";e(new CA(Bh(i),a,o))}).catch(i=>{e(new ku(Bh(i),i))}):e(new ku(Bh(t),t))}),T2=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(E2(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function ml(t,e,r,n,i,a){return re(this,void 0,void 0,function*(){return new Promise((o,s)=>{t(r,T2(e,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>j2(c,s,n))})})}function vc(t,e,r,n){return re(this,void 0,void 0,function*(){return ml(t,"GET",e,r,n)})}function Pr(t,e,r,n,i){return re(this,void 0,void 0,function*(){return ml(t,"POST",e,n,i,r)})}function cm(t,e,r,n,i){return re(this,void 0,void 0,function*(){return ml(t,"PUT",e,n,i,r)})}function C2(t,e,r,n){return re(this,void 0,void 0,function*(){return ml(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function $g(t,e,r,n,i){return re(this,void 0,void 0,function*(){return ml(t,"DELETE",e,n,i,r)})}class k2{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return re(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ke(e))return{data:null,error:e};throw e}})}}var kA;class $2{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[kA]="BlobDownloadBuilder",this.promise=null}asStream(){return new k2(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return re(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ke(e))return{data:null,error:e};throw e}})}}kA=Symbol.toStringTag;const N2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},c0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class R2{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=kg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return re(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},c0),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(c))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const l=this._removeEmptyFolders(r),u=this._getFinalPath(l),d=yield(e=="PUT"?cm:Pr)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}})}upload(e,r,n){return re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return re(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let c;const l=Object.assign({upsert:c0.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",l.cacheControl)):(c=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const d=yield cm(this.fetch,s.toString(),c,{headers:u});return{data:{path:a,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ke(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return re(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Pr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new pl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}update(e,r,n){return re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return re(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}})}copy(e,r,n){return re(this,void 0,void 0,function*(){try{return{data:{path:(yield Pr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return re(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Pr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return re(this,void 0,void 0,function*(){try{const i=yield Pr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(e),c=()=>vc(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new $2(c,this.shouldThrowOnError)}info(e){return re(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield vc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:sm(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}exists(e){return re(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield C2(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n)&&n instanceof ku){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${l}`)}}}remove(e){return re(this,void 0,void 0,function*(){try{return{data:yield $g(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}list(e,r,n){return re(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},N2),r),{prefix:e||""});return{data:yield Pr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}})}listV2(e,r){return re(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Pr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const $A="2.87.1",NA={"X-Client-Info":`storage-js/${$A}`};class I2{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},NA),r),this.fetch=kg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return re(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield vc(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}getBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield vc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}createBucket(e){return re(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Pr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return re(this,void 0,void 0,function*(){try{return{data:yield cm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}emptyBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}deleteBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield $g(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var gc=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function M2(t,e,r){const n=new URL(e,t);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function D2(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function L2(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:o}){const s=M2(t.baseUrl,n,i),c=await D2(t.auth),l=await e(s,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...o},body:a?JSON.stringify(a):void 0}),u=await l.text(),d=(l.headers.get("content-type")||"").includes("application/json"),f=d&&u?JSON.parse(u):u;if(!l.ok){const h=d?f:void 0,g=h==null?void 0:h.error;throw new gc((g==null?void 0:g.message)??`Request failed with status ${l.status}`,{status:l.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:h})}return{status:l.status,headers:l.headers,data:f}}}}function Ul(t){return t.join("")}var B2=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Ul(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ul(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ul(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ul(t.namespace)}`}),!0}catch(e){if(e instanceof gc&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof gc&&r.status===409)return;throw r}}};function Ia(t){return t.join("")}var F2=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ia(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ia(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ia(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ia(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ia(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ia(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof gc&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof gc&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},U2=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=L2({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new B2(this.client,e),this.tableOps=new F2(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class RA{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},NA),r),this.fetch=kg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}listBuckets(e){return re(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield vc(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}deleteBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield $g(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}from(e){if(!P2(e))throw new pl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new U2({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>re(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,o){const s=a[o];return typeof s!="function"?s:(...c)=>re(this,void 0,void 0,function*(){try{return{data:yield s.apply(a,c),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}})}})}}const Ng={"X-Client-Info":`storage-js/${$A}`,"Content-Type":"application/json"};class Rg extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Bt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class hu extends Rg{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class IA extends Rg{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var lm;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(lm||(lm={}));const hf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),W2=()=>Response,MA=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},z2=t=>Array.from(new Float32Array(t)),q2=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},l0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),H2=(t,e,r)=>re(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(o=>{const s=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new hu(l0(o),i,s))}).catch(()=>{const o=i+"",s=a.statusText||`HTTP ${i} error`;e(new hu(s,i,o))});else{const o=i+"",s=a.statusText||`HTTP ${i} error`;e(new hu(s,i,o))}}else e(new IA(l0(t),t))}),K2=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(MA(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function V2(t,e,r,n,i,a){return re(this,void 0,void 0,function*(){return new Promise((o,s)=>{t(r,K2(e,n,i,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const l=c.headers.get("content-type");return!l||!l.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>H2(c,s,n))})})}function Yt(t,e,r,n,i){return re(this,void 0,void 0,function*(){return V2(t,"POST",e,n,i,r)})}class DA{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ng),r),this.fetch=hf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return re(this,void 0,void 0,function*(){try{return{data:(yield Yt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}getIndex(e,r){return re(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}listIndexes(e){return re(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return re(this,void 0,void 0,function*(){try{return{data:(yield Yt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}}class LA{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ng),r),this.fetch=hf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return re(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Yt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}getVectors(e){return re(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}listVectors(e){return re(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Yt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}queryVectors(e){return re(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}deleteVectors(e){return re(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Yt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}}class BA{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ng),r),this.fetch=hf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return re(this,void 0,void 0,function*(){try{return{data:(yield Yt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}getBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}listBuckets(){return re(this,arguments,void 0,function*(e={}){try{return{data:yield Yt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return re(this,void 0,void 0,function*(){try{return{data:(yield Yt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}}class FA extends BA{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new UA(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return re(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return re(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return re(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return re(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class UA extends DA{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return re(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return re(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return re(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return re(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new WA(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class WA extends LA{constructor(e,r,n,i,a){super(e,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return re(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return re(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return re(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return re(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return re(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class G2 extends I2{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new R2(this.url,this.headers,e,this.fetch)}get vectors(){return new FA(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new RA(this.url+"/iceberg",this.headers,this.fetch)}}const Y2=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:RA,StorageApiError:CA,StorageClient:G2,StorageError:pl,StorageUnknownError:ku,StorageVectorsApiError:hu,StorageVectorsClient:FA,StorageVectorsError:Rg,get StorageVectorsErrorCode(){return lm},StorageVectorsUnknownError:IA,VectorBucketApi:BA,VectorBucketScope:UA,VectorDataApi:LA,VectorIndexApi:DA,VectorIndexScope:WA,isPlainObject:MA,isStorageError:Ke,isStorageVectorsError:Bt,normalizeToFloat32:z2,resolveFetch:hf,resolveResponse:W2,validateVectorDimension:q2},Symbol.toStringTag,{value:"Module"})),X2=dl(Y2);var zA={},pf={};Object.defineProperty(pf,"__esModule",{value:!0});pf.version=void 0;pf.version="2.87.1";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=pf;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(zA);var qA={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const n=(i,a,o)=>{const s=(0,t.resolveFetch)(o),c=(0,t.resolveHeadersConstructor)();return async(l,u)=>{var d;const f=(d=await a())!==null&&d!==void 0?d:i;let h=new c(u==null?void 0:u.headers);return h.has("apikey")||h.set("apikey",i),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),s(l,Object.assign(Object.assign({},u),{headers:h}))}};t.fetchWithAuth=n})(qA);var Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.isBrowser=void 0;Oi.uuid=Q2;Oi.ensureTrailingSlash=HA;Oi.applySettingDefaults=Z2;Oi.validateSupabaseUrl=eL;function Q2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t=="x"?e:e&3|8;return r.toString(16)})}function HA(t){return t.endsWith("/")?t:t+"/"}const J2=()=>typeof window<"u";Oi.isBrowser=J2;function Z2(t,e){var r,n;const{db:i,auth:a,realtime:o,global:s}=t,{db:c,auth:l,realtime:u,global:d}=e,f={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},l),a),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function eL(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(HA(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var mf={};const KA="2.87.1",Ga=30*1e3,um=3,Fh=um*Ga,tL="http://localhost:9999",rL="supabase.auth.token",nL={"X-Client-Info":`gotrue-js/${KA}`},dm="X-Supabase-Api-Version",VA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aL=10*60*1e3;let No=class extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function ie(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let GA=class extends No{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function YA(t){return ie(t)&&t.name==="AuthApiError"}let Xn=class extends No{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},In=class extends No{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}},It=class extends In{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function XA(t){return ie(t)&&t.name==="AuthSessionMissingError"}let Li=class extends In{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Xs=class extends In{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Qs=class extends In{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function QA(t){return ie(t)&&t.name==="AuthImplicitGrantRedirectError"}let fm=class extends In{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},$u=class extends In{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function pu(t){return ie(t)&&t.name==="AuthRetryableFetchError"}let hm=class extends In{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function oL(t){return ie(t)&&t.name==="AuthWeakPasswordError"}let Nu=class extends In{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const Ru="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),u0=` 	
\r=`.split(""),sL=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<u0.length;e+=1)t[u0[e].charCodeAt(0)]=-2;for(let e=0;e<Ru.length;e+=1)t[Ru[e].charCodeAt(0)]=e;return t})();function d0(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ru[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ru[n]),e.queuedBits-=6}}function JA(t,e,r){const n=sL[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function f0(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{uL(o,n,r)};for(let o=0;o<t.length;o+=1)JA(t.charCodeAt(o),i,a);return e.join("")}function cL(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function lL(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}cL(n,e)}}function uL(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function lo(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)JA(t.charCodeAt(i),r,n);return new Uint8Array(e)}function dL(t){const e=[];return lL(t,r=>e.push(r)),new Uint8Array(e)}function Xi(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>d0(i,r,n)),d0(null,r,n),e.join("")}function fL(t){return Math.round(Date.now()/1e3)+t}function hL(){return Symbol("auth-callback")}const xt=()=>typeof window<"u"&&typeof document<"u",Ni={tested:!1,writable:!1},ZA=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ni.tested)return Ni.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ni.tested=!0,Ni.writable=!0}catch{Ni.tested=!0,Ni.writable=!1}return Ni.writable};function pL(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const eE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),mL=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ya=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ri=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},wt=async(t,e)=>{await t.removeItem(e)};class vf{constructor(){this.promise=new vf.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}vf.promiseConstructor=Promise;function Uh(t){const e=t.split(".");if(e.length!==3)throw new Nu("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!iL.test(e[n]))throw new Nu("JWT not in base64url format");return{header:JSON.parse(f0(e[0])),payload:JSON.parse(f0(e[1])),signature:lo(e[2]),raw:{header:e[0],payload:e[1]}}}async function vL(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function gL(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function yL(t){return("0"+t.toString(16)).substr(-2)}function bL(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,yL).join("")}async function wL(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function xL(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await wL(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ma(t,e,r=!1){const n=bL();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Ya(t,`${e}-code-verifier`,i);const a=await xL(n);return[a,n===a?"plain":"s256"]}const _L=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SL(t){const e=t.headers.get(dm);if(!e||!e.match(_L))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function OL(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function AL(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const EL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Da(t){if(!EL.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wh(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function PL(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function h0(t){return JSON.parse(JSON.stringify(t))}const Bi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jL=[502,503,504];async function p0(t){var e;if(!mL(t))throw new $u(Bi(t),0);if(jL.includes(t.status))throw new $u(Bi(t),t.status);let r;try{r=await t.json()}catch(a){throw new Xn(Bi(a),a)}let n;const i=SL(t);if(i&&i.getTime()>=VA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new hm(Bi(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new It}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new hm(Bi(r),t.status,r.weak_password.reasons);throw new GA(Bi(r),t.status||500,n)}const TL=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function de(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[dm]||(a[dm]=VA["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await CL(t,e,r+s,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function CL(t,e,r,n,i,a){const o=TL(e,n,i,a);let s;try{s=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new $u(Bi(c),0)}if(s.ok||await p0(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(c){await p0(c)}}function Ar(t){var e;let r=null;NL(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=fL(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function m0(t){const e=Ar(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Qn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function kL(t){return{data:t,error:null}}function $L(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,o=Si(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:s,user:c},error:null}}function v0(t){return t}function NL(t){return t.access_token&&t.refresh_token&&t.expires_in}const mu=["global","local","others"];let Ig=class{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=eE(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=mu[0]){if(mu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mu.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Qn})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Si(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:$L,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Qn})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,o,s,c;try{const l={nextPage:null,lastPage:0,total:0},u=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:v0});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(c=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);l[`${v}Page`]=m}),l.total=parseInt(f)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(ie(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Da(e);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Qn})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Da(e);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Qn})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Da(e);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Qn})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Da(e.userId);try{const{data:r,error:n}=await de(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Da(e.userId),Da(e.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,a,o,s,c;try{const l={nextPage:null,lastPage:0,total:0},u=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:v0});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(c=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);l[`${v}Page`]=m}),l.total=parseInt(f)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(ie(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}};function g0(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Fi={debug:!!(globalThis&&ZA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Mg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let tE=class extends Mg{};class RL extends Mg{}async function rE(t,e,r){Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new tE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Fi.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const y0={};async function IL(t,e,r){var n;const i=(n=y0[t])!==null&&n!==void 0?n:Promise.resolve(),a=Promise.race([i.catch(()=>null),e>=0?new Promise((o,s)=>{setTimeout(()=>{s(new RL(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return y0[t]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function ML(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function nE(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function DL(t){return parseInt(t,16)}function LL(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function BL(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:c,resources:l,scheme:u,uri:d,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const h=nE(t.address),g=u?`${u}://${n}`:n,m=t.statement?`${t.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${h}

${m}`;let b=`URI: ${d}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),s&&(b+=`
Not Before: ${s.toISOString()}`),c&&(b+=`
Request ID: ${c}`),l){let w=`
Resources:`;for(const y of l){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);w+=`
- ${y}`}b+=w}return`${v}
${b}`}class nt extends Error{constructor({message:e,code:r,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Iu extends nt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function FL({error:t,options:e}){var r,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(iE(o)){if(a.rp.id!==o)return new nt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function UL({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(iE(n)){if(r.rpId!==n)return new nt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class WL{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const zL=new WL;function qL(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Si(t,["challenge","user","excludeCredentials"]),a=lo(e).buffer,o=Object.assign(Object.assign({},r),{id:lo(r.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const l=n[c];s.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:lo(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function HL(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Si(t,["challenge","allowCredentials"]),i=lo(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:lo(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function KL(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Xi(new Uint8Array(t.response.attestationObject)),clientDataJSON:Xi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function VL(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Xi(new Uint8Array(i.authenticatorData)),clientDataJSON:Xi(new Uint8Array(i.clientDataJSON)),signature:Xi(new Uint8Array(i.signature)),userHandle:i.userHandle?Xi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function iE(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function b0(){var t,e;return!!(xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function GL(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Iu("Browser returned unexpected credential type",e)}:{data:null,error:new Iu("Empty credential response",e)}}catch(e){return{data:null,error:FL({error:e,options:t})}}}async function YL(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Iu("Browser returned unexpected credential type",e)}:{data:null,error:new Iu("Empty credential response",e)}}catch(e){return{data:null,error:UL({error:e,options:t})}}}const XL={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},QL={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Mu(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(e(o)){const s=n[a];e(s)?n[a]=Mu(s,o):n[a]=Mu(o)}else n[a]=o}return n}function JL(t,e){return Mu(XL,t,e||{})}function ZL(t,e){return Mu(QL,t,e||{})}class eB{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:s};const c=i??zL.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:l}=o.webauthn.credential_options.publicKey;l.name||(l.name=`${l.id}:${n}`),l.displayName||(l.displayName=l.name)}switch(o.webauthn.type){case"create":{const l=JL(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:u,error:d}=await GL({publicKey:l,signal:c});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const l=ZL(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:u,error:d}=await YL(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:l,signal:c}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(o){return ie(o)?{data:null,error:o}:{data:null,error:new Xn("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new No("rpId is required for WebAuthn authentication")};try{if(!b0())return{data:null,error:new Xn("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return ie(o)?{data:null,error:o}:{data:null,error:new Xn("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new No("rpId is required for WebAuthn registration")};try{if(!b0())return{data:null,error:new Xn("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:s};const{data:c,error:l}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:l}}catch(o){return ie(o)?{data:null,error:o}:{data:null,error:new Xn("Unexpected error in register",o)}}}}ML();const tB={url:tL,storageKey:rL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function w0(t,e,r){return await r()}const La={};let Dg=class pm{get jwks(){var e,r;return(r=(e=La[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){La[this.storageKey]=Object.assign(Object.assign({},La[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=La[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){La[this.storageKey]=Object.assign(Object.assign({},La[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},tB),e);if(this.storageKey=a.storageKey,this.instanceID=(r=pm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,pm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&xt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Ig({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=eE(a.fetch),this.lock=a.lock||w0,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&xt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=rE:this.lock=w0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new eB(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:ZA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=g0(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=g0(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${KA}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(xt()&&(r=pL(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),xt()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),QA(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ie(r)?this._returnResult({error:r}):this._returnResult({error:new Xn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ar}),{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:l,session:c},error:null})}catch(a){if(ie(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:u,password:d,options:f}=e;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await Ma(this.storage,this.storageKey)),a=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:g},xform:Ar})}else if("phone"in e){const{phone:u,password:d,options:f}=e;a=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ar})}else throw new Xs("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return await wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:l,session:c},error:null})}catch(a){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ie(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:o,options:s}=e;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:m0})}else if("phone"in e){const{phone:a,password:o,options:s}=e;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:m0})}else throw new Xs("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new Li;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,o,s,c,l,u,d,f;let h,g;if("message"in e)h=e.message,g=e.signature;else{const{chain:m,wallet:v,statement:b,options:w}=e;let y;if(xt())if(typeof v=="object")y=v;else{const j=window;if("ethereum"in j&&typeof j.ethereum=="object"&&"request"in j.ethereum&&typeof j.ethereum.request=="function")y=j.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=v}const O=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),_=await y.request({method:"eth_requestAccounts"}).then(j=>j).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=nE(_[0]);let A=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!A){const j=await y.request({method:"eth_chainId"});A=DL(j)}const E={domain:O.host,address:S,statement:b,uri:O.href,version:"1",chainId:A,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.resources};h=BL(E),g=await y.request({method:"personal_sign",params:[LL(h),S]})}try{const{data:m,error:v}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:g},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ar});if(v)throw v;if(!m||!m.session||!m.user){const b=new Li;return this._returnResult({data:{user:null,session:null},error:b})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:v})}catch(m){if(ie(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var r,n,i,a,o,s,c,l,u,d,f,h;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:v,wallet:b,statement:w,options:y}=e;let O;if(xt())if(typeof b=="object")O=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))O=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=b}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in O&&O.signIn){const S=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),w?{statement:w}:null));let A;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")A=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)A=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)g=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),m=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${_.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((d=(u=y==null?void 0:y.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...y.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const S=await O.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=S}}try{const{data:v,error:b}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Xi(m)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ar});if(b)throw b;if(!v||!v.session||!v.user){const w=new Li;return this._returnResult({data:{user:null,session:null},error:w})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if(ie(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(e){const r=await Ri(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ar});if(await wt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const s=new Li;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ie(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=e,s=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ar}),{data:c,error:l}=s;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c||!c.session||!c.user){const u=new Li;return this._returnResult({data:{user:null,session:null},error:u})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:l})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,a,o;try{if("email"in e){const{email:s,options:c}=e;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Ma(this.storage,this.storageKey));const{error:d}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:s,options:c}=e,{data:l,error:u}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new Xs("You must provide either an email or phone number.")}catch(s){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ar});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,l=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:l,session:c},error:null})}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,a,o;try{let s=null,c=null;this.flowType==="pkce"&&([s,c]=await Ma(this.storage,this.storageKey));const l=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:c}),headers:this.headers,xform:kL});return!((a=l.data)===null||a===void 0)&&a.url&&xt()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(s){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ie(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new It;const{error:i}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ie(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:o}=await de(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:o,error:s}=await de(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s})}throw new Xs("You must provide either an email or phone number and a type")}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ri(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Fh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Ri(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Wh()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=PL(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Qn}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new It}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Qn})})}catch(r){if(ie(r))return XA(r)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new It;const o=i.session;let s=null,c=null;this.flowType==="pkce"&&e.email!=null&&([s,c]=await Ma(this.storage,this.storageKey));const{data:l,error:u}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:c}),jwt:o.access_token,xform:Qn});if(u)throw u;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ie(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new It;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=Uh(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:s,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:s}=r;if(s)throw s;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new It;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!xt())throw new Qs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Qs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new fm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new fm("No code detected.");const{data:w,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:c,token_type:l}=e;if(!a||!s||!o||!l)throw new Qs("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(s);let f=u+d;c&&(f=parseInt(c));const h=f-u;h*1e3<=Ga&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const g=f-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:m,error:v}=await this._getUser(a);if(v)throw v;const b={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:d,expires_at:f,refresh_token:o,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:e.type},error:null})}catch(n){if(ie(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ri(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,e);if(s&&!(YA(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=hL(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Ma(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ie(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,c,l,u;const{data:d,error:f}=a;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return xt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ie(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:s,token:c,access_token:l,nonce:u}=e,d=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:c,access_token:l,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ar}),{data:f,error:h}=d;return h?this._returnResult({data:{user:null,session:null},error:h}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Li}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:h}))}catch(i){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await gL(async i=>(i>0&&await vL(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ar})),(i,a)=>{const o=200*Math.pow(2,i);return a&&pu(a)&&Date.now()+o-n<Ga})}catch(n){if(this._debug(r,"error",n),ie(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),xt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ri(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Ri(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Ya(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Wh()}else if(i&&!i.user&&!i.user){const o=await Ri(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await wt(this.storage,this.storageKey+"-user"),await Ya(this.storage,this.storageKey,i)):i.user=Wh()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Fh;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Fh}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),pu(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new It;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new vf;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new It;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),ie(a)){const o={data:null,error:a};return pu(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await wt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ya(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=h0(i);await Ya(this.storage,this.storageKey,a)}else{const i=h0(r);await Ya(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ga);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Ga);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ga}ms, refresh threshold is ${um} ticks`),i<=um&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Mg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Ma(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await de(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:l}=await de(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(e.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?KL(e.webauthn.credential_response):VL(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:c}=await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:c}))})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:qL(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:HL(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Uh(n.access_token);let o=null;a.aal&&(o=a.aal);let s=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const l=a.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:l},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new It})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new It});const o=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&xt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new It});const o=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&xt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new It})})}catch(e){if(ie(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new It})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+aL>i)return n;const{data:a,error:o}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:h,error:g}=await this.getSession();if(g||!h.session)return this._returnResult({data:null,error:g});n=h.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:c}}=Uh(n);r!=null&&r.allowExpired||OL(a.exp);const l=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!l){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:o},error:null}}const u=AL(i.alg),d=await crypto.subtle.importKey("jwk",l,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,dL(`${s}.${c}`)))throw new Nu("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}};Dg.nextInstanceID={};const rB=Ig,nB=Dg,iB=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:rB,AuthApiError:GA,AuthClient:nB,AuthError:No,AuthImplicitGrantRedirectError:Qs,AuthInvalidCredentialsError:Xs,AuthInvalidJwtError:Nu,AuthInvalidTokenResponseError:Li,AuthPKCEGrantCodeExchangeError:fm,AuthRetryableFetchError:$u,AuthSessionMissingError:It,AuthUnknownError:Xn,AuthWeakPasswordError:hm,CustomAuthError:In,GoTrueAdminApi:Ig,GoTrueClient:Dg,NavigatorLockAcquireTimeoutError:tE,SIGN_OUT_SCOPES:mu,isAuthApiError:YA,isAuthError:ie,isAuthImplicitGrantRedirectError:QA,isAuthRetryableFetchError:pu,isAuthSessionMissingError:XA,isAuthWeakPasswordError:oL,lockInternals:Fi,navigatorLock:rE,processLock:IL},Symbol.toStringTag,{value:"Module"})),aE=dl(iB);Object.defineProperty(mf,"__esModule",{value:!0});mf.SupabaseAuthClient=void 0;const aB=aE;class oB extends aB.AuthClient{constructor(e){super(e)}}mf.SupabaseAuthClient=oB;Object.defineProperty(ju,"__esModule",{value:!0});const sB=uA,cB=At,lB=TA,uB=X2,Wl=zA,dB=qA,x0=Oi,fB=mf;let hB=class{constructor(e,r,n){var i,a,o;this.supabaseUrl=e,this.supabaseKey=r;const s=(0,x0.validateSupabaseUrl)(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const c=`sb-${s.hostname.split(".")[0]}-auth-token`,l={db:Wl.DEFAULT_DB_OPTIONS,realtime:Wl.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},Wl.DEFAULT_AUTH_OPTIONS),{storageKey:c}),global:Wl.DEFAULT_GLOBAL_OPTIONS},u=(0,x0.applySettingDefaults)(n??{},l);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=(0,dB.fetchWithAuth)(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new cB.PostgrestClient(new URL("rest/v1",s).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new uB.StorageClient(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new sB.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:o,flowType:s,lock:c,debug:l,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fB.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:s,lock:c,debug:l,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new lB.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};ju.default=hB;(function(t){var e=Gr&&Gr.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f);var g=Object.getOwnPropertyDescriptor(d,f);(!g||("get"in g?!d.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return d[f]}}),Object.defineProperty(u,h,g)}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),r=Gr&&Gr.__exportStar||function(u,d){for(var f in u)f!=="default"&&!Object.prototype.hasOwnProperty.call(d,f)&&e(d,u,f)},n=Gr&&Gr.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const i=n(ju);r(aE,t);var a=At;Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=uA;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(TA,t);var s=ju;Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return n(s).default}});const c=(u,d,f)=>new i.default(u,d,f);t.createClient=c;function l(){if(typeof window<"u"||typeof process>"u")return!1;const u=process.version;if(u==null)return!1;const d=u.match(/^v(\d+)\./);return d?parseInt(d[1],10)<=18:!1}l()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Pg);const oE=ke(Pg),pB=$N({__proto__:null,default:oE},[Pg]),{PostgrestError:Vhe,FunctionsHttpError:Ghe,FunctionsFetchError:Yhe,FunctionsRelayError:Xhe,FunctionsError:Qhe,FunctionRegion:Jhe,SupabaseClient:Zhe,createClient:mB,GoTrueAdminApi:epe,GoTrueClient:tpe,AuthAdminApi:rpe,AuthClient:npe,navigatorLock:ipe,NavigatorLockAcquireTimeoutError:ape,lockInternals:ope,processLock:spe,SIGN_OUT_SCOPES:cpe,AuthError:lpe,AuthApiError:upe,AuthUnknownError:dpe,CustomAuthError:fpe,AuthSessionMissingError:hpe,AuthInvalidTokenResponseError:ppe,AuthInvalidCredentialsError:mpe,AuthImplicitGrantRedirectError:vpe,AuthPKCEGrantCodeExchangeError:gpe,AuthRetryableFetchError:ype,AuthWeakPasswordError:bpe,AuthInvalidJwtError:wpe,isAuthError:xpe,isAuthApiError:_pe,isAuthSessionMissingError:Spe,isAuthImplicitGrantRedirectError:Ope,isAuthRetryableFetchError:Ape,isAuthWeakPasswordError:Epe,RealtimePresence:Ppe,RealtimeChannel:jpe,RealtimeClient:Tpe,REALTIME_LISTEN_TYPES:Cpe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:kpe,REALTIME_PRESENCE_LISTEN_EVENTS:$pe,REALTIME_SUBSCRIBE_STATES:Npe,REALTIME_CHANNEL_STATES:Rpe}=oE||pB;console.error("Missing VITE_SUPABASE_URL or VITE_SUPABASE_ANON/VITE_SUPABASE_PUBLISHABLE_KEY in environment variables.");const vB="https://placeholder.supabase.co",gB="placeholder-key",we=mB(vB,gB,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function Be(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function on(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Du(t,e){const r=Be(t);return isNaN(e)?on(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function sE(t,e){const r=Be(t);if(isNaN(e))return on(t,NaN);if(!e)return r;const n=r.getDate(),i=on(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const Lg=6048e5,yB=864e5;let bB={};function gf(){return bB}function pr(t,e){var s,c,l,u;const r=gf(),n=(e==null?void 0:e.weekStartsOn)??((c=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(l=r.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,i=Be(t),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Lu(t){return pr(t,{weekStartsOn:1})}function cE(t){const e=Be(t),r=e.getFullYear(),n=on(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Lu(n),a=on(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Lu(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Yr(t){const e=Be(t);return e.setHours(0,0,0,0),e}function Bu(t){const e=Be(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Bg(t,e){const r=Yr(t),n=Yr(e),i=+r-Bu(r),a=+n-Bu(n);return Math.round((i-a)/yB)}function wB(t){const e=cE(t),r=on(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Lu(r)}function xB(t,e){const r=e*7;return Du(t,r)}function _B(t,e){return sE(t,e*12)}function _0(t,e){const r=Yr(t),n=Yr(e);return+r==+n}function SB(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function OB(t){if(!SB(t)&&typeof t!="number")return!1;const e=Be(t);return!isNaN(Number(e))}function AB(t,e,r){const n=pr(t,r),i=pr(e,r),a=+n-Bu(n),o=+i-Bu(i);return Math.round((a-o)/Lg)}function EB(t,e){const r=Be(t),n=Be(e),i=S0(r,n),a=Math.abs(Bg(r,n));r.setDate(r.getDate()-i*a);const o=+(S0(r,n)===-i),s=i*(a-o);return s===0?0:s}function S0(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function Qa(t,e){const r=Be(t.start),n=Be(t.end);let i=+r>+n;const a=i?+r:+n,o=i?n:r;o.setHours(0,0,0,0);let s=1;const c=[];for(;+o<=a;)c.push(Be(o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return i?c.reverse():c}function Fg(t){const e=Be(t);return e.setDate(1),e.setHours(0,0,0,0),e}function lE(t){const e=Be(t),r=on(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function PB(t,e){const r=e==null?void 0:e.weekStartsOn,n=Be(t),i=n.getDay(),a=(i<r?-7:0)+6-(i-r);return n.setDate(n.getDate()+a),n.setHours(23,59,59,999),n}const jB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},TB=(t,e,r)=>{let n;const i=jB[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function uo(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const CB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$B={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},NB={date:uo({formats:CB,defaultWidth:"full"}),time:uo({formats:kB,defaultWidth:"full"}),dateTime:uo({formats:$B,defaultWidth:"full"})},RB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},IB=(t,e,r,n)=>RB[t];function Xr(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,s=r!=null&&r.width?String(r.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{const o=t.defaultWidth,s=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[s]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const MB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},DB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},LB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},BB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},FB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},UB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},WB=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},zB={ordinalNumber:WB,era:Xr({values:MB,defaultWidth:"wide"}),quarter:Xr({values:DB,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Xr({values:LB,defaultWidth:"wide"}),day:Xr({values:BB,defaultWidth:"wide"}),dayPeriod:Xr({values:FB,defaultWidth:"wide",formattingValues:UB,defaultFormattingWidth:"wide"})};function Qr(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],s=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(s)?HB(s,d=>d.test(o)):qB(s,d=>d.test(o));let l;l=t.valueCallback?t.valueCallback(c):c,l=r.valueCallback?r.valueCallback(l):l;const u=e.slice(o.length);return{value:l,rest:u}}}function qB(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function HB(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function uE(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const s=e.slice(i.length);return{value:o,rest:s}}}const KB=/^(\d+)(th|st|nd|rd)?/i,VB=/\d+/i,GB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},YB={any:[/^b/i,/^(a|c)/i]},XB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},QB={any:[/1/i,/2/i,/3/i,/4/i]},JB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ZB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},eF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},iF={ordinalNumber:uE({matchPattern:KB,parsePattern:VB,valueCallback:t=>parseInt(t,10)}),era:Qr({matchPatterns:GB,defaultMatchWidth:"wide",parsePatterns:YB,defaultParseWidth:"any"}),quarter:Qr({matchPatterns:XB,defaultMatchWidth:"wide",parsePatterns:QB,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Qr({matchPatterns:JB,defaultMatchWidth:"wide",parsePatterns:ZB,defaultParseWidth:"any"}),day:Qr({matchPatterns:eF,defaultMatchWidth:"wide",parsePatterns:tF,defaultParseWidth:"any"}),dayPeriod:Qr({matchPatterns:rF,defaultMatchWidth:"any",parsePatterns:nF,defaultParseWidth:"any"})},aF={code:"en-US",formatDistance:TB,formatLong:NB,formatRelative:IB,localize:zB,match:iF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function oF(t){const e=Be(t);return Bg(e,lE(e))+1}function sF(t){const e=Be(t),r=+Lu(e)-+wB(e);return Math.round(r/Lg)+1}function dE(t,e){var u,d,f,h;const r=Be(t),n=r.getFullYear(),i=gf(),a=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(f=i.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,o=on(t,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const s=pr(o,e),c=on(t,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const l=pr(c,e);return r.getTime()>=s.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function cF(t,e){var s,c,l,u;const r=gf(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(l=r.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??1,i=dE(t,e),a=on(t,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),pr(a,e)}function lF(t,e){const r=Be(t),n=+pr(r,e)-+cF(r,e);return Math.round(n/Lg)+1}function $e(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const qn={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return $e(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):$e(r+1,2)},d(t,e){return $e(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return $e(t.getHours()%12||12,e.length)},H(t,e){return $e(t.getHours(),e.length)},m(t,e){return $e(t.getMinutes(),e.length)},s(t,e){return $e(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return $e(i,e.length)}},Ba={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},O0={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return qn.y(t,e)},Y:function(t,e,r,n){const i=dE(t,n),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return $e(o,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):$e(a,e.length)},R:function(t,e){const r=cE(t);return $e(r,e.length)},u:function(t,e){const r=t.getFullYear();return $e(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return $e(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return $e(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return qn.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return $e(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=lF(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):$e(i,e.length)},I:function(t,e,r){const n=sF(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):$e(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):qn.d(t,e)},D:function(t,e,r){const n=oF(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):$e(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return $e(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return $e(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return $e(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Ba.noon:n===0?i=Ba.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Ba.evening:n>=12?i=Ba.afternoon:n>=4?i=Ba.morning:i=Ba.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return qn.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):qn.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):$e(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):$e(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):qn.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):qn.s(t,e)},S:function(t,e){return qn.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return E0(n);case"XXXX":case"XX":return Ui(n);case"XXXXX":case"XXX":default:return Ui(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return E0(n);case"xxxx":case"xx":return Ui(n);case"xxxxx":case"xxx":default:return Ui(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+A0(n,":");case"OOOO":default:return"GMT"+Ui(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+A0(n,":");case"zzzz":default:return"GMT"+Ui(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return $e(n,e.length)},T:function(t,e,r){const n=t.getTime();return $e(n,e.length)}};function A0(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+e+$e(a,2)}function E0(t,e){return t%60===0?(t>0?"-":"+")+$e(Math.abs(t)/60,2):Ui(t,e)}function Ui(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=$e(Math.trunc(n/60),2),a=$e(n%60,2);return r+i+e+a}const P0=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},fE=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},uF=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return P0(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",P0(n,e)).replace("{{time}}",fE(i,e))},dF={p:fE,P:uF},fF=/^D+$/,hF=/^Y+$/,pF=["D","DD","YY","YYYY"];function mF(t){return fF.test(t)}function vF(t){return hF.test(t)}function gF(t,e,r){const n=yF(t,e,r);if(console.warn(n),pF.includes(t))throw new RangeError(n)}function yF(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const bF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xF=/^'([^]*?)'?$/,_F=/''/g,SF=/[a-zA-Z]/;function Ve(t,e,r){var u,d,f,h,g,m,v,b;const n=gf(),i=(r==null?void 0:r.locale)??n.locale??aF,a=(r==null?void 0:r.firstWeekContainsDate)??((d=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((m=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((b=(v=n.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??0,s=Be(t);if(!OB(s))throw new RangeError("Invalid time value");let c=e.match(wF).map(w=>{const y=w[0];if(y==="p"||y==="P"){const O=dF[y];return O(w,i.formatLong)}return w}).join("").match(bF).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const y=w[0];if(y==="'")return{isToken:!1,value:OF(w)};if(O0[y])return{isToken:!0,value:w};if(y.match(SF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(c=i.localize.preprocessor(s,c));const l={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(w=>{if(!w.isToken)return w.value;const y=w.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&vF(y)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&mF(y))&&gF(y,e,String(t));const O=O0[y[0]];return O(s,y,i.localize,l)}).join("")}function OF(t){const e=t.match(xF);return e?e[1].replace(_F,"'"):t}function AF(t){return Be(t).getDate()}function EF(t){return Be(t).getDay()}function PF(t,e){const r=e==null?void 0:e.weekStartsOn,n=AF(t);if(isNaN(n))return NaN;const i=EF(Fg(t));let a=r-i;a<=0&&(a+=7);const o=n-a;return Math.ceil(o/7)+1}function jF(t){const e=Be(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function TF(t,e){return AB(jF(t),Fg(t),e)+1}function Ja(t,e){const r=Be(t),n=Be(e);return r.getTime()>n.getTime()}function Vi(t,e){const r=Be(t),n=Be(e);return+r<+n}function j0(t,e,r){const n=pr(t,r),i=pr(e,r);return+n==+i}function Ht(t,e){return Du(t,-e)}function CF(t,e){return sE(t,-e)}function kF(t,e){return xB(t,-e)}function $F(t,e){return _B(t,-e)}function Fa(t=new Date){return Ve(t,"yyyy-MM-dd")}function NF(t,e,r){return!(t<e||r&&t>r)}function hE(){const t=ys(),{data:e,isLoading:r}=ko({queryKey:["goals"],queryFn:async()=>{const{data:f,error:h}=await we.from("goals").select("*").order("created_at",{ascending:!0});if(h)throw Ye.error("Errore caricamento obiettivi"),h;return f}}),{data:n,isLoading:i}=ko({queryKey:["goal_logs"],queryFn:async()=>{let f=[],h=0;const g=1e3;let m=!0;for(;m;){const{data:v,error:b}=await we.from("goal_logs").select("*").range(h,h+g-1);if(b)throw console.error(b),b;v&&v.length>0?(f=[...f,...v],v.length<g?m=!1:h+=g):m=!1}return f}}),a={};n&&n.forEach(f=>{a[f.date]||(a[f.date]={}),a[f.date][f.goal_id]=f.status});const o=bn({mutationFn:async f=>{const{data:{session:h}}=await we.auth.getSession();if(!h)throw new Error("Non sei autenticato. Effettua il login.");const{data:g,error:m}=await we.from("goals").insert([{title:f.title,color:f.color,start_date:f.start_date||Fa(new Date),user_id:h.user.id}]).select().single();if(m)throw m;return g},onSuccess:()=>{t.invalidateQueries({queryKey:["goals"]}),Ye.success("Obiettivo creato")},onError:f=>{Ye.error("Errore creazione: "+f.message)}}),s=async f=>{const h=new Date;h.setDate(h.getDate()-1),await we.from("goals").update({end_date:Fa(h)}).eq("id",f)},c=bn({mutationFn:async f=>{const{count:h,error:g}=await we.from("goal_logs").select("*",{count:"exact",head:!0}).eq("goal_id",f);if(g)throw g;if(h&&h>0)await s(f);else try{const{error:m}=await we.from("goals").delete().eq("id",f);m&&(console.warn("Hard delete failed, falling back to soft delete",m),await s(f))}catch(m){console.warn("Hard delete exception, falling back to soft delete",m),await s(f)}},onSuccess:()=>{t.invalidateQueries({queryKey:["goals"]}),Ye.success("Obiettivo eliminato")},onError:f=>{Ye.error("Errore eliminazione: "+f.message)}}),l=bn({mutationFn:async()=>{const{data:{session:f}}=await we.auth.getSession();if(!f)throw new Error("Not authenticated");const{error:h}=await we.from("goal_logs").delete().eq("user_id",f.user.id);if(h)throw h;const{error:g}=await we.from("goals").delete().eq("user_id",f.user.id);if(g)throw g},onSuccess:()=>{t.invalidateQueries({queryKey:["goals"]}),t.invalidateQueries({queryKey:["goal_logs"]}),Ye.success("Reset completo effettuato")},onError:f=>{Ye.error("Errore reset: "+f.message)}}),u=(e||[]).filter(f=>!f.end_date||f.end_date>=Fa(new Date)),d=bn({mutationFn:async({goalId:f,date:h,currentStatus:g})=>{const m=Fa(h),{data:{session:v}}=await we.auth.getSession(),{data:b,error:w}=await we.from("goals").select("start_date, end_date").eq("id",f).single();if(w||!b)throw w||new Error("Goal not found");const y=b;if(!NF(m,y.start_date,y.end_date))throw new Error("Impossibile modificare un obiettivo fuori dal suo periodo di validit.");let O="done";if(g==="done"?O="missed":g==="missed"&&(O=null),O===null){const{error:_}=await we.from("goal_logs").delete().eq("goal_id",f).eq("date",m);if(_)throw _}else{const{error:_}=await we.from("goal_logs").upsert({goal_id:f,date:m,status:O,user_id:v==null?void 0:v.user.id},{onConflict:"goal_id, date"});if(_)throw _}return{goalId:f,dateStr:m,nextStatus:O}},onMutate:async({goalId:f,date:h,currentStatus:g})=>{await t.cancelQueries({queryKey:["goal_logs"]});const m=t.getQueryData(["goal_logs"]),v=Fa(h);let b="done";return g==="done"?b="missed":g==="missed"&&(b=null),t.setQueryData(["goal_logs"],w=>{if(!w)return[];const y=w.filter(O=>!(O.goal_id===f&&O.date===v));return b?[...y,{id:"temp-"+Date.now(),goal_id:f,date:v,status:b,created_at:"",updated_at:""}]:y}),{previousLogs:m}},onError:(f,h,g)=>{t.setQueryData(["goal_logs"],g==null?void 0:g.previousLogs),Ye.error("Errore aggiornamento")},onSettled:()=>{t.invalidateQueries({queryKey:["goal_logs"]})}});return{goals:u,allGoals:e||[],logs:a,rawLogs:n||[],isLoading:r||i,createGoal:o.mutate,deleteGoal:c.mutate,isDeleting:c.isPending,resetAllData:l.mutate,isResetting:l.isPending,toggleGoal:async(f,h)=>{var v;const g=Fa(f),m=((v=a[g])==null?void 0:v[h])||null;d.mutate({goalId:h,date:f,currentStatus:m})}}}const pE=x.createContext(void 0),RF=({children:t})=>{const[e,r]=x.useState(!1),n=()=>{r(i=>!i)};return p.jsx(pE.Provider,{value:{isPrivacyMode:e,setIsPrivacyMode:r,togglePrivacyMode:n},children:t})},Ug=()=>{const t=x.useContext(pE);if(t===void 0)throw new Error("usePrivacy must be used within a PrivacyProvider");return t},Wg=ag("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),it=x.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},a)=>{const o=n?SN:"button";return p.jsx(o,{className:Q(Wg({variant:e,size:r,className:t})),ref:a,...i})});it.displayName="Button";const IF={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"pi di un anno",other:"pi di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},MF=(t,e,r)=>{let n;const i=IF[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"tra "+n:n+" fa":n},DF={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},LF={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},BF={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},FF={date:uo({formats:DF,defaultWidth:"full"}),time:uo({formats:LF,defaultWidth:"full"}),dateTime:uo({formats:BF,defaultWidth:"full"})},zg=["domenica","luned","marted","mercoled","gioved","venerd","sabato"];function UF(t){switch(t){case 0:return"'domenica scorsa alle' p";default:return"'"+zg[t]+" scorso alle' p"}}function T0(t){return"'"+zg[t]+" alle' p"}function WF(t){switch(t){case 0:return"'domenica prossima alle' p";default:return"'"+zg[t]+" prossimo alle' p"}}const zF={lastWeek:(t,e,r)=>{const n=t.getDay();return j0(t,e,r)?T0(n):UF(n)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:(t,e,r)=>{const n=t.getDay();return j0(t,e,r)?T0(n):WF(n)},other:"P"},qF=(t,e,r,n)=>{const i=zF[t];return typeof i=="function"?i(e,r,n):i},HF={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},KF={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},VF={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},GF={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned","marted","mercoled","gioved","venerd","sabato"]},YF={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},XF={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},QF=(t,e)=>{const r=Number(t);return String(r)},JF={ordinalNumber:QF,era:Xr({values:HF,defaultWidth:"wide"}),quarter:Xr({values:KF,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Xr({values:VF,defaultWidth:"wide"}),day:Xr({values:GF,defaultWidth:"wide"}),dayPeriod:Xr({values:YF,defaultWidth:"wide",formattingValues:XF,defaultFormattingWidth:"wide"})},ZF=/^(\d+)()?/i,e5=/\d+/i,t5={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},r5={any:[/^a/i,/^(d|e)/i]},n5={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234]()? trimestre/i},i5={any:[/1/i,/2/i,/3/i,/4/i]},a5={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},o5={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},s5={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|]|marted[i|]|mercoled[i|]|gioved[i|]|venerd[i|]|sabato)/i},c5={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},l5={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},u5={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},d5={ordinalNumber:uE({matchPattern:ZF,parsePattern:e5,valueCallback:t=>parseInt(t,10)}),era:Qr({matchPatterns:t5,defaultMatchWidth:"wide",parsePatterns:r5,defaultParseWidth:"any"}),quarter:Qr({matchPatterns:n5,defaultMatchWidth:"wide",parsePatterns:i5,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Qr({matchPatterns:a5,defaultMatchWidth:"wide",parsePatterns:o5,defaultParseWidth:"any"}),day:Qr({matchPatterns:s5,defaultMatchWidth:"wide",parsePatterns:c5,defaultParseWidth:"any"}),dayPeriod:Qr({matchPatterns:l5,defaultMatchWidth:"any",parsePatterns:u5,defaultParseWidth:"any"})},Sn={code:"it",formatDistance:MF,formatLong:FF,formatRelative:qF,localize:JF,match:d5,options:{weekStartsOn:1,firstWeekContainsDate:4}};function pi(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var f5="DismissableLayer",mm="dismissableLayer.update",h5="dismissableLayer.pointerDownOutside",p5="dismissableLayer.focusOutside",C0,mE=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vE=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...c}=t,l=x.useContext(mE),[u,d]=x.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=x.useState({}),g=ge(e,A=>d(A)),m=Array.from(l.layers),[v]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(v),w=u?m.indexOf(u):-1,y=l.layersWithOutsidePointerEventsDisabled.size>0,O=w>=b,_=g5(A=>{const E=A.target,j=[...l.branches].some(T=>T.contains(E));!O||j||(i==null||i(A),o==null||o(A),A.defaultPrevented||s==null||s())},f),S=y5(A=>{const E=A.target;[...l.branches].some(T=>T.contains(E))||(a==null||a(A),o==null||o(A),A.defaultPrevented||s==null||s())},f);return f1(A=>{w===l.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&s&&(A.preventDefault(),s()))},f),x.useEffect(()=>{if(u)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(C0=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),k0(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=C0)}},[u,f,r,l]),x.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),k0())},[u,l]),x.useEffect(()=>{const A=()=>h({});return document.addEventListener(mm,A),()=>document.removeEventListener(mm,A)},[]),p.jsx(oe.div,{...c,ref:g,style:{pointerEvents:y?O?"auto":"none":void 0,...t.style},onFocusCapture:pi(t.onFocusCapture,S.onFocusCapture),onBlurCapture:pi(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:pi(t.onPointerDownCapture,_.onPointerDownCapture)})});vE.displayName=f5;var m5="DismissableLayerBranch",v5=x.forwardRef((t,e)=>{const r=x.useContext(mE),n=x.useRef(null),i=ge(e,n);return x.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),p.jsx(oe.div,{...t,ref:i})});v5.displayName=m5;function g5(t,e=globalThis==null?void 0:globalThis.document){const r=Ze(t),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let c=function(){gE(h5,r,l,{discrete:!0})};const l={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function y5(t,e=globalThis==null?void 0:globalThis.document){const r=Ze(t),n=x.useRef(!1);return x.useEffect(()=>{const i=a=>{a.target&&!n.current&&gE(p5,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function k0(){const t=new CustomEvent(mm);document.dispatchEvent(t)}function gE(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?sg(i,a):i.dispatchEvent(a)}var zh="focusScope.autoFocusOnMount",qh="focusScope.autoFocusOnUnmount",$0={bubbles:!1,cancelable:!0},b5="FocusScope",qg=x.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[s,c]=x.useState(null),l=Ze(i),u=Ze(a),d=x.useRef(null),f=ge(e,m=>c(m)),h=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let m=function(y){if(h.paused||!s)return;const O=y.target;s.contains(O)?d.current=O:Kn(d.current,{select:!0})},v=function(y){if(h.paused||!s)return;const O=y.relatedTarget;O!==null&&(s.contains(O)||Kn(d.current,{select:!0}))},b=function(y){if(document.activeElement===document.body)for(const _ of y)_.removedNodes.length>0&&Kn(s)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const w=new MutationObserver(b);return s&&w.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),w.disconnect()}}},[n,s,h.paused]),x.useEffect(()=>{if(s){R0.add(h);const m=document.activeElement;if(!s.contains(m)){const b=new CustomEvent(zh,$0);s.addEventListener(zh,l),s.dispatchEvent(b),b.defaultPrevented||(w5(A5(yE(s)),{select:!0}),document.activeElement===m&&Kn(s))}return()=>{s.removeEventListener(zh,l),setTimeout(()=>{const b=new CustomEvent(qh,$0);s.addEventListener(qh,u),s.dispatchEvent(b),b.defaultPrevented||Kn(m??document.body,{select:!0}),s.removeEventListener(qh,u),R0.remove(h)},0)}}},[s,l,u,h]);const g=x.useCallback(m=>{if(!r&&!n||h.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(v&&b){const w=m.currentTarget,[y,O]=x5(w);y&&O?!m.shiftKey&&b===O?(m.preventDefault(),r&&Kn(y,{select:!0})):m.shiftKey&&b===y&&(m.preventDefault(),r&&Kn(O,{select:!0})):b===w&&m.preventDefault()}},[r,n,h.paused]);return p.jsx(oe.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});qg.displayName=b5;function w5(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Kn(n,{select:e}),document.activeElement!==r)return}function x5(t){const e=yE(t),r=N0(e,t),n=N0(e.reverse(),t);return[r,n]}function yE(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function N0(t,e){for(const r of t)if(!_5(r,{upTo:e}))return r}function _5(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function S5(t){return t instanceof HTMLInputElement&&"select"in t}function Kn(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&S5(t)&&e&&t.select()}}var R0=O5();function O5(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=I0(t,e),t.unshift(e)},remove(e){var r;t=I0(t,e),(r=t[0])==null||r.resume()}}}function I0(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function A5(t){return t.filter(e=>e.tagName!=="A")}function E5(t,e){return x.useReducer((r,n)=>e[r][n]??r,t)}var yf=t=>{const{present:e,children:r}=t,n=P5(e),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),a=ge(n.ref,j5(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:a}):null};yf.displayName="Presence";function P5(t){const[e,r]=x.useState(),n=x.useRef(null),i=x.useRef(t),a=x.useRef("none"),o=t?"mounted":"unmounted",[s,c]=E5(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const l=zl(n.current);a.current=s==="mounted"?l:"none"},[s]),ot(()=>{const l=n.current,u=i.current;if(u!==t){const f=a.current,h=zl(l);t?c("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),ot(()=>{if(e){let l;const u=e.ownerDocument.defaultView??window,d=h=>{const m=zl(n.current).includes(CSS.escape(h.animationName));if(h.target===e&&m&&(c("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",l=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},f=h=>{h.target===e&&(a.current=zl(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(l),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:x.useCallback(l=>{n.current=l?getComputedStyle(l):null,r(l)},[])}}function zl(t){return(t==null?void 0:t.animationName)||"none"}function j5(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Hh=0;function T5(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??M0()),document.body.insertAdjacentElement("beforeend",t[1]??M0()),Hh++,()=>{Hh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Hh--}},[])}function M0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var vu="right-scroll-bar-position",gu="width-before-scroll-bar",C5="with-scroll-bars-hidden",k5="--removed-body-scroll-bar-size";function Kh(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function $5(t,e){var r=x.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var N5=typeof window<"u"?x.useLayoutEffect:x.useEffect,D0=new WeakMap;function R5(t,e){var r=$5(null,function(n){return t.forEach(function(i){return Kh(i,n)})});return N5(function(){var n=D0.get(r);if(n){var i=new Set(n),a=new Set(t),o=r.current;i.forEach(function(s){a.has(s)||Kh(s,null)}),a.forEach(function(s){i.has(s)||Kh(s,o)})}D0.set(r,t)},[t]),r}function I5(t){return t}function M5(t,e){e===void 0&&(e=I5);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(s){return a(s)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(a),o=r}var c=function(){var u=o;o=[],u.forEach(a)},l=function(){return Promise.resolve().then(c)};l(),r={push:function(u){o.push(u),l()},filter:function(u){return o=o.filter(u),r}}}};return i}function D5(t){t===void 0&&(t={});var e=M5(null);return e.options=cr({async:!0,ssr:!1},t),e}var bE=function(t){var e=t.sideCar,r=Si(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,cr({},r))};bE.isSideCarExport=!0;function L5(t,e){return t.useMedium(e),bE}var wE=D5(),Vh=function(){},bf=x.forwardRef(function(t,e){var r=x.useRef(null),n=x.useState({onScrollCapture:Vh,onWheelCapture:Vh,onTouchMoveCapture:Vh}),i=n[0],a=n[1],o=t.forwardProps,s=t.children,c=t.className,l=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,h=t.noRelative,g=t.noIsolation,m=t.inert,v=t.allowPinchZoom,b=t.as,w=b===void 0?"div":b,y=t.gapMode,O=Si(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=f,S=R5([r,e]),A=cr(cr({},O),i);return x.createElement(x.Fragment,null,u&&x.createElement(_,{sideCar:wE,removeScrollBar:l,shards:d,noRelative:h,noIsolation:g,inert:m,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:y}),o?x.cloneElement(x.Children.only(s),cr(cr({},A),{ref:S})):x.createElement(w,cr({},A,{className:c,ref:S}),s))});bf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bf.classNames={fullWidth:gu,zeroRight:vu};var B5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function F5(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=B5();return e&&t.setAttribute("nonce",e),t}function U5(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function W5(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var z5=function(){var t=0,e=null;return{add:function(r){t==0&&(e=F5())&&(U5(e,r),W5(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},q5=function(){var t=z5();return function(e,r){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},xE=function(){var t=q5(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},H5={left:0,top:0,right:0,gap:0},Gh=function(t){return parseInt(t||"",10)||0},K5=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Gh(r),Gh(n),Gh(i)]},V5=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return H5;var e=K5(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},G5=xE(),fo="data-scroll-locked",Y5=function(t,e,r,n){var i=t.left,a=t.top,o=t.right,s=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(C5,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(fo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vu,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(gu,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(vu," .").concat(vu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(gu," .").concat(gu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(fo,`] {
    `).concat(k5,": ").concat(s,`px;
  }
`)},L0=function(){var t=parseInt(document.body.getAttribute(fo)||"0",10);return isFinite(t)?t:0},X5=function(){x.useEffect(function(){return document.body.setAttribute(fo,(L0()+1).toString()),function(){var t=L0()-1;t<=0?document.body.removeAttribute(fo):document.body.setAttribute(fo,t.toString())}},[])},Q5=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;X5();var a=x.useMemo(function(){return V5(i)},[i]);return x.createElement(G5,{styles:Y5(a,!e,i,r?"":"!important")})},vm=!1;if(typeof window<"u")try{var ql=Object.defineProperty({},"passive",{get:function(){return vm=!0,!0}});window.addEventListener("test",ql,ql),window.removeEventListener("test",ql,ql)}catch{vm=!1}var Ua=vm?{passive:!1}:!1,J5=function(t){return t.tagName==="TEXTAREA"},_E=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!J5(t)&&r[e]==="visible")},Z5=function(t){return _E(t,"overflowY")},eU=function(t){return _E(t,"overflowX")},B0=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=SE(t,n);if(i){var a=OE(t,n),o=a[1],s=a[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},tU=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},rU=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},SE=function(t,e){return t==="v"?Z5(e):eU(e)},OE=function(t,e){return t==="v"?tU(e):rU(e)},nU=function(t,e){return t==="h"&&e==="rtl"?-1:1},iU=function(t,e,r,n,i){var a=nU(t,window.getComputedStyle(e).direction),o=a*n,s=r.target,c=e.contains(s),l=!1,u=o>0,d=0,f=0;do{if(!s)break;var h=OE(t,s),g=h[0],m=h[1],v=h[2],b=m-v-a*g;(g||b)&&SE(t,s)&&(d+=b,f+=g);var w=s.parentNode;s=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&s!==document.body||c&&(e.contains(s)||e===s));return(u&&(Math.abs(d)<1||!i)||!u&&(Math.abs(f)<1||!i))&&(l=!0),l},Hl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},F0=function(t){return[t.deltaX,t.deltaY]},U0=function(t){return t&&"current"in t?t.current:t},aU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},oU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},sU=0,Wa=[];function cU(t){var e=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),i=x.useState(sU++)[0],a=x.useState(xE)[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=Tg([t.lockRef.current],(t.shards||[]).map(U0),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=x.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var b=Hl(m),w=r.current,y="deltaX"in m?m.deltaX:w[0]-b[0],O="deltaY"in m?m.deltaY:w[1]-b[1],_,S=m.target,A=Math.abs(y)>Math.abs(O)?"h":"v";if("touches"in m&&A==="h"&&S.type==="range")return!1;var E=B0(A,S);if(!E)return!0;if(E?_=A:(_=A==="v"?"h":"v",E=B0(A,S)),!E)return!1;if(!n.current&&"changedTouches"in m&&(y||O)&&(n.current=_),!_)return!0;var j=n.current||_;return iU(j,v,m,j==="h"?y:O,!0)},[]),c=x.useCallback(function(m){var v=m;if(!(!Wa.length||Wa[Wa.length-1]!==a)){var b="deltaY"in v?F0(v):Hl(v),w=e.current.filter(function(_){return _.name===v.type&&(_.target===v.target||v.target===_.shadowParent)&&aU(_.delta,b)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var y=(o.current.shards||[]).map(U0).filter(Boolean).filter(function(_){return _.contains(v.target)}),O=y.length>0?s(v,y[0]):!o.current.noIsolation;O&&v.cancelable&&v.preventDefault()}}},[]),l=x.useCallback(function(m,v,b,w){var y={name:m,delta:v,target:b,should:w,shadowParent:lU(b)};e.current.push(y),setTimeout(function(){e.current=e.current.filter(function(O){return O!==y})},1)},[]),u=x.useCallback(function(m){r.current=Hl(m),n.current=void 0},[]),d=x.useCallback(function(m){l(m.type,F0(m),m.target,s(m,t.lockRef.current))},[]),f=x.useCallback(function(m){l(m.type,Hl(m),m.target,s(m,t.lockRef.current))},[]);x.useEffect(function(){return Wa.push(a),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Ua),document.addEventListener("touchmove",c,Ua),document.addEventListener("touchstart",u,Ua),function(){Wa=Wa.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,Ua),document.removeEventListener("touchmove",c,Ua),document.removeEventListener("touchstart",u,Ua)}},[]);var h=t.removeScrollBar,g=t.inert;return x.createElement(x.Fragment,null,g?x.createElement(a,{styles:oU(i)}):null,h?x.createElement(Q5,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function lU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const uU=L5(wE,cU);var Hg=x.forwardRef(function(t,e){return x.createElement(bf,cr({},t,{ref:e,sideCar:uU}))});Hg.classNames=bf.classNames;var dU=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},za=new WeakMap,Kl=new WeakMap,Vl={},Yh=0,AE=function(t){return t&&(t.host||AE(t.parentNode))},fU=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=AE(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},hU=function(t,e,r,n){var i=fU(e,Array.isArray(t)?t:[t]);Vl[r]||(Vl[r]=new WeakMap);var a=Vl[r],o=[],s=new Set,c=new Set(i),l=function(d){!d||s.has(d)||(s.add(d),l(d.parentNode))};i.forEach(l);var u=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(f){if(s.has(f))u(f);else try{var h=f.getAttribute(n),g=h!==null&&h!=="false",m=(za.get(f)||0)+1,v=(a.get(f)||0)+1;za.set(f,m),a.set(f,v),o.push(f),m===1&&g&&Kl.set(f,!0),v===1&&f.setAttribute(r,"true"),g||f.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return u(e),s.clear(),Yh++,function(){o.forEach(function(d){var f=za.get(d)-1,h=a.get(d)-1;za.set(d,f),a.set(d,h),f||(Kl.has(d)||d.removeAttribute(n),Kl.delete(d)),h||d.removeAttribute(r)}),Yh--,Yh||(za=new WeakMap,za=new WeakMap,Kl=new WeakMap,Vl={})}},EE=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=dU(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),hU(n,i,r,"aria-hidden")):function(){return null}},wf="Dialog",[PE,jE]=Ut(wf),[pU,Br]=PE(wf),TE=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,s=x.useRef(null),c=x.useRef(null),[l,u]=Pn({prop:n,defaultProp:i??!1,onChange:a,caller:wf});return p.jsx(pU,{scope:e,triggerRef:s,contentRef:c,contentId:fi(),titleId:fi(),descriptionId:fi(),open:l,onOpenChange:u,onOpenToggle:x.useCallback(()=>u(d=>!d),[u]),modal:o,children:r})};TE.displayName=wf;var CE="DialogTrigger",kE=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Br(CE,r),a=ge(e,i.triggerRef);return p.jsx(oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Gg(i.open),...n,ref:a,onClick:pi(t.onClick,i.onOpenToggle)})});kE.displayName=CE;var Kg="DialogPortal",[mU,$E]=PE(Kg,{forceMount:void 0}),NE=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=Br(Kg,e);return p.jsx(mU,{scope:e,forceMount:r,children:x.Children.map(n,o=>p.jsx(yf,{present:r||a.open,children:p.jsx(Zd,{asChild:!0,container:i,children:o})}))})};NE.displayName=Kg;var Fu="DialogOverlay",RE=x.forwardRef((t,e)=>{const r=$E(Fu,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Br(Fu,t.__scopeDialog);return a.modal?p.jsx(yf,{present:n||a.open,children:p.jsx(gU,{...i,ref:e})}):null});RE.displayName=Fu;var vU=fc("DialogOverlay.RemoveScroll"),gU=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Br(Fu,r);return p.jsx(Hg,{as:vU,allowPinchZoom:!0,shards:[i.contentRef],children:p.jsx(oe.div,{"data-state":Gg(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),ga="DialogContent",IE=x.forwardRef((t,e)=>{const r=$E(ga,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Br(ga,t.__scopeDialog);return p.jsx(yf,{present:n||a.open,children:a.modal?p.jsx(yU,{...i,ref:e}):p.jsx(bU,{...i,ref:e})})});IE.displayName=ga;var yU=x.forwardRef((t,e)=>{const r=Br(ga,t.__scopeDialog),n=x.useRef(null),i=ge(e,r.contentRef,n);return x.useEffect(()=>{const a=n.current;if(a)return EE(a)},[]),p.jsx(ME,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pi(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:pi(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:pi(t.onFocusOutside,a=>a.preventDefault())})}),bU=x.forwardRef((t,e)=>{const r=Br(ga,t.__scopeDialog),n=x.useRef(!1),i=x.useRef(!1);return p.jsx(ME,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,l;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((l=r.triggerRef.current)==null?void 0:l.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),ME=x.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,s=Br(ga,r),c=x.useRef(null),l=ge(e,c);return T5(),p.jsxs(p.Fragment,{children:[p.jsx(qg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:p.jsx(vE,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":Gg(s.open),...o,ref:l,onDismiss:()=>s.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(xU,{titleId:s.titleId}),p.jsx(SU,{contentRef:c,descriptionId:s.descriptionId})]})]})}),Vg="DialogTitle",DE=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Br(Vg,r);return p.jsx(oe.h2,{id:i.titleId,...n,ref:e})});DE.displayName=Vg;var LE="DialogDescription",BE=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Br(LE,r);return p.jsx(oe.p,{id:i.descriptionId,...n,ref:e})});BE.displayName=LE;var FE="DialogClose",UE=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Br(FE,r);return p.jsx(oe.button,{type:"button",...n,ref:e,onClick:pi(t.onClick,()=>i.onOpenChange(!1))})});UE.displayName=FE;function Gg(t){return t?"open":"closed"}var WE="DialogTitleWarning",[wU,zE]=BN(WE,{contentName:ga,titleName:Vg,docsSlug:"dialog"}),xU=({titleId:t})=>{const e=zE(WE),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},_U="DialogDescriptionWarning",SU=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zE(_U).contentName}}.`;return x.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},qE=TE,HE=kE,KE=NE,Yg=RE,Xg=IE,Qg=DE,Jg=BE,Zg=UE;const ey=qE,VE=HE,OU=KE,GE=x.forwardRef(({className:t,...e},r)=>p.jsx(Yg,{ref:r,className:Q("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));GE.displayName=Yg.displayName;const xf=x.forwardRef(({className:t,children:e,...r},n)=>p.jsxs(OU,{children:[p.jsx(GE,{}),p.jsxs(Xg,{ref:n,className:Q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,p.jsxs(Zg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[p.jsx(fg,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xf.displayName=Xg.displayName;const _f=({className:t,...e})=>p.jsx("div",{className:Q("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});_f.displayName="DialogHeader";const YE=({className:t,...e})=>p.jsx("div",{className:Q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});YE.displayName="DialogFooter";const Sf=x.forwardRef(({className:t,...e},r)=>p.jsx(Qg,{ref:r,className:Q("text-lg font-semibold leading-none tracking-tight",t),...e}));Sf.displayName=Qg.displayName;const Of=x.forwardRef(({className:t,...e},r)=>p.jsx(Jg,{ref:r,className:Q("text-sm text-muted-foreground",t),...e}));Of.displayName=Jg.displayName;function XE({date:t,isOpen:e,onClose:r,habits:n,records:i,onToggleHabit:a,isPrivacyMode:o=!1}){if(!t)return null;const s=Ve(t,"yyyy-MM-dd"),c=n.filter(l=>{const u=l.start_date<=s,d=!l.end_date||l.end_date>=s;return u&&d});return p.jsx(ey,{open:e,onOpenChange:r,children:p.jsxs(xf,{className:"sm:max-w-[400px]",children:[p.jsxs(_f,{children:[p.jsx(Sf,{className:"text-xl font-display capitalize",children:Ve(t,"EEEE d MMMM",{locale:Sn})}),p.jsx(Of,{className:"sr-only",children:"Dettagli delle attivit giornaliere"})]}),p.jsx("div",{className:"py-2",children:p.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:p.jsx("div",{className:"space-y-3 pr-4",children:c.map(l=>{const d=(i[s]||{})[l.id],f=d==="done",h=d==="missed";return p.jsxs("div",{onClick:()=>a(l.id),className:Q("flex items-center justify-between p-3 rounded-xl border transition-all cursor-pointer","hover:shadow-md hover:scale-[1.02] active:scale-[0.98]",f&&"bg-success/15 border-success/30",h&&"bg-destructive/15 border-destructive/30",!d&&"bg-card hover:bg-accent border-border"),children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"h-3 w-3 rounded-full ring-2 ring-offset-2 ring-offset-background",style:{backgroundColor:l.color}}),p.jsx("span",{className:Q("font-medium transition-colors transition-all duration-300",(f||h)&&"text-foreground",o&&"blur-sm"),children:l.title})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[f&&p.jsx(rf,{className:"h-5 w-5 text-success"}),h&&p.jsx(fg,{className:"h-5 w-5 text-destructive"}),!d&&p.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-muted-foreground/30"})]})]},l.id)})})})})]})})}const AU=["Lun","Mar","Mer","Gio","Ven","Sab","Dom"],EU=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"];function PU({habits:t,records:e,onToggleHabit:r,isPrivacyMode:n=!1}){const[i,a]=x.useState(new Date),[o,s]=x.useState(null),c=i.getFullYear(),l=i.getMonth(),u=new Date(c,l,1),d=new Date(c,l+1,0);let f=u.getDay()-1;f<0&&(f=6);const h=d.getDate(),g=new Date,m=()=>a(new Date(c,l-1,1)),v=()=>a(new Date(c,l+1,1)),b=()=>a(new Date),w=_=>g.getDate()===_&&g.getMonth()===l&&g.getFullYear()===c,y=_=>{const S=new Date(c,l,_),A=new Date(g.getFullYear(),g.getMonth(),g.getDate());return S>A},O=()=>{const _=[];for(let S=0;S<f;S++)_.push(p.jsx("div",{className:"aspect-square"},`empty-${S}`));for(let S=1;S<=h;S++){const A=new Date(c,l,S),E=Ve(A,"yyyy-MM-dd"),j=e[E]||{},T=y(S),C=t.filter(D=>{const z=D.start_date<=E,Y=!D.end_date||D.end_date>=E;return z&&Y}),k=C.filter(D=>j[D.id]==="done").length,L=C.filter(D=>j[D.id]==="missed").length,R=k+L,B=C.length;let $=0;B>0&&($=k/B);let M={};const F=R>0;if(F&&B>0){const D=Math.round($*142);M={backgroundColor:`hsl(${D}, 70%, 10%, 0.3)`,borderColor:`hsl(${D}, 80%, 40%, 0.5)`,boxShadow:$===1?`0 0 10px hsl(${D}, 80%, 40%, 0.2)`:"none"}}_.push(p.jsxs("button",{onClick:()=>!T&&s(A),disabled:T,style:M,className:Q("aspect-square rounded-xl flex flex-col items-center justify-start py-[clamp(4px,1vw,8px)] transition-all duration-300 relative border border-white/5 hover:border-white/20 hover:bg-white/5 group",T&&"opacity-30 cursor-not-allowed",w(S)&&!F&&"bg-white/5 ring-1 ring-primary/50"),children:[p.jsx("span",{className:Q("text-[clamp(0.7rem,2.5vw,0.9rem)] font-medium mb-[2px] font-mono-nums transition-all duration-300",w(S)&&"text-primary font-bold",F&&"text-foreground",n&&"blur-[2px]"),children:S}),p.jsx("div",{className:Q("flex flex-wrap items-center justify-center gap-0.5 px-1 w-full max-w-[80%] transition-all duration-300",n&&"blur-[1px]"),children:C.map(D=>{const z=j[D.id];return z?p.jsx("div",{className:Q("w-1 h-1 rounded-sm",z==="done"?"opacity-80":"opacity-0"),style:{backgroundColor:z==="done"?D.color:void 0}},D.id):null})})]},S))}return _};return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"w-full h-full p-4 sm:p-6 animate-scale-in",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx(it,{variant:"ghost",size:"icon",onClick:m,children:p.jsx(F1,{className:"h-5 w-5"})}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("h2",{className:"text-xl sm:text-2xl font-display font-bold",children:[EU[l]," ",p.jsx("span",{className:"text-muted-foreground font-light",children:c})]}),p.jsx(it,{variant:"ghost",size:"icon",onClick:b,className:"h-8 w-8 ml-2 opacity-0 hover:opacity-100 transition-opacity",children:p.jsx(qR,{className:"h-3 w-3"})})]}),p.jsx(it,{variant:"ghost",size:"icon",onClick:v,children:p.jsx(U1,{className:"h-5 w-5"})})]}),p.jsx("div",{className:"grid grid-cols-7 gap-[clamp(4px,1.5vw,12px)] mb-2",children:AU.map(_=>p.jsx("div",{className:"text-center text-[10px] sm:text-xs font-semibold text-muted-foreground uppercase tracking-wider py-2",children:_},_))}),p.jsx("div",{className:"grid grid-cols-7 gap-[clamp(4px,1.5vw,12px)]",children:O()})]}),p.jsx(XE,{isOpen:!!o,onClose:()=>s(null),date:o,habits:t,records:e,onToggleHabit:_=>o&&r(o,_),isPrivacyMode:n})]})}function jU({habits:t,records:e,onToggleHabit:r,isPrivacyMode:n=!1}){const i=x.useMemo(()=>new Date,[]),[a,o]=x.useState(new Date),s=x.useMemo(()=>pr(a,{weekStartsOn:1}),[a]),c=x.useMemo(()=>PB(a,{weekStartsOn:1}),[a]),[l,u]=x.useState(null),d=x.useMemo(()=>Array.from({length:7}).map((m,v)=>Du(s,v)),[s]),f=()=>{o(m=>Ht(m,7))},h=()=>{o(m=>Du(m,7))},g=x.useMemo(()=>{const m=Ve(s,"d",{locale:Sn}),v=Ve(c,"d MMMM",{locale:Sn});return`${m} - ${v}`},[s,c]);return _0(pr(i,{weekStartsOn:1}),s),p.jsxs("div",{className:"w-full h-full p-6 animate-scale-in",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx("h2",{className:"text-xl font-display font-bold capitalize",children:g}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-white/5 transition-colors active:scale-95",children:p.jsx(F1,{className:"w-5 h-5"})}),p.jsx("button",{onClick:h,className:"p-2 rounded-lg hover:bg-white/5 transition-colors active:scale-95",children:p.jsx(U1,{className:"w-5 h-5"})})]})]}),p.jsx("div",{className:"grid grid-cols-7 gap-2 sm:gap-4",children:d.map(m=>{const v=Ve(m,"yyyy-MM-dd"),b=e[v]||{},w=_0(m,i),y=new Date(i);y.setHours(0,0,0,0);const O=m>y;return p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("button",{onClick:()=>!O&&u(m),disabled:O,className:Q("text-center py-2 rounded-xl border border-transparent transition-all w-full",w&&"bg-primary/10 border-primary/20 text-primary",!O&&"hover:bg-white/5 hover:border-white/10 cursor-pointer active:scale-95",O&&"opacity-50 cursor-default"),children:[p.jsx("div",{className:"text-[10px] uppercase font-bold opacity-60",children:Ve(m,"EEE",{locale:Sn})}),p.jsx("div",{className:"text-lg font-mono font-bold",children:Ve(m,"d")})]}),p.jsx("div",{className:Q("flex flex-col gap-2 transition-all duration-300",n&&"blur-[2px]"),children:t.map(_=>{const S=_.start_date<=v,A=_.end_date&&_.end_date<v;if(!S||A)return p.jsx("div",{className:"aspect-square rounded-xl invisible"},_.id);const E=b[_.id];return p.jsx("button",{disabled:O,onClick:()=>r(m,_.id),className:Q("aspect-square rounded-xl border border-white/5 flex items-center justify-center transition-all hover:border-white/20",O&&"opacity-30 cursor-not-allowed",E==="done"&&"opacity-100 shadow-[0_0_10px_currentColor]",E==="missed"&&"opacity-50 grayscale",!E&&!O&&"bg-white/5"),style:{backgroundColor:E==="done"?_.color:void 0,color:_.color}},_.id)})})]},v)})}),p.jsx(XE,{isOpen:!!l,onClose:()=>u(null),date:l,habits:t,records:e,onToggleHabit:m=>l&&r(l,m),isPrivacyMode:n})]})}function TU({habits:t,records:e,onToggleHabit:r,isPrivacyMode:n=!1}){const i=new Date,a=Ve(i,"yyyy-MM-dd"),o=e[a]||{},s=t.filter(c=>{const l=c.start_date<=a,u=!c.end_date||c.end_date>=a;return l&&u});return p.jsxs("div",{className:"glass-panel rounded-3xl p-6 animate-scale-in max-w-lg mx-auto w-full",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h2",{className:"text-2xl font-display font-bold",children:"Focus Giornaliero"}),p.jsx("p",{className:"text-muted-foreground capitalize",children:Ve(i,"EEEE d MMMM",{locale:Sn})})]}),p.jsxs("div",{className:"space-y-3",children:[s.length===0&&p.jsxs("div",{className:"text-center py-12 border border-dashed border-white/10 rounded-xl",children:[p.jsx("p",{className:"text-muted-foreground",children:"Nessun obiettivo per oggi."}),p.jsx("p",{className:"text-xs text-muted-foreground/60 mt-1",children:"Aggiungine alcuni dalle impostazioni."})]}),s.map(c=>{const l=o[c.id];return p.jsxs("div",{onClick:()=>r(i,c.id),className:Q("group relative overflow-hidden p-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all cursor-pointer flex items-center justify-between",l==="done"&&"border-primary/20 bg-primary/5"),children:[p.jsx("div",{className:Q("absolute inset-0 opacity-0 transition-opacity duration-500",l==="done"&&"opacity-10"),style:{backgroundColor:c.color}}),p.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[p.jsx("div",{className:Q("w-8 h-8 rounded-lg border-2 flex items-center justify-center transition-all",l==="done"?"border-transparent text-black":"border-white/20 text-transparent"),style:{backgroundColor:l==="done"?c.color:"transparent",borderColor:l==="done"?void 0:c.color},children:p.jsx(rf,{className:"w-5 h-5"})}),p.jsx("span",{className:Q("text-lg font-medium transition-colors transition-all duration-300",l==="done"?"text-foreground":"text-muted-foreground group-hover:text-foreground",n&&"blur-sm"),children:c.title})]}),l==="missed"&&p.jsx("span",{className:"text-xs uppercase font-bold text-destructive tracking-widest px-2 py-1 rounded bg-destructive/10",children:"Saltato"})]},c.id)})]})]})}const Ro=x.forwardRef(({className:t,type:e,...r},n)=>p.jsx("input",{type:e,className:Q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Ro.displayName="Input";var CU="Label",QE=x.forwardRef((t,e)=>p.jsx(oe.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));QE.displayName=CU;var JE=QE;const kU=ag("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Io=x.forwardRef(({className:t,...e},r)=>p.jsx(JE,{ref:r,className:Q(kU(),t),...e}));Io.displayName=JE.displayName;function gm(t,[e,r]){return Math.min(r,Math.max(e,t))}var $U=x.createContext(void 0);function vl(t){const e=x.useContext($U);return t||e||"ltr"}var Xh=0;function NU(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??W0()),document.body.insertAdjacentElement("beforeend",t[1]??W0()),Xh++,()=>{Xh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Xh--}},[])}function W0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}function Af(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var RU=[" ","Enter","ArrowUp","ArrowDown"],IU=[" ","Enter"],ya="Select",[Ef,Pf,MU]=og(ya),[xs,Ipe]=Ut(ya,[MU,cf]),jf=cf(),[DU,Ai]=xs(ya),[LU,BU]=xs(ya),ZE=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:c,dir:l,name:u,autoComplete:d,disabled:f,required:h,form:g}=t,m=jf(e),[v,b]=x.useState(null),[w,y]=x.useState(null),[O,_]=x.useState(!1),S=vl(l),[A,E]=Pn({prop:n,defaultProp:i??!1,onChange:a,caller:ya}),[j,T]=Pn({prop:o,defaultProp:s,onChange:c,caller:ya}),C=x.useRef(null),k=v?g||!!v.closest("form"):!0,[L,R]=x.useState(new Set),B=Array.from(L).map($=>$.props.value).join(";");return p.jsx(JM,{...m,children:p.jsxs(DU,{required:h,scope:e,trigger:v,onTriggerChange:b,valueNode:w,onValueNodeChange:y,valueNodeHasChildren:O,onValueNodeHasChildrenChange:_,contentId:fi(),value:j,onValueChange:T,open:A,onOpenChange:E,dir:S,triggerPointerDownPosRef:C,disabled:f,children:[p.jsx(Ef.Provider,{scope:e,children:p.jsx(LU,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback($=>{R(M=>new Set(M).add($))},[]),onNativeOptionRemove:x.useCallback($=>{R(M=>{const F=new Set(M);return F.delete($),F})},[]),children:r})}),k?p.jsxs(SP,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:d,value:j,onChange:$=>T($.target.value),disabled:f,form:g,children:[j===void 0?p.jsx("option",{value:""}):null,Array.from(L)]},B):null]})})};ZE.displayName=ya;var eP="SelectTrigger",tP=x.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=jf(r),o=Ai(eP,r),s=o.disabled||n,c=ge(e,o.onTriggerChange),l=Pf(r),u=x.useRef("touch"),[d,f,h]=AP(m=>{const v=l().filter(y=>!y.disabled),b=v.find(y=>y.value===o.value),w=EP(v,m,b);w!==void 0&&o.onValueChange(w.value)}),g=m=>{s||(o.onOpenChange(!0),h()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return p.jsx(mO,{asChild:!0,...a,children:p.jsx(oe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":OP(o.value)?"":void 0,...i,ref:c,onClick:ae(i.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&g(m)}),onPointerDown:ae(i.onPointerDown,m=>{u.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:ae(i.onKeyDown,m=>{const v=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(v&&m.key===" ")&&RU.includes(m.key)&&(g(),m.preventDefault())})})})});tP.displayName=eP;var rP="SelectValue",nP=x.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...s}=t,c=Ai(rP,r),{onValueNodeHasChildrenChange:l}=c,u=a!==void 0,d=ge(e,c.onValueNodeChange);return ot(()=>{l(u)},[l,u]),p.jsx(oe.span,{...s,ref:d,style:{pointerEvents:"none"},children:OP(c.value)?p.jsx(p.Fragment,{children:o}):a})});nP.displayName=rP;var FU="SelectIcon",iP=x.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return p.jsx(oe.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});iP.displayName=FU;var UU="SelectPortal",aP=t=>p.jsx(Zd,{asChild:!0,...t});aP.displayName=UU;var ba="SelectContent",oP=x.forwardRef((t,e)=>{const r=Ai(ba,t.__scopeSelect),[n,i]=x.useState();if(ot(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?ps.createPortal(p.jsx(sP,{scope:t.__scopeSelect,children:p.jsx(Ef.Slot,{scope:t.__scopeSelect,children:p.jsx("div",{children:t.children})})}),a):null}return p.jsx(cP,{...t,ref:e})});oP.displayName=ba;var Er=10,[sP,Ei]=xs(ba),WU="SelectContentImpl",zU=fc("SelectContent.RemoveScroll"),cP=x.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:h,sticky:g,hideWhenDetached:m,avoidCollisions:v,...b}=t,w=Ai(ba,r),[y,O]=x.useState(null),[_,S]=x.useState(null),A=ge(e,X=>O(X)),[E,j]=x.useState(null),[T,C]=x.useState(null),k=Pf(r),[L,R]=x.useState(!1),B=x.useRef(!1);x.useEffect(()=>{if(y)return EE(y)},[y]),NU();const $=x.useCallback(X=>{const[he,...K]=k().map(U=>U.ref.current),[Z]=K.slice(-1),J=document.activeElement;for(const U of X)if(U===J||(U==null||U.scrollIntoView({block:"nearest"}),U===he&&_&&(_.scrollTop=0),U===Z&&_&&(_.scrollTop=_.scrollHeight),U==null||U.focus(),document.activeElement!==J))return},[k,_]),M=x.useCallback(()=>$([E,y]),[$,E,y]);x.useEffect(()=>{L&&M()},[L,M]);const{onOpenChange:F,triggerPointerDownPosRef:D}=w;x.useEffect(()=>{if(y){let X={x:0,y:0};const he=Z=>{var J,U;X={x:Math.abs(Math.round(Z.pageX)-(((J=D.current)==null?void 0:J.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((U=D.current)==null?void 0:U.y)??0))}},K=Z=>{X.x<=10&&X.y<=10?Z.preventDefault():y.contains(Z.target)||F(!1),document.removeEventListener("pointermove",he),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",K,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",K,{capture:!0})}}},[y,F,D]),x.useEffect(()=>{const X=()=>F(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[F]);const[z,Y]=AP(X=>{const he=k().filter(J=>!J.disabled),K=he.find(J=>J.ref.current===document.activeElement),Z=EP(he,X,K);Z&&setTimeout(()=>Z.ref.current.focus())}),q=x.useCallback((X,he,K)=>{const Z=!B.current&&!K;(w.value!==void 0&&w.value===he||Z)&&(j(X),Z&&(B.current=!0))},[w.value]),I=x.useCallback(()=>y==null?void 0:y.focus(),[y]),H=x.useCallback((X,he,K)=>{const Z=!B.current&&!K;(w.value!==void 0&&w.value===he||Z)&&C(X)},[w.value]),G=n==="popper"?ym:lP,fe=G===ym?{side:s,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:h,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return p.jsx(sP,{scope:r,content:y,viewport:_,onViewportChange:S,itemRefCallback:q,selectedItem:E,onItemLeave:I,itemTextRefCallback:H,focusSelectedItem:M,selectedItemText:T,position:n,isPositioned:L,searchRef:z,children:p.jsx(Hg,{as:zU,allowPinchZoom:!0,children:p.jsx(qg,{asChild:!0,trapped:w.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:ae(i,X=>{var he;(he=w.trigger)==null||he.focus({preventScroll:!0}),X.preventDefault()}),children:p.jsx(Jd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:p.jsx(G,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:X=>X.preventDefault(),...b,...fe,onPlaced:()=>R(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ae(b.onKeyDown,X=>{const he=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!he&&X.key.length===1&&Y(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let Z=k().filter(J=>!J.disabled).map(J=>J.ref.current);if(["ArrowUp","End"].includes(X.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const J=X.target,U=Z.indexOf(J);Z=Z.slice(U+1)}setTimeout(()=>$(Z)),X.preventDefault()}})})})})})})});cP.displayName=WU;var qU="SelectItemAlignedPosition",lP=x.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=Ai(ba,r),o=Ei(ba,r),[s,c]=x.useState(null),[l,u]=x.useState(null),d=ge(e,A=>u(A)),f=Pf(r),h=x.useRef(!1),g=x.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:b,focusSelectedItem:w}=o,y=x.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&l&&m&&v&&b){const A=a.trigger.getBoundingClientRect(),E=l.getBoundingClientRect(),j=a.valueNode.getBoundingClientRect(),T=b.getBoundingClientRect();if(a.dir!=="rtl"){const J=T.left-E.left,U=j.left-J,be=A.left-U,pe=A.width+be,je=Math.max(pe,E.width),Ae=window.innerWidth-Er,Ee=gm(U,[Er,Math.max(Er,Ae-je)]);s.style.minWidth=pe+"px",s.style.left=Ee+"px"}else{const J=E.right-T.right,U=window.innerWidth-j.right-J,be=window.innerWidth-A.right-U,pe=A.width+be,je=Math.max(pe,E.width),Ae=window.innerWidth-Er,Ee=gm(U,[Er,Math.max(Er,Ae-je)]);s.style.minWidth=pe+"px",s.style.right=Ee+"px"}const C=f(),k=window.innerHeight-Er*2,L=m.scrollHeight,R=window.getComputedStyle(l),B=parseInt(R.borderTopWidth,10),$=parseInt(R.paddingTop,10),M=parseInt(R.borderBottomWidth,10),F=parseInt(R.paddingBottom,10),D=B+$+L+F+M,z=Math.min(v.offsetHeight*5,D),Y=window.getComputedStyle(m),q=parseInt(Y.paddingTop,10),I=parseInt(Y.paddingBottom,10),H=A.top+A.height/2-Er,G=k-H,fe=v.offsetHeight/2,X=v.offsetTop+fe,he=B+$+X,K=D-he;if(he<=H){const J=C.length>0&&v===C[C.length-1].ref.current;s.style.bottom="0px";const U=l.clientHeight-m.offsetTop-m.offsetHeight,be=Math.max(G,fe+(J?I:0)+U+M),pe=he+be;s.style.height=pe+"px"}else{const J=C.length>0&&v===C[0].ref.current;s.style.top="0px";const be=Math.max(H,B+m.offsetTop+(J?q:0)+fe)+K;s.style.height=be+"px",m.scrollTop=he-H+m.offsetTop}s.style.margin=`${Er}px 0`,s.style.minHeight=z+"px",s.style.maxHeight=k+"px",n==null||n(),requestAnimationFrame(()=>h.current=!0)}},[f,a.trigger,a.valueNode,s,l,m,v,b,a.dir,n]);ot(()=>y(),[y]);const[O,_]=x.useState();ot(()=>{l&&_(window.getComputedStyle(l).zIndex)},[l]);const S=x.useCallback(A=>{A&&g.current===!0&&(y(),w==null||w(),g.current=!1)},[y,w]);return p.jsx(KU,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:h,onScrollButtonChange:S,children:p.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:p.jsx(oe.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});lP.displayName=qU;var HU="SelectPopperPosition",ym=x.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Er,...a}=t,o=jf(r);return p.jsx(vO,{...o,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ym.displayName=HU;var[KU,ty]=xs(ba,{}),bm="SelectViewport",uP=x.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=Ei(bm,r),o=ty(bm,r),s=ge(e,a.onViewportChange),c=x.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),p.jsx(Ef.Slot,{scope:r,children:p.jsx(oe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ae(i.onScroll,l=>{const u=l.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&d){const h=Math.abs(c.current-u.scrollTop);if(h>0){const g=window.innerHeight-Er*2,m=parseFloat(d.style.minHeight),v=parseFloat(d.style.height),b=Math.max(m,v);if(b<g){const w=b+h,y=Math.min(g,w),O=w-y;d.style.height=y+"px",d.style.bottom==="0px"&&(u.scrollTop=O>0?O:0,d.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});uP.displayName=bm;var dP="SelectGroup",[VU,GU]=xs(dP),YU=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=fi();return p.jsx(VU,{scope:r,id:i,children:p.jsx(oe.div,{role:"group","aria-labelledby":i,...n,ref:e})})});YU.displayName=dP;var fP="SelectLabel",hP=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=GU(fP,r);return p.jsx(oe.div,{id:i.id,...n,ref:e})});hP.displayName=fP;var Uu="SelectItem",[XU,pP]=xs(Uu),mP=x.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=t,s=Ai(Uu,r),c=Ei(Uu,r),l=s.value===n,[u,d]=x.useState(a??""),[f,h]=x.useState(!1),g=ge(e,w=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,w,n,i)}),m=fi(),v=x.useRef("touch"),b=()=>{i||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(XU,{scope:r,value:n,disabled:i,textId:m,isSelected:l,onItemTextChange:x.useCallback(w=>{d(y=>y||((w==null?void 0:w.textContent)??"").trim())},[]),children:p.jsx(Ef.ItemSlot,{scope:r,value:n,disabled:i,textValue:u,children:p.jsx(oe.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":l&&f,"data-state":l?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:g,onFocus:ae(o.onFocus,()=>h(!0)),onBlur:ae(o.onBlur,()=>h(!1)),onClick:ae(o.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:ae(o.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:ae(o.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:ae(o.onPointerMove,w=>{var y;v.current=w.pointerType,i?(y=c.onItemLeave)==null||y.call(c):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ae(o.onPointerLeave,w=>{var y;w.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:ae(o.onKeyDown,w=>{var O;((O=c.searchRef)==null?void 0:O.current)!==""&&w.key===" "||(IU.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});mP.displayName=Uu;var Js="SelectItemText",vP=x.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,o=Ai(Js,r),s=Ei(Js,r),c=pP(Js,r),l=BU(Js,r),[u,d]=x.useState(null),f=ge(e,b=>d(b),c.onItemTextChange,b=>{var w;return(w=s.itemTextRefCallback)==null?void 0:w.call(s,b,c.value,c.disabled)}),h=u==null?void 0:u.textContent,g=x.useMemo(()=>p.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=l;return ot(()=>(m(g),()=>v(g)),[m,v,g]),p.jsxs(p.Fragment,{children:[p.jsx(oe.span,{id:c.textId,...a,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ps.createPortal(a.children,o.valueNode):null]})});vP.displayName=Js;var gP="SelectItemIndicator",yP=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return pP(gP,r).isSelected?p.jsx(oe.span,{"aria-hidden":!0,...n,ref:e}):null});yP.displayName=gP;var wm="SelectScrollUpButton",bP=x.forwardRef((t,e)=>{const r=Ei(wm,t.__scopeSelect),n=ty(wm,t.__scopeSelect),[i,a]=x.useState(!1),o=ge(e,n.onScrollButtonChange);return ot(()=>{if(r.viewport&&r.isPositioned){let s=function(){const l=c.scrollTop>0;a(l)};const c=r.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?p.jsx(xP,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=r;s&&c&&(s.scrollTop=s.scrollTop-c.offsetHeight)}}):null});bP.displayName=wm;var xm="SelectScrollDownButton",wP=x.forwardRef((t,e)=>{const r=Ei(xm,t.__scopeSelect),n=ty(xm,t.__scopeSelect),[i,a]=x.useState(!1),o=ge(e,n.onScrollButtonChange);return ot(()=>{if(r.viewport&&r.isPositioned){let s=function(){const l=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<l;a(u)};const c=r.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?p.jsx(xP,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=r;s&&c&&(s.scrollTop=s.scrollTop+c.offsetHeight)}}):null});wP.displayName=xm;var xP=x.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=Ei("SelectScrollButton",r),o=x.useRef(null),s=Pf(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),ot(()=>{var u;const l=s().find(d=>d.ref.current===document.activeElement);(u=l==null?void 0:l.ref.current)==null||u.scrollIntoView({block:"nearest"})},[s]),p.jsx(oe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ae(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ae(i.onPointerMove,()=>{var l;(l=a.onItemLeave)==null||l.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ae(i.onPointerLeave,()=>{c()})})}),QU="SelectSeparator",_P=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return p.jsx(oe.div,{"aria-hidden":!0,...n,ref:e})});_P.displayName=QU;var _m="SelectArrow",JU=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=jf(r),a=Ai(_m,r),o=Ei(_m,r);return a.open&&o.position==="popper"?p.jsx(gO,{...i,...n,ref:e}):null});JU.displayName=_m;var ZU="SelectBubbleInput",SP=x.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=x.useRef(null),a=ge(n,i),o=Af(e);return x.useEffect(()=>{const s=i.current;if(!s)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&u){const d=new Event("change",{bubbles:!0});u.call(s,e),s.dispatchEvent(d)}},[o,e]),p.jsx(oe.select,{...r,style:{...v1,...r.style},ref:a,defaultValue:e})});SP.displayName=ZU;function OP(t){return t===""||t===void 0}function AP(t){const e=Ze(t),r=x.useRef(""),n=x.useRef(0),i=x.useCallback(o=>{const s=r.current+o;e(s),function c(l){r.current=l,window.clearTimeout(n.current),l!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(s)},[e]),a=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function EP(t,e,r){const i=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=e3(t,Math.max(a,0));i.length===1&&(o=o.filter(l=>l!==r));const c=o.find(l=>l.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function e3(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var t3=ZE,PP=tP,r3=nP,n3=iP,i3=aP,jP=oP,a3=uP,TP=hP,CP=mP,o3=vP,s3=yP,kP=bP,$P=wP,NP=_P;const Zs=t3,yu=r3,Za=x.forwardRef(({className:t,children:e,...r},n)=>p.jsxs(PP,{ref:n,className:Q("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,p.jsx(n3,{asChild:!0,children:p.jsx(B1,{className:"h-4 w-4 opacity-50"})})]}));Za.displayName=PP.displayName;const RP=x.forwardRef(({className:t,...e},r)=>p.jsx(kP,{ref:r,className:Q("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(kR,{className:"h-4 w-4"})}));RP.displayName=kP.displayName;const IP=x.forwardRef(({className:t,...e},r)=>p.jsx($P,{ref:r,className:Q("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(B1,{className:"h-4 w-4"})}));IP.displayName=$P.displayName;const eo=x.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>p.jsx(i3,{children:p.jsxs(jP,{ref:i,className:Q("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[p.jsx(RP,{}),p.jsx(a3,{className:Q("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx(IP,{})]})}));eo.displayName=jP.displayName;const c3=x.forwardRef(({className:t,...e},r)=>p.jsx(TP,{ref:r,className:Q("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));c3.displayName=TP.displayName;const Gn=x.forwardRef(({className:t,children:e,...r},n)=>p.jsxs(CP,{ref:n,className:Q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(s3,{children:p.jsx(rf,{className:"h-4 w-4"})})}),p.jsx(o3,{children:e})]}));Gn.displayName=CP.displayName;const l3=x.forwardRef(({className:t,...e},r)=>p.jsx(NP,{ref:r,className:Q("-mx-1 my-1 h-px bg-muted",t),...e}));l3.displayName=NP.displayName;function u3(t,e){return x.useReducer((r,n)=>e[r][n]??r,t)}var ry="ScrollArea",[MP,Mpe]=Ut(ry),[d3,vr]=MP(ry),DP=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...o}=t,[s,c]=x.useState(null),[l,u]=x.useState(null),[d,f]=x.useState(null),[h,g]=x.useState(null),[m,v]=x.useState(null),[b,w]=x.useState(0),[y,O]=x.useState(0),[_,S]=x.useState(!1),[A,E]=x.useState(!1),j=ge(e,C=>c(C)),T=vl(i);return p.jsx(d3,{scope:r,type:n,dir:T,scrollHideDelay:a,scrollArea:s,viewport:l,onViewportChange:u,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:g,scrollbarXEnabled:_,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:A,onScrollbarYEnabledChange:E,onCornerWidthChange:w,onCornerHeightChange:O,children:p.jsx(oe.div,{dir:T,...o,ref:j,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":y+"px",...t.style}})})});DP.displayName=ry;var LP="ScrollAreaViewport",BP=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:i,...a}=t,o=vr(LP,r),s=x.useRef(null),c=ge(e,s,o.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),p.jsx(oe.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:p.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});BP.displayName=LP;var un="ScrollAreaScrollbar",ny=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=vr(un,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,s=t.orientation==="horizontal";return x.useEffect(()=>(s?a(!0):o(!0),()=>{s?a(!1):o(!1)}),[s,a,o]),i.type==="hover"?p.jsx(f3,{...n,ref:e,forceMount:r}):i.type==="scroll"?p.jsx(h3,{...n,ref:e,forceMount:r}):i.type==="auto"?p.jsx(FP,{...n,ref:e,forceMount:r}):i.type==="always"?p.jsx(iy,{...n,ref:e}):null});ny.displayName=un;var f3=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=vr(un,t.__scopeScrollArea),[a,o]=x.useState(!1);return x.useEffect(()=>{const s=i.scrollArea;let c=0;if(s){const l=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",l),s.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),s.removeEventListener("pointerenter",l),s.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),p.jsx(cn,{present:r||a,children:p.jsx(FP,{"data-state":a?"visible":"hidden",...n,ref:e})})}),h3=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=vr(un,t.__scopeScrollArea),a=t.orientation==="horizontal",o=Cf(()=>c("SCROLL_END"),100),[s,c]=u3("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(s==="idle"){const l=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(l)}},[s,i.scrollHideDelay,c]),x.useEffect(()=>{const l=i.viewport,u=a?"scrollLeft":"scrollTop";if(l){let d=l[u];const f=()=>{const h=l[u];d!==h&&(c("SCROLL"),o()),d=h};return l.addEventListener("scroll",f),()=>l.removeEventListener("scroll",f)}},[i.viewport,a,c,o]),p.jsx(cn,{present:r||s!=="hidden",children:p.jsx(iy,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:ae(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ae(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),FP=x.forwardRef((t,e)=>{const r=vr(un,t.__scopeScrollArea),{forceMount:n,...i}=t,[a,o]=x.useState(!1),s=t.orientation==="horizontal",c=Cf(()=>{if(r.viewport){const l=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(s?l:u)}},10);return Mo(r.viewport,c),Mo(r.content,c),p.jsx(cn,{present:n||a,children:p.jsx(iy,{"data-state":a?"visible":"hidden",...i,ref:e})})}),iy=x.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,i=vr(un,t.__scopeScrollArea),a=x.useRef(null),o=x.useRef(0),[s,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=HP(s.viewport,s.content),u={...n,sizes:s,onSizesChange:c,hasThumb:l>0&&l<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function d(f,h){return b3(f,o.current,s,h)}return r==="horizontal"?p.jsx(p3,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const f=i.viewport.scrollLeft,h=z0(f,s,i.dir);a.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=d(f,i.dir))}}):r==="vertical"?p.jsx(m3,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const f=i.viewport.scrollTop,h=z0(f,s);a.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=d(f))}}):null}),p3=x.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=vr(un,t.__scopeScrollArea),[o,s]=x.useState(),c=x.useRef(null),l=ge(e,c,a.onScrollbarXChange);return x.useEffect(()=>{c.current&&s(getComputedStyle(c.current))},[c]),p.jsx(WP,{"data-orientation":"horizontal",...i,ref:l,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Tf(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(a.viewport){const f=a.viewport.scrollLeft+u.deltaX;t.onWheelScroll(f),VP(f,d)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:zu(o.paddingLeft),paddingEnd:zu(o.paddingRight)}})}})}),m3=x.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=vr(un,t.__scopeScrollArea),[o,s]=x.useState(),c=x.useRef(null),l=ge(e,c,a.onScrollbarYChange);return x.useEffect(()=>{c.current&&s(getComputedStyle(c.current))},[c]),p.jsx(WP,{"data-orientation":"vertical",...i,ref:l,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Tf(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(a.viewport){const f=a.viewport.scrollTop+u.deltaY;t.onWheelScroll(f),VP(f,d)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:zu(o.paddingTop),paddingEnd:zu(o.paddingBottom)}})}})}),[v3,UP]=MP(un),WP=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:c,onDragScroll:l,onWheelScroll:u,onResize:d,...f}=t,h=vr(un,r),[g,m]=x.useState(null),v=ge(e,j=>m(j)),b=x.useRef(null),w=x.useRef(""),y=h.viewport,O=n.content-n.viewport,_=Ze(u),S=Ze(c),A=Cf(d,10);function E(j){if(b.current){const T=j.clientX-b.current.left,C=j.clientY-b.current.top;l({x:T,y:C})}}return x.useEffect(()=>{const j=T=>{const C=T.target;(g==null?void 0:g.contains(C))&&_(T,O)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[y,g,O,_]),x.useEffect(S,[n,S]),Mo(g,A),Mo(h.content,A),p.jsx(v3,{scope:r,scrollbar:g,hasThumb:i,onThumbChange:Ze(a),onThumbPointerUp:Ze(o),onThumbPositionChange:S,onThumbPointerDown:Ze(s),children:p.jsx(oe.div,{...f,ref:v,style:{position:"absolute",...f.style},onPointerDown:ae(t.onPointerDown,j=>{j.button===0&&(j.target.setPointerCapture(j.pointerId),b.current=g.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),E(j))}),onPointerMove:ae(t.onPointerMove,E),onPointerUp:ae(t.onPointerUp,j=>{const T=j.target;T.hasPointerCapture(j.pointerId)&&T.releasePointerCapture(j.pointerId),document.body.style.webkitUserSelect=w.current,h.viewport&&(h.viewport.style.scrollBehavior=""),b.current=null})})})}),Wu="ScrollAreaThumb",zP=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=UP(Wu,t.__scopeScrollArea);return p.jsx(cn,{present:r||i.hasThumb,children:p.jsx(g3,{ref:e,...n})})}),g3=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...i}=t,a=vr(Wu,r),o=UP(Wu,r),{onThumbPositionChange:s}=o,c=ge(e,d=>o.onThumbChange(d)),l=x.useRef(void 0),u=Cf(()=>{l.current&&(l.current(),l.current=void 0)},100);return x.useEffect(()=>{const d=a.viewport;if(d){const f=()=>{if(u(),!l.current){const h=w3(d,s);l.current=h,s()}};return s(),d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[a.viewport,u,s]),p.jsx(oe.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ae(t.onPointerDownCapture,d=>{const h=d.target.getBoundingClientRect(),g=d.clientX-h.left,m=d.clientY-h.top;o.onThumbPointerDown({x:g,y:m})}),onPointerUp:ae(t.onPointerUp,o.onThumbPointerUp)})});zP.displayName=Wu;var ay="ScrollAreaCorner",qP=x.forwardRef((t,e)=>{const r=vr(ay,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?p.jsx(y3,{...t,ref:e}):null});qP.displayName=ay;var y3=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,i=vr(ay,r),[a,o]=x.useState(0),[s,c]=x.useState(0),l=!!(a&&s);return Mo(i.scrollbarX,()=>{var d;const u=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(u),c(u)}),Mo(i.scrollbarY,()=>{var d;const u=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),l?p.jsx(oe.div,{...n,ref:e,style:{width:a,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function zu(t){return t?parseInt(t,10):0}function HP(t,e){const r=t/e;return isNaN(r)?0:r}function Tf(t){const e=HP(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function b3(t,e,r,n="ltr"){const i=Tf(r),a=i/2,o=e||a,s=i-o,c=r.scrollbar.paddingStart+o,l=r.scrollbar.size-r.scrollbar.paddingEnd-s,u=r.content-r.viewport,d=n==="ltr"?[0,u]:[u*-1,0];return KP([c,l],d)(t)}function z0(t,e,r="ltr"){const n=Tf(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,o=e.content-e.viewport,s=a-n,c=r==="ltr"?[0,o]:[o*-1,0],l=gm(t,c);return KP([0,o],[0,s])(l)}function KP(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function VP(t,e){return t>0&&t<e}var w3=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function i(){const a={left:t.scrollLeft,top:t.scrollTop},o=r.left!==a.left,s=r.top!==a.top;(o||s)&&e(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function Cf(t,e){const r=Ze(t),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Mo(t,e){const r=Ze(e);ot(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}var GP=DP,x3=BP,_3=qP;const YP=x.forwardRef(({className:t,children:e,...r},n)=>p.jsxs(GP,{ref:n,className:Q("relative overflow-hidden",t),...r,children:[p.jsx(x3,{className:"h-full w-full rounded-[inherit]",children:e}),p.jsx(XP,{}),p.jsx(_3,{})]}));YP.displayName=GP.displayName;const XP=x.forwardRef(({className:t,orientation:e="vertical",...r},n)=>p.jsx(ny,{ref:n,orientation:e,className:Q("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:p.jsx(zP,{className:"relative flex-1 rounded-full bg-border"})}));XP.displayName=ny.displayName;function S3(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var QP="AlertDialog",[O3,Dpe]=Ut(QP,[jE]),Mn=jE(),JP=t=>{const{__scopeAlertDialog:e,...r}=t,n=Mn(e);return p.jsx(qE,{...n,...r,modal:!0})};JP.displayName=QP;var A3="AlertDialogTrigger",ZP=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Mn(r);return p.jsx(HE,{...i,...n,ref:e})});ZP.displayName=A3;var E3="AlertDialogPortal",ej=t=>{const{__scopeAlertDialog:e,...r}=t,n=Mn(e);return p.jsx(KE,{...n,...r})};ej.displayName=E3;var P3="AlertDialogOverlay",tj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Mn(r);return p.jsx(Yg,{...i,...n,ref:e})});tj.displayName=P3;var ho="AlertDialogContent",[j3,T3]=O3(ho),C3=c1("AlertDialogContent"),rj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,a=Mn(r),o=x.useRef(null),s=ge(e,o),c=x.useRef(null);return p.jsx(wU,{contentName:ho,titleName:nj,docsSlug:"alert-dialog",children:p.jsx(j3,{scope:r,cancelRef:c,children:p.jsxs(Xg,{role:"alertdialog",...a,...i,ref:s,onOpenAutoFocus:S3(i.onOpenAutoFocus,l=>{var u;l.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:l=>l.preventDefault(),onInteractOutside:l=>l.preventDefault(),children:[p.jsx(C3,{children:n}),p.jsx($3,{contentRef:o})]})})})});rj.displayName=ho;var nj="AlertDialogTitle",ij=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Mn(r);return p.jsx(Qg,{...i,...n,ref:e})});ij.displayName=nj;var aj="AlertDialogDescription",oj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Mn(r);return p.jsx(Jg,{...i,...n,ref:e})});oj.displayName=aj;var k3="AlertDialogAction",sj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Mn(r);return p.jsx(Zg,{...i,...n,ref:e})});sj.displayName=k3;var cj="AlertDialogCancel",lj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=T3(cj,r),a=Mn(r),o=ge(e,i);return p.jsx(Zg,{...a,...n,ref:o})});lj.displayName=cj;var $3=({contentRef:t})=>{const e=`\`${ho}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ho}\` by passing a \`${aj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ho}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},N3=JP,R3=ZP,I3=ej,uj=tj,dj=rj,fj=sj,hj=lj,pj=ij,mj=oj;const qu=N3,oy=R3,M3=I3,vj=x.forwardRef(({className:t,...e},r)=>p.jsx(uj,{className:Q("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));vj.displayName=uj.displayName;const yc=x.forwardRef(({className:t,...e},r)=>p.jsxs(M3,{children:[p.jsx(vj,{}),p.jsx(dj,{ref:r,className:Q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));yc.displayName=dj.displayName;const bc=({className:t,...e})=>p.jsx("div",{className:Q("flex flex-col space-y-2 text-center sm:text-left",t),...e});bc.displayName="AlertDialogHeader";const wc=({className:t,...e})=>p.jsx("div",{className:Q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});wc.displayName="AlertDialogFooter";const xc=x.forwardRef(({className:t,...e},r)=>p.jsx(pj,{ref:r,className:Q("text-lg font-semibold",t),...e}));xc.displayName=pj.displayName;const _c=x.forwardRef(({className:t,...e},r)=>p.jsx(mj,{ref:r,className:Q("text-sm text-muted-foreground",t),...e}));_c.displayName=mj.displayName;const Sc=x.forwardRef(({className:t,...e},r)=>p.jsx(fj,{ref:r,className:Q(Wg(),t),...e}));Sc.displayName=fj.displayName;const kf=x.forwardRef(({className:t,...e},r)=>p.jsx(hj,{ref:r,className:Q(Wg({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));kf.displayName=hj.displayName;const Qh=[{name:"Green",value:"hsl(145 55% 42%)"},{name:"Blue",value:"hsl(220 70% 50%)"},{name:"Purple",value:"hsl(270 70% 50%)"},{name:"Red",value:"hsl(0 65% 55%)"},{name:"Orange",value:"hsl(25 60% 45%)"},{name:"Pink",value:"hsl(330 70% 50%)"},{name:"Teal",value:"hsl(170 70% 40%)"},{name:"Yellow",value:"hsl(45 90% 45%)"}];function D3({habits:t,onAddHabit:e,onRemoveHabit:r,isDeleting:n,isPrivacyMode:i=!1}){const[a,o]=x.useState(""),[s,c]=x.useState(Qh[0].value);x.useState(null);const l=()=>{a.trim()&&(e({title:a,color:s}),o(""),c(Qh[0].value))};return p.jsxs(ey,{children:[p.jsx(VE,{asChild:!0,children:p.jsx(it,{variant:"outline",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9",children:p.jsx(KR,{className:"h-4 w-4"})})}),p.jsxs(xf,{className:"sm:max-w-[425px] bg-[#0a0a0a]/90 backdrop-blur-2xl border-white/10 text-foreground",children:[p.jsxs(_f,{children:[p.jsx(Sf,{children:"Gestisci Abitudini"}),p.jsx(Of,{children:"Aggiungi o rimuovi le abitudini che vuoi tracciare."})]}),p.jsxs("div",{className:"space-y-8 py-4",children:[p.jsxs("div",{className:"space-y-4 p-4 rounded-2xl bg-white/5 border border-white/10 backdrop-blur-md",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center text-primary",children:p.jsx($p,{className:"h-4 w-4"})}),p.jsx("h4",{className:"text-sm font-display font-bold",children:"Nuova Abitudine"})]}),p.jsxs("div",{className:"grid gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Io,{htmlFor:"title",className:"text-xs uppercase tracking-wider text-muted-foreground ml-1",children:"Nome"}),p.jsx(Ro,{id:"title",placeholder:"Es. Palestra, Lettura...",value:a,onChange:u=>o(u.target.value),className:"bg-black/20 border-white/10 focus:border-primary/50 text-foreground placeholder:text-muted-foreground/50 h-10 rounded-xl"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Io,{htmlFor:"color",className:"text-xs uppercase tracking-wider text-muted-foreground ml-1",children:"Colore"}),p.jsxs(Zs,{value:s,onValueChange:c,children:[p.jsx(Za,{className:"w-full bg-black/20 border-white/10 h-10 rounded-xl",children:p.jsx(yu,{placeholder:"Seleziona colore"})}),p.jsx(eo,{className:"bg-[#1a1a1a] border-white/10 backdrop-blur-xl",children:p.jsx("div",{className:"grid grid-cols-2 gap-1 p-1",children:Qh.map(u=>p.jsx(Gn,{value:u.value,className:"rounded-lg hover:bg-white/10 focus:bg-white/10 cursor-pointer",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"h-3 w-3 rounded-full shadow-[0_0_8px_currentColor]",style:{backgroundColor:u.value,color:u.value}}),p.jsx("span",{className:"font-medium",children:u.name})]})},u.value))})})]})]}),p.jsx(it,{onClick:l,disabled:!a.trim(),className:"w-full rounded-xl",children:"Aggiungi al Protocollo"})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h4",{className:"text-sm font-display font-bold px-1",children:"Le tue Abitudini"}),p.jsx(YP,{className:"h-[240px] w-full rounded-2xl border border-white/5 bg-black/20 p-4",children:p.jsxs("div",{className:"space-y-2",children:[t.map(u=>p.jsxs("div",{className:"group flex items-center justify-between rounded-xl p-3 bg-white/5 border border-transparent hover:border-white/10 hover:bg-white/10 transition-all",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"h-3 w-3 rounded-full shadow-[0_0_8px_currentColor]",style:{backgroundColor:u.color,color:u.color}}),p.jsx("span",{className:Q("text-sm font-medium transition-all duration-300",i&&"blur-sm"),children:u.title})]}),p.jsxs(qu,{children:[p.jsx(oy,{asChild:!0,children:p.jsx(it,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground opacity-60 group-hover:opacity-100 group-hover:text-destructive hover:bg-destructive/10 transition-all rounded-lg",children:p.jsx(dg,{className:"h-4 w-4"})})}),p.jsxs(yc,{children:[p.jsxs(bc,{children:[p.jsx(xc,{children:"Sei sicuro?"}),p.jsx(_c,{children:"Stai per rimuovere questa abitudine. Se ha dei dati associati, verr archiviata per preservare lo storico. Altrimenti verr eliminata definitivamente."})]}),p.jsxs(wc,{children:[p.jsx(kf,{children:"Annulla"}),p.jsx(Sc,{onClick:()=>r(u.id),className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:n,children:n?"Eliminazione...":"Conferma elimina"})]})]})]})]},u.id)),t.length===0&&p.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center text-muted-foreground space-y-2",children:[p.jsx("div",{className:"h-10 w-10 rounded-full bg-white/5 flex items-center justify-center",children:p.jsx($p,{className:"h-5 w-5 opacity-50"})}),p.jsx("p",{className:"text-sm",children:"Nessuna abitudine definita."})]})]})})]})]})]})]})}var Jh="rovingFocusGroup.onEntryFocus",L3={bubbles:!1,cancelable:!0},gl="RovingFocusGroup",[Sm,gj,B3]=og(gl),[F3,$f]=Ut(gl,[B3]),[U3,W3]=F3(gl),yj=x.forwardRef((t,e)=>p.jsx(Sm.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(Sm.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(z3,{...t,ref:e})})}));yj.displayName=gl;var z3=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:u=!1,...d}=t,f=x.useRef(null),h=ge(e,f),g=vl(a),[m,v]=Pn({prop:o,defaultProp:s??null,onChange:c,caller:gl}),[b,w]=x.useState(!1),y=Ze(l),O=gj(r),_=x.useRef(!1),[S,A]=x.useState(0);return x.useEffect(()=>{const E=f.current;if(E)return E.addEventListener(Jh,y),()=>E.removeEventListener(Jh,y)},[y]),p.jsx(U3,{scope:r,orientation:n,dir:g,loop:i,currentTabStopId:m,onItemFocus:x.useCallback(E=>v(E),[v]),onItemShiftTab:x.useCallback(()=>w(!0),[]),onFocusableItemAdd:x.useCallback(()=>A(E=>E+1),[]),onFocusableItemRemove:x.useCallback(()=>A(E=>E-1),[]),children:p.jsx(oe.div,{tabIndex:b||S===0?-1:0,"data-orientation":n,...d,ref:h,style:{outline:"none",...t.style},onMouseDown:ae(t.onMouseDown,()=>{_.current=!0}),onFocus:ae(t.onFocus,E=>{const j=!_.current;if(E.target===E.currentTarget&&j&&!b){const T=new CustomEvent(Jh,L3);if(E.currentTarget.dispatchEvent(T),!T.defaultPrevented){const C=O().filter($=>$.focusable),k=C.find($=>$.active),L=C.find($=>$.id===m),B=[k,L,...C].filter(Boolean).map($=>$.ref.current);xj(B,u)}}_.current=!1}),onBlur:ae(t.onBlur,()=>w(!1))})})}),bj="RovingFocusGroupItem",wj=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:o,...s}=t,c=fi(),l=a||c,u=W3(bj,r),d=u.currentTabStopId===l,f=gj(r),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:m}=u;return x.useEffect(()=>{if(n)return h(),()=>g()},[n,h,g]),p.jsx(Sm.ItemSlot,{scope:r,id:l,focusable:n,active:i,children:p.jsx(oe.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...s,ref:e,onMouseDown:ae(t.onMouseDown,v=>{n?u.onItemFocus(l):v.preventDefault()}),onFocus:ae(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:ae(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=K3(v,u.orientation,u.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let y=f().filter(O=>O.focusable).map(O=>O.ref.current);if(b==="last")y.reverse();else if(b==="prev"||b==="next"){b==="prev"&&y.reverse();const O=y.indexOf(v.currentTarget);y=u.loop?V3(y,O+1):y.slice(O+1)}setTimeout(()=>xj(y))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:m!=null}):o})})});wj.displayName=bj;var q3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function H3(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function K3(t,e,r){const n=H3(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return q3[n]}function xj(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function V3(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var _j=yj,Sj=wj,Nf="Tabs",[G3,Lpe]=Ut(Nf,[$f]),Oj=$f(),[Y3,sy]=G3(Nf),Aj=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:c="automatic",...l}=t,u=vl(s),[d,f]=Pn({prop:n,onChange:i,defaultProp:a??"",caller:Nf});return p.jsx(Y3,{scope:r,baseId:fi(),value:d,onValueChange:f,orientation:o,dir:u,activationMode:c,children:p.jsx(oe.div,{dir:u,"data-orientation":o,...l,ref:e})})});Aj.displayName=Nf;var Ej="TabsList",Pj=x.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=sy(Ej,r),o=Oj(r);return p.jsx(_j,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:p.jsx(oe.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});Pj.displayName=Ej;var jj="TabsTrigger",Tj=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,o=sy(jj,r),s=Oj(r),c=$j(o.baseId,n),l=Nj(o.baseId,n),u=n===o.value;return p.jsx(Sj,{asChild:!0,...s,focusable:!i,active:u,children:p.jsx(oe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":l,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:ae(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(n):d.preventDefault()}),onKeyDown:ae(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(n)}),onFocus:ae(t.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!i&&d&&o.onValueChange(n)})})})});Tj.displayName=jj;var Cj="TabsContent",kj=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=t,s=sy(Cj,r),c=$j(s.baseId,n),l=Nj(s.baseId,n),u=n===s.value,d=x.useRef(u);return x.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),p.jsx(cn,{present:i||u,children:({present:f})=>p.jsx(oe.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:l,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:f&&a})})});kj.displayName=Cj;function $j(t,e){return`${t}-trigger-${e}`}function Nj(t,e){return`${t}-content-${e}`}var X3=Aj,Rj=Pj,Ij=Tj,Mj=kj;const Dj=X3,cy=x.forwardRef(({className:t,...e},r)=>p.jsx(Rj,{ref:r,className:Q("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));cy.displayName=Rj.displayName;const da=x.forwardRef(({className:t,...e},r)=>p.jsx(Ij,{ref:r,className:Q("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));da.displayName=Ij.displayName;const bu=x.forwardRef(({className:t,...e},r)=>p.jsx(Mj,{ref:r,className:Q("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));bu.displayName=Mj.displayName;var Rf="Switch",[Q3,Bpe]=Ut(Rf),[J3,Z3]=Q3(Rf),Lj=x.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:c="on",onCheckedChange:l,form:u,...d}=t,[f,h]=x.useState(null),g=ge(e,y=>h(y)),m=x.useRef(!1),v=f?u||!!f.closest("form"):!0,[b,w]=Pn({prop:i,defaultProp:a??!1,onChange:l,caller:Rf});return p.jsxs(J3,{scope:r,checked:b,disabled:s,children:[p.jsx(oe.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":Wj(b),"data-disabled":s?"":void 0,disabled:s,value:c,...d,ref:g,onClick:ae(t.onClick,y=>{w(O=>!O),v&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})}),v&&p.jsx(Uj,{control:f,bubbles:!m.current,name:n,value:c,checked:b,required:o,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});Lj.displayName=Rf;var Bj="SwitchThumb",Fj=x.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=Z3(Bj,r);return p.jsx(oe.span,{"data-state":Wj(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});Fj.displayName=Bj;var e4="SwitchBubbleInput",Uj=x.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const o=x.useRef(null),s=ge(o,a),c=Af(r),l=sf(e);return x.useEffect(()=>{const u=o.current;if(!u)return;const d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&h){const g=new Event("click",{bubbles:n});h.call(u,r),u.dispatchEvent(g)}},[c,r,n]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Uj.displayName=e4;function Wj(t){return t?"checked":"unchecked"}var zj=Lj,t4=Fj;const qj=x.forwardRef(({className:t,...e},r)=>p.jsx(zj,{className:Q("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:r,children:p.jsx(t4,{className:Q("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));qj.displayName=zj.displayName;const r4=()=>{const{goals:t,logs:e,allGoals:r,rawLogs:n,createGoal:i,deleteGoal:a,toggleGoal:o,isDeleting:s,resetAllData:c,isResetting:l}=hE(),{isPrivacyMode:u,setIsPrivacyMode:d}=Ug(),f=()=>{if(!n||!r){Ye.error("Nessun dato da esportare");return}try{const m=new Map(r.map(O=>[O.id,O.title])),v=["Date,Habit Name,Status,Value,Notes"];n.forEach(O=>{const _=m.get(O.goal_id)||"Archived Habit",S=E=>`"${E.replace(/"/g,'""')}"`,A=[O.date,S(_),O.status,O.value||"",O.notes?S(O.notes):""].join(",");v.push(A)});const b=new Blob([v.join(`
`)],{type:"text/csv;charset=utf-8;"}),w=window.URL.createObjectURL(b),y=document.createElement("a");y.href=w,y.download=`habit-tracker-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(y),y.click(),window.URL.revokeObjectURL(w),document.body.removeChild(y),Ye.success("Export completato!")}catch(m){console.error("Export failed:",m),Ye.error("Errore durante l'export")}},[h,g]=x.useState("month");return p.jsxs("div",{className:"flex-1 min-h-dvh flex flex-col pt-8 pb-12 px-4 sm:px-8 animate-fade-in relative z-10 w-full max-w-[2400px] mx-auto",children:[p.jsx("div",{className:"fixed top-[-20%] left-[-10%] w-[50%] h-[50%] bg-primary/5 blur-[120px] rounded-full pointer-events-none -z-10"}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 w-full",children:[p.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[p.jsxs("div",{className:"glass-panel p-6 rounded-2xl space-y-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Protocollo"}),p.jsx("p",{className:"text-muted-foreground text-sm",children:"Esecuzione giornaliera."})]}),p.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[p.jsx(qj,{id:"privacy-mode",checked:u,onCheckedChange:d}),p.jsxs(Io,{htmlFor:"privacy-mode",className:"text-xs text-muted-foreground flex items-center gap-2 cursor-pointer",children:[u?p.jsx(MR,{className:"w-3 h-3"}):p.jsx(DR,{className:"w-3 h-3"}),"Privacy Mode"]})]}),p.jsxs("div",{className:"pt-4 border-t border-white/5 flex gap-2",children:[p.jsx(D3,{habits:t,onAddHabit:i,onRemoveHabit:a,isDeleting:s,isPrivacyMode:u}),p.jsx(it,{variant:"outline",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9",onClick:f,title:"Esporta dati CSV",children:p.jsx(W1,{className:"h-4 w-4"})}),p.jsxs(qu,{children:[p.jsx(oy,{asChild:!0,children:p.jsx(it,{variant:"ghost",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white border-red-500/20",title:"Hard Reset (Elimina tutto)",children:p.jsx(dg,{className:"h-4 w-4"})})}),p.jsxs(yc,{children:[p.jsxs(bc,{children:[p.jsx(xc,{className:"text-destructive",children:"Hard Reset: Attenzione!"}),p.jsxs(_c,{children:["Questa azione eliminer ",p.jsx("strong",{children:"definitivamente"})," tutte le tue abitudini e tutto lo storico dei progressi.",p.jsx("br",{}),p.jsx("br",{}),"I dati non potranno essere recuperati. Sei sicuro di voler procedere?"]})]}),p.jsxs(wc,{children:[p.jsx(kf,{children:"Annulla"}),p.jsx(Sc,{onClick:()=>c(),className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:l,children:l?"Eliminazione...":"Conferma Reset Totale"})]})]})]})]})]}),p.jsxs("div",{className:"glass-card p-6 rounded-2xl hidden lg:block",children:[p.jsx("h3",{className:"text-sm font-medium text-muted-foreground uppercase tracking-widest mb-2",children:"Status"}),p.jsxs("div",{className:"flex items-baseline gap-2",children:[p.jsx("span",{className:"text-2xl font-bold font-mono-nums text-primary",children:"Active"}),p.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})]}),p.jsxs("p",{className:"text-xs text-muted-foreground mt-4",children:["Mattioli.OS v1.0",p.jsx("br",{}),"System Optimized"]})]})]}),p.jsx("div",{className:"lg:col-span-9 space-y-6",children:p.jsxs(Dj,{defaultValue:"month",value:h,onValueChange:g,className:"w-full",children:[p.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:p.jsxs(cy,{className:"grid w-full sm:w-auto sm:inline-grid grid-cols-3 bg-card/40 border border-white/10 backdrop-blur-md rounded-xl p-1",children:[p.jsxs(da,{value:"month",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm px-6",children:[p.jsx(D1,{className:"w-4 h-4 mr-2"}),"Mese"]}),p.jsxs(da,{value:"week",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm px-6",children:[p.jsx(LR,{className:"w-4 h-4 mr-2"}),"Settimana"]}),p.jsxs(da,{value:"day",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm px-6",children:[p.jsx(BR,{className:"w-4 h-4 mr-2"}),"Oggi"]})]})}),p.jsxs("div",{className:"min-h-[600px] glass-panel rounded-2xl p-1 sm:p-2",children:[p.jsx(bu,{value:"month",className:"mt-0 animate-scale-in h-full",children:p.jsx(PU,{habits:t,records:e,onToggleHabit:o,isPrivacyMode:u})}),p.jsx(bu,{value:"week",className:"mt-0 animate-scale-in h-full",children:p.jsx(jU,{habits:t,records:e,onToggleHabit:o,isPrivacyMode:u})}),p.jsx(bu,{value:"day",className:"mt-0 animate-scale-in h-full",children:p.jsx("div",{className:"flex justify-center h-full",children:p.jsx(TU,{habits:t,records:e,onToggleHabit:o,isPrivacyMode:u})})})]})]})})]})]})};function n4(t,e){return x.useMemo(()=>{const r=Yr(new Date),n=Object.keys(e).sort(),i=t.map($=>{var pe,je,Ae;const M=Yr(new Date($.start_date)),F=$.id;let D=0,z=0,Y=0,q=0;const I=Math.max(0,Bg(r,M)+1),H=new Date(r);let G=!0;const fe=Ve(H,"yyyy-MM-dd"),X=(pe=e[fe])==null?void 0:pe[F];X==="done"?D++:X==="missed"&&(G=!1);let he=1;for(;;){const Ee=Ht(r,he);if(Vi(Ee,M))break;const et=Ve(Ee,"yyyy-MM-dd"),Je=(je=e[et])==null?void 0:je[F];if(Je==="done"?G&&D++:Je==="missed"&&(G=!1),!G||he>365*5)break;he++}if(I>0){for(let Ee=0;Ee<I;Ee++){const et=Ht(r,Ee),Je=Ve(et,"yyyy-MM-dd"),Ur=(Ae=e[Je])==null?void 0:Ae[F];Ur==="done"?(q++,Y++):Ur==="missed"&&(z=Math.max(z,Y),Y=0)}z=Math.max(z,Y)}let K=0,Z=0;const J=Ht(r,29),U=Ja(M,J)?M:J;Ja(U,r)||Qa({start:U,end:r}).forEach(Ee=>{var Je;K++;const et=Ve(Ee,"yyyy-MM-dd");((Je=e[et])==null?void 0:Je[F])==="done"&&Z++});const be=K>0?Math.round(Z/K*100):0;return{id:$.id,title:$.title,color:$.color,currentStreak:D,longestStreak:z,totalDays:q,completionRate:be}}),a=[],o=Ht(r,365);Qa({start:o,end:r}).forEach($=>{const M=Ve($,"yyyy-MM-dd");let F=0,D=0;t.forEach(Y=>{var I;const q=new Date(Y.start_date);Vi(Yr($),Yr(q))||(F++,((I=e[M])==null?void 0:I[Y.id])==="done"&&D++)});let z=0;if(F>0&&D>0){const Y=D/F;Y<=.25?z=1:Y<=.5?z=2:Y<=.75?z=3:z=4}a.push({date:M,count:D,intensity:z})});const s=[],c=Ht(r,6);Qa({start:c,end:r}).forEach($=>{const M=Ve($,"yyyy-MM-dd"),F={date:Ve($,"EEE",{locale:Sn})};let D=0,z=0;t.forEach(q=>{var fe;const I=new Date(q.start_date);if(Vi(Yr($),Yr(I))){F[q.id]=0;return}z++;const G=((fe=e[M])==null?void 0:fe[q.id])==="done";G&&D++,F[q.id]=G?100:0});const Y=z>0?Math.round(D/z*100):0;F.overall=Y,s.push(F)});const l=[0,0,0,0,0,0,0].map(($,M)=>({dayIndex:M,dayName:Ve(new Date(2024,0,7+M),"EEEE",{locale:Sn}),totalActive:0,totalDone:0,rate:0})),u=t.reduce(($,M)=>Vi(new Date(M.start_date),$)?new Date(M.start_date):$,r),d=Ja(u,Ht(r,365))?u:Ht(r,365);Ja(d,r)||Qa({start:d,end:r}).forEach($=>{const M=$.getDay(),F=Ve($,"yyyy-MM-dd");t.forEach(D=>{var Y;const z=new Date(D.start_date);Vi($,z)||(l[M].totalActive++,((Y=e[F])==null?void 0:Y[D.id])==="done"&&l[M].totalDone++)})}),l.forEach($=>{$.rate=$.totalActive>0?Math.round($.totalDone/$.totalActive*100):0});const f=n.length,h=i.length>0?Math.round(i.reduce(($,M)=>$+M.completionRate,0)/i.length):0,g=i4(t,e,r),m=pr(r,{locale:Sn,weekStartsOn:1}),v=r,b=kF(m,1),w=Ht(m,1),y=Fg(r),O=r,_=CF(y,1),S=Ht(y,1),A=lE(r),E=r,j=$F(A,1),T=Ht(A,1),C=Zh(t,e,m,v,b,w,"week"),k=Zh(t,e,y,O,_,S,"month"),L=Zh(t,e,A,E,j,T,"year"),R=t.map($=>({habitId:$.id,week:C[$.id],month:k[$.id],year:L[$.id]}));return{habitStats:i,heatmapData:a,trendData:s,weekdayStats:l.sort(($,M)=>$.dayIndex===0?1:M.dayIndex===0?-1:$.dayIndex-M.dayIndex),totalActiveDays:f,globalSuccessRate:h,bestStreak:Math.max(...i.map($=>$.longestStreak),0),worstDay:l.reduce(($,M)=>M.rate<$.rate&&M.totalActive>0?M:$,l[0]).dayName,comparisons:R,criticalHabits:g.sort(($,M)=>$.completionRate-M.completionRate)}},[t,e])}function Zh(t,e,r,n,i,a,o="month"){const s={},c=t.map(u=>u.id),l=(u,d,f,h)=>{const g=Vi(d,h)?h:d;if(Ja(g,f))return 0;let m=0,v=0;return Qa({start:g,end:f}).forEach(b=>{var y;m++;const w=Ve(b,"yyyy-MM-dd");((y=e[w])==null?void 0:y[u])==="done"&&v++}),m>0?Math.round(v/m*100):0};return c.forEach(u=>{const d=t.find(b=>b.id===u);if(!d)return;const f=new Date(d.start_date),h=l(u,r,n,f),g=l(u,i,a,f),m=h-g;let v="neutral";m>0&&(v="up"),m<0&&(v="down"),s[u]={previous:g,current:h,change:m,trend:v}}),s}function i4(t,e,r){const n=[],i=Ht(r,90);return t.forEach(a=>{const o=[0,0,0,0,0,0,0].map(()=>({total:0,done:0}));let s=0,c=0;const l=Vi(i,new Date(a.start_date))?new Date(a.start_date):i;Ja(l,r)||Qa({start:l,end:r}).forEach(h=>{var v;const g=h.getDay(),m=Ve(h,"yyyy-MM-dd");o[g].total++,((v=e[m])==null?void 0:v[a.id])==="done"&&(o[g].done++,s++),c++});let u="",d=101;o.forEach((h,g)=>{if(h.total<4)return;const m=Math.round(h.done/h.total*100);if(m<d){d=m;const v=new Date(2024,0,7+g);u=Ve(v,"EEEE",{locale:Sn})}});const f=c>0?Math.round(s/c*100):0;d===101&&(u="N/A",d=f),n.push({habitId:a.id,title:a.title,color:a.color,completionRate:f,worstDay:u,worstDayRate:d})}),n}function a4({globalStats:t,bestHabit:e}){return p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[p.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:p.jsx(Yi,{className:"w-24 h-24"})}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[p.jsx(Yi,{className:"w-4 h-4"}),p.jsx("span",{className:"text-sm font-medium",children:"Completamento"})]}),p.jsxs("div",{className:"flex items-baseline gap-2",children:[p.jsxs("span",{className:"text-4xl font-display font-bold text-foreground",children:[t.globalSuccessRate,"%"]}),p.jsx("span",{className:"text-sm text-muted-foreground",children:"globale"})]})]})]}),p.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[p.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:p.jsx(Cb,{className:"w-24 h-24 text-orange-500"})}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[p.jsx(Cb,{className:"w-4 h-4 text-orange-500"}),p.jsx("span",{className:"text-sm font-medium",children:"Miglior Serie"})]}),p.jsxs("div",{className:"flex items-baseline gap-2",children:[p.jsx("span",{className:"text-4xl font-display font-bold text-foreground",children:t.bestStreak}),p.jsx("span",{className:"text-sm text-muted-foreground",children:"giorni"})]})]})]}),p.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[p.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:p.jsx(oo,{className:"w-24 h-24 text-yellow-500"})}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[p.jsx(oo,{className:"w-4 h-4 text-yellow-500"}),p.jsx("span",{className:"text-sm font-medium",children:"Top Performer"})]}),e?p.jsxs("div",{children:[p.jsx("span",{className:"text-2xl font-display font-bold text-foreground block truncate",children:e.title}),p.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.completionRate,"% completamento"]})]}):p.jsx("span",{className:"text-muted-foreground text-sm",children:"Nessun dato"})]})]}),p.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[p.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:p.jsx("div",{className:"text-4xl",children:""})}),p.jsxs("div",{children:[p.jsx("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:p.jsx("span",{className:"text-sm font-medium",children:"Giorno Peggiore"})}),t.worstDay?p.jsxs("div",{children:[p.jsx("span",{className:"text-2xl font-display font-bold text-foreground block truncate",children:t.worstDay}),p.jsx("span",{className:"text-sm text-muted-foreground",children:"Focus richiesto"})]}):p.jsx("span",{className:"text-muted-foreground text-sm",children:"Nessun dato"})]})]})]})}function o4({data:t}){const e=new Date,r=105,n=t.filter(a=>EB(e,new Date(a.date))<r),i=[];for(let a=r-1;a>=0;a--){const o=Ht(e,a),s=Ve(o,"yyyy-MM-dd"),c=n.find(l=>l.date===s);i.push(c||{date:s,count:0,intensity:0})}return p.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl",children:[p.jsx("h3",{className:"text-lg font-display font-semibold mb-4",children:"Costanza"}),p.jsx("div",{className:"flex flex-wrap gap-1 justify-center sm:justify-start",children:i.map(a=>p.jsx("div",{className:Q("w-3 h-3 sm:w-4 sm:h-4 rounded-sm transition-all hover:scale-125 hover:z-10 relative cursor-pointer",a.intensity===0&&"bg-muted/10",a.intensity===1&&"bg-primary/30",a.intensity===2&&"bg-primary/50",a.intensity===3&&"bg-primary/70",a.intensity===4&&"bg-primary"),title:`${a.date}: ${a.count} habits`},a.date))}),p.jsxs("div",{className:"flex items-center justify-end gap-2 mt-4 text-xs text-muted-foreground",children:[p.jsx("span",{children:"Meno"}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx("div",{className:"w-3 h-3 rounded-sm bg-muted/10"}),p.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/30"}),p.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/50"}),p.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/70"}),p.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary"})]}),p.jsx("span",{children:"Pi"})]})]})}var s4=Array.isArray,Wt=s4,c4=typeof Gr=="object"&&Gr&&Gr.Object===Object&&Gr,Hj=c4,l4=Hj,u4=typeof self=="object"&&self&&self.Object===Object&&self,d4=l4||u4||Function("return this")(),dn=d4,f4=dn,h4=f4.Symbol,yl=h4,q0=yl,Kj=Object.prototype,p4=Kj.hasOwnProperty,m4=Kj.toString,Ls=q0?q0.toStringTag:void 0;function v4(t){var e=p4.call(t,Ls),r=t[Ls];try{t[Ls]=void 0;var n=!0}catch{}var i=m4.call(t);return n&&(e?t[Ls]=r:delete t[Ls]),i}var g4=v4,y4=Object.prototype,b4=y4.toString;function w4(t){return b4.call(t)}var x4=w4,H0=yl,_4=g4,S4=x4,O4="[object Null]",A4="[object Undefined]",K0=H0?H0.toStringTag:void 0;function E4(t){return t==null?t===void 0?A4:O4:K0&&K0 in Object(t)?_4(t):S4(t)}var Dn=E4;function P4(t){return t!=null&&typeof t=="object"}var Ln=P4,j4=Dn,T4=Ln,C4="[object Symbol]";function k4(t){return typeof t=="symbol"||T4(t)&&j4(t)==C4}var _s=k4,$4=Wt,N4=_s,R4=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,I4=/^\w*$/;function M4(t,e){if($4(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||N4(t)?!0:I4.test(t)||!R4.test(t)||e!=null&&t in Object(e)}var ly=M4;function D4(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Pi=D4;const Ss=ke(Pi);var L4=Dn,B4=Pi,F4="[object AsyncFunction]",U4="[object Function]",W4="[object GeneratorFunction]",z4="[object Proxy]";function q4(t){if(!B4(t))return!1;var e=L4(t);return e==U4||e==W4||e==F4||e==z4}var uy=q4;const se=ke(uy);var H4=dn,K4=H4["__core-js_shared__"],V4=K4,ep=V4,V0=function(){var t=/[^.]+$/.exec(ep&&ep.keys&&ep.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function G4(t){return!!V0&&V0 in t}var Y4=G4,X4=Function.prototype,Q4=X4.toString;function J4(t){if(t!=null){try{return Q4.call(t)}catch{}try{return t+""}catch{}}return""}var Vj=J4,Z4=uy,eW=Y4,tW=Pi,rW=Vj,nW=/[\\^$.*+?()[\]{}|]/g,iW=/^\[object .+?Constructor\]$/,aW=Function.prototype,oW=Object.prototype,sW=aW.toString,cW=oW.hasOwnProperty,lW=RegExp("^"+sW.call(cW).replace(nW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function uW(t){if(!tW(t)||eW(t))return!1;var e=Z4(t)?lW:iW;return e.test(rW(t))}var dW=uW;function fW(t,e){return t==null?void 0:t[e]}var hW=fW,pW=dW,mW=hW;function vW(t,e){var r=mW(t,e);return pW(r)?r:void 0}var Pa=vW,gW=Pa,yW=gW(Object,"create"),If=yW,G0=If;function bW(){this.__data__=G0?G0(null):{},this.size=0}var wW=bW;function xW(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var _W=xW,SW=If,OW="__lodash_hash_undefined__",AW=Object.prototype,EW=AW.hasOwnProperty;function PW(t){var e=this.__data__;if(SW){var r=e[t];return r===OW?void 0:r}return EW.call(e,t)?e[t]:void 0}var jW=PW,TW=If,CW=Object.prototype,kW=CW.hasOwnProperty;function $W(t){var e=this.__data__;return TW?e[t]!==void 0:kW.call(e,t)}var NW=$W,RW=If,IW="__lodash_hash_undefined__";function MW(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=RW&&e===void 0?IW:e,this}var DW=MW,LW=wW,BW=_W,FW=jW,UW=NW,WW=DW;function Os(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Os.prototype.clear=LW;Os.prototype.delete=BW;Os.prototype.get=FW;Os.prototype.has=UW;Os.prototype.set=WW;var zW=Os;function qW(){this.__data__=[],this.size=0}var HW=qW;function KW(t,e){return t===e||t!==t&&e!==e}var dy=KW,VW=dy;function GW(t,e){for(var r=t.length;r--;)if(VW(t[r][0],e))return r;return-1}var Mf=GW,YW=Mf,XW=Array.prototype,QW=XW.splice;function JW(t){var e=this.__data__,r=YW(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():QW.call(e,r,1),--this.size,!0}var ZW=JW,ez=Mf;function tz(t){var e=this.__data__,r=ez(e,t);return r<0?void 0:e[r][1]}var rz=tz,nz=Mf;function iz(t){return nz(this.__data__,t)>-1}var az=iz,oz=Mf;function sz(t,e){var r=this.__data__,n=oz(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var cz=sz,lz=HW,uz=ZW,dz=rz,fz=az,hz=cz;function As(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}As.prototype.clear=lz;As.prototype.delete=uz;As.prototype.get=dz;As.prototype.has=fz;As.prototype.set=hz;var Df=As,pz=Pa,mz=dn,vz=pz(mz,"Map"),fy=vz,Y0=zW,gz=Df,yz=fy;function bz(){this.size=0,this.__data__={hash:new Y0,map:new(yz||gz),string:new Y0}}var wz=bz;function xz(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var _z=xz,Sz=_z;function Oz(t,e){var r=t.__data__;return Sz(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Lf=Oz,Az=Lf;function Ez(t){var e=Az(this,t).delete(t);return this.size-=e?1:0,e}var Pz=Ez,jz=Lf;function Tz(t){return jz(this,t).get(t)}var Cz=Tz,kz=Lf;function $z(t){return kz(this,t).has(t)}var Nz=$z,Rz=Lf;function Iz(t,e){var r=Rz(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Mz=Iz,Dz=wz,Lz=Pz,Bz=Cz,Fz=Nz,Uz=Mz;function Es(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Es.prototype.clear=Dz;Es.prototype.delete=Lz;Es.prototype.get=Bz;Es.prototype.has=Fz;Es.prototype.set=Uz;var hy=Es,Gj=hy,Wz="Expected a function";function py(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Wz);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(py.Cache||Gj),r}py.Cache=Gj;var Yj=py;const zz=ke(Yj);var qz=Yj,Hz=500;function Kz(t){var e=qz(t,function(n){return r.size===Hz&&r.clear(),n}),r=e.cache;return e}var Vz=Kz,Gz=Vz,Yz=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xz=/\\(\\)?/g,Qz=Gz(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Yz,function(r,n,i,a){e.push(i?a.replace(Xz,"$1"):n||r)}),e}),Jz=Qz;function Zz(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var my=Zz,X0=yl,e8=my,t8=Wt,r8=_s,n8=1/0,Q0=X0?X0.prototype:void 0,J0=Q0?Q0.toString:void 0;function Xj(t){if(typeof t=="string")return t;if(t8(t))return e8(t,Xj)+"";if(r8(t))return J0?J0.call(t):"";var e=t+"";return e=="0"&&1/t==-n8?"-0":e}var i8=Xj,a8=i8;function o8(t){return t==null?"":a8(t)}var Qj=o8,s8=Wt,c8=ly,l8=Jz,u8=Qj;function d8(t,e){return s8(t)?t:c8(t,e)?[t]:l8(u8(t))}var Jj=d8,f8=_s,h8=1/0;function p8(t){if(typeof t=="string"||f8(t))return t;var e=t+"";return e=="0"&&1/t==-h8?"-0":e}var Bf=p8,m8=Jj,v8=Bf;function g8(t,e){e=m8(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[v8(e[r++])];return r&&r==n?t:void 0}var vy=g8,y8=vy;function b8(t,e,r){var n=t==null?void 0:y8(t,e);return n===void 0?r:n}var Zj=b8;const Jt=ke(Zj);function w8(t){return t==null}var x8=w8;const ce=ke(x8);var _8=Dn,S8=Wt,O8=Ln,A8="[object String]";function E8(t){return typeof t=="string"||!S8(t)&&O8(t)&&_8(t)==A8}var P8=E8;const wa=ke(P8);var eT={exports:{}},Ne={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy=Symbol.for("react.element"),yy=Symbol.for("react.portal"),Ff=Symbol.for("react.fragment"),Uf=Symbol.for("react.strict_mode"),Wf=Symbol.for("react.profiler"),zf=Symbol.for("react.provider"),qf=Symbol.for("react.context"),j8=Symbol.for("react.server_context"),Hf=Symbol.for("react.forward_ref"),Kf=Symbol.for("react.suspense"),Vf=Symbol.for("react.suspense_list"),Gf=Symbol.for("react.memo"),Yf=Symbol.for("react.lazy"),T8=Symbol.for("react.offscreen"),tT;tT=Symbol.for("react.module.reference");function gr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case gy:switch(t=t.type,t){case Ff:case Wf:case Uf:case Kf:case Vf:return t;default:switch(t=t&&t.$$typeof,t){case j8:case qf:case Hf:case Yf:case Gf:case zf:return t;default:return e}}case yy:return e}}}Ne.ContextConsumer=qf;Ne.ContextProvider=zf;Ne.Element=gy;Ne.ForwardRef=Hf;Ne.Fragment=Ff;Ne.Lazy=Yf;Ne.Memo=Gf;Ne.Portal=yy;Ne.Profiler=Wf;Ne.StrictMode=Uf;Ne.Suspense=Kf;Ne.SuspenseList=Vf;Ne.isAsyncMode=function(){return!1};Ne.isConcurrentMode=function(){return!1};Ne.isContextConsumer=function(t){return gr(t)===qf};Ne.isContextProvider=function(t){return gr(t)===zf};Ne.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===gy};Ne.isForwardRef=function(t){return gr(t)===Hf};Ne.isFragment=function(t){return gr(t)===Ff};Ne.isLazy=function(t){return gr(t)===Yf};Ne.isMemo=function(t){return gr(t)===Gf};Ne.isPortal=function(t){return gr(t)===yy};Ne.isProfiler=function(t){return gr(t)===Wf};Ne.isStrictMode=function(t){return gr(t)===Uf};Ne.isSuspense=function(t){return gr(t)===Kf};Ne.isSuspenseList=function(t){return gr(t)===Vf};Ne.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ff||t===Wf||t===Uf||t===Kf||t===Vf||t===T8||typeof t=="object"&&t!==null&&(t.$$typeof===Yf||t.$$typeof===Gf||t.$$typeof===zf||t.$$typeof===qf||t.$$typeof===Hf||t.$$typeof===tT||t.getModuleId!==void 0)};Ne.typeOf=gr;eT.exports=Ne;var C8=eT.exports,k8=Dn,$8=Ln,N8="[object Number]";function R8(t){return typeof t=="number"||$8(t)&&k8(t)==N8}var rT=R8;const I8=ke(rT);var M8=rT;function D8(t){return M8(t)&&t!=+t}var L8=D8;const Ps=ke(L8);var kt=function(e){return e===0?0:e>0?1:-1},Qi=function(e){return wa(e)&&e.indexOf("%")===e.length-1},V=function(e){return I8(e)&&!Ps(e)},B8=function(e){return ce(e)},pt=function(e){return V(e)||wa(e)},F8=0,ji=function(e){var r=++F8;return"".concat(e||"").concat(r)},$t=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!V(e)&&!wa(e))return n;var a;if(Qi(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Ps(a)&&(a=n),i&&a>r&&(a=r),a},Jn=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},U8=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Me=function(e,r){return V(e)&&V(r)?function(n){return e+n*(r-e)}:function(){return r}};function Hu(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Jt(n,e))===r})}var W8=function(e){if(!e||!e.length)return null;for(var r=e.length,n=0,i=0,a=0,o=0,s=1/0,c=-1/0,l=0,u=0,d=0;d<r;d++)l=e[d].cx||0,u=e[d].cy||0,n+=l,i+=u,a+=l*u,o+=l*l,s=Math.min(s,l),c=Math.max(c,l);var f=r*o!==n*n?(r*a-n*i)/(r*o-n*n):0;return{xmin:s,xmax:c,a:f,b:(i-f*n)/r}},z8=function(e,r){return V(e)&&V(r)?e-r:wa(e)&&wa(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function po(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}var q8=["viewBox","children"],H8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Z0=["points","pathLength"],tp={svg:q8,polygon:Z0,polyline:Z0},by=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ku=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),!Ss(n))return null;var i={};return Object.keys(n).forEach(function(a){by.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},K8=function(e,r,n){return function(i){return e(r,n,i),null}},xi=function(e,r,n){if(!Ss(e)||Om(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];by.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=K8(o,r,n))}),i},V8=["children"],G8=["children"];function ew(t,e){if(t==null)return{};var r=Y8(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Y8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}var tw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},On=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},rw=null,rp=null,wy=function t(e){if(e===rw&&Array.isArray(rp))return rp;var r=[];return x.Children.forEach(e,function(n){ce(n)||(C8.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),rp=r,rw=e,r};function Rt(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return On(i)}):n=[On(e)],wy(t).forEach(function(i){var a=Jt(i,"type.displayName")||Jt(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Vt(t,e){var r=Rt(t,e);return r&&r[0]}var nw=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!V(n)||n<=0||!V(i)||i<=0)},X8=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Q8=function(e){return e&&e.type&&wa(e.type)&&X8.indexOf(e.type)>=0},nT=function(e){return e&&Am(e)==="object"&&"clipDot"in e},J8=function(e,r,n,i){var a,o=(a=tp==null?void 0:tp[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!se(e)&&(i&&o.includes(r)||H8.includes(r))||n&&by.includes(r)},te=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(x.isValidElement(e)&&(i=e.props),!Ss(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;J8((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},Em=function t(e,r){if(e===r)return!0;var n=x.Children.count(e);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return iw(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!iw(a,o))return!1}return!0},iw=function(e,r){if(ce(e)&&ce(r))return!0;if(!ce(e)&&!ce(r)){var n=e.props||{},i=n.children,a=ew(n,V8),o=r.props||{},s=o.children,c=ew(o,G8);return i&&s?po(a,c)&&Em(i,s):!i&&!s?po(a,c):!1}return!1},aw=function(e,r){var n=[],i={};return wy(e).forEach(function(a,o){if(Q8(a))n.push(a);else if(a){var s=On(a.type),c=r[s]||{},l=c.handler,u=c.once;if(l&&(!u||!i[s])){var d=l(a,s,o);n.push(d),i[s]=!0}}}),n},Z8=function(e){var r=e&&e.type;return r&&tw[r]?tw[r]:null},eq=function(e,r){return wy(r).indexOf(e)},tq=["children","width","height","viewBox","className","style","title","desc"];function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pm.apply(this,arguments)}function rq(t,e){if(t==null)return{};var r=nq(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jm(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,c=t.desc,l=rq(t,tq),u=i||{width:r,height:n,x:0,y:0},d=me("recharts-surface",a);return P.createElement("svg",Pm({},te(l,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),P.createElement("title",null,s),P.createElement("desc",null,c),e)}var iq=["children","className"];function Tm(){return Tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tm.apply(this,arguments)}function aq(t,e){if(t==null)return{};var r=oq(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ve=P.forwardRef(function(t,e){var r=t.children,n=t.className,i=aq(t,iq),a=me("recharts-layer",n);return P.createElement("g",Tm({className:a},te(i,!0),{ref:e}),r)}),Ir=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function sq(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var cq=sq,lq=cq;function uq(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:lq(t,e,r)}var dq=uq,fq="\\ud800-\\udfff",hq="\\u0300-\\u036f",pq="\\ufe20-\\ufe2f",mq="\\u20d0-\\u20ff",vq=hq+pq+mq,gq="\\ufe0e\\ufe0f",yq="\\u200d",bq=RegExp("["+yq+fq+vq+gq+"]");function wq(t){return bq.test(t)}var iT=wq;function xq(t){return t.split("")}var _q=xq,aT="\\ud800-\\udfff",Sq="\\u0300-\\u036f",Oq="\\ufe20-\\ufe2f",Aq="\\u20d0-\\u20ff",Eq=Sq+Oq+Aq,Pq="\\ufe0e\\ufe0f",jq="["+aT+"]",Cm="["+Eq+"]",km="\\ud83c[\\udffb-\\udfff]",Tq="(?:"+Cm+"|"+km+")",oT="[^"+aT+"]",sT="(?:\\ud83c[\\udde6-\\uddff]){2}",cT="[\\ud800-\\udbff][\\udc00-\\udfff]",Cq="\\u200d",lT=Tq+"?",uT="["+Pq+"]?",kq="(?:"+Cq+"(?:"+[oT,sT,cT].join("|")+")"+uT+lT+")*",$q=uT+lT+kq,Nq="(?:"+[oT+Cm+"?",Cm,sT,cT,jq].join("|")+")",Rq=RegExp(km+"(?="+km+")|"+Nq+$q,"g");function Iq(t){return t.match(Rq)||[]}var Mq=Iq,Dq=_q,Lq=iT,Bq=Mq;function Fq(t){return Lq(t)?Bq(t):Dq(t)}var Uq=Fq,Wq=dq,zq=iT,qq=Uq,Hq=Qj;function Kq(t){return function(e){e=Hq(e);var r=zq(e)?qq(e):void 0,n=r?r[0]:e.charAt(0),i=r?Wq(r,1).join(""):e.slice(1);return n[t]()+i}}var Vq=Kq,Gq=Vq,Yq=Gq("toUpperCase"),Xq=Yq;const Xf=ke(Xq);function We(t){return function(){return t}}const dT=Math.cos,Vu=Math.sin,Fr=Math.sqrt,Gu=Math.PI,Qf=2*Gu,$m=Math.PI,Nm=2*$m,Wi=1e-6,Qq=Nm-Wi;function fT(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Jq(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return fT;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Zq{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?fT:Jq(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,c=n-e,l=i-r,u=o-e,d=s-r,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>Wi)if(!(Math.abs(d*c-l*u)>Wi)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-o,g=i-s,m=c*c+l*l,v=h*h+g*g,b=Math.sqrt(m),w=Math.sqrt(f),y=a*Math.tan(($m-Math.acos((m+f-v)/(2*b*w)))/2),O=y/w,_=y/b;Math.abs(O-1)>Wi&&this._append`L${e+O*u},${r+O*d}`,this._append`A${a},${a},0,0,${+(d*h>u*g)},${this._x1=e+_*c},${this._y1=r+_*l}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),c=n*Math.sin(i),l=e+s,u=r+c,d=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>Wi||Math.abs(this._y1-u)>Wi)&&this._append`L${l},${u}`,n&&(f<0&&(f=f%Nm+Nm),f>Qq?this._append`A${n},${n},0,1,${d},${e-s},${r-c}A${n},${n},0,1,${d},${this._x1=l},${this._y1=u}`:f>Wi&&this._append`A${n},${n},0,${+(f>=$m)},${d},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function xy(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Zq(e)}function _y(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function hT(t){this._context=t}hT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Jf(t){return new hT(t)}function pT(t){return t[0]}function mT(t){return t[1]}function vT(t,e){var r=We(!0),n=null,i=Jf,a=null,o=xy(s);t=typeof t=="function"?t:t===void 0?pT:We(t),e=typeof e=="function"?e:e===void 0?mT:We(e);function s(c){var l,u=(c=_y(c)).length,d,f=!1,h;for(n==null&&(a=i(h=o())),l=0;l<=u;++l)!(l<u&&r(d=c[l],l,c))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(d,l,c),+e(d,l,c));if(h)return a=null,h+""||null}return s.x=function(c){return arguments.length?(t=typeof c=="function"?c:We(+c),s):t},s.y=function(c){return arguments.length?(e=typeof c=="function"?c:We(+c),s):e},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:We(!!c),s):r},s.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),s):i},s.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),s):n},s}function Gl(t,e,r){var n=null,i=We(!0),a=null,o=Jf,s=null,c=xy(l);t=typeof t=="function"?t:t===void 0?pT:We(+t),e=typeof e=="function"?e:We(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?mT:We(+r);function l(d){var f,h,g,m=(d=_y(d)).length,v,b=!1,w,y=new Array(m),O=new Array(m);for(a==null&&(s=o(w=c())),f=0;f<=m;++f){if(!(f<m&&i(v=d[f],f,d))===b)if(b=!b)h=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=f-1;g>=h;--g)s.point(y[g],O[g]);s.lineEnd(),s.areaEnd()}b&&(y[f]=+t(v,f,d),O[f]=+e(v,f,d),s.point(n?+n(v,f,d):y[f],r?+r(v,f,d):O[f]))}if(w)return s=null,w+""||null}function u(){return vT().defined(i).curve(o).context(a)}return l.x=function(d){return arguments.length?(t=typeof d=="function"?d:We(+d),n=null,l):t},l.x0=function(d){return arguments.length?(t=typeof d=="function"?d:We(+d),l):t},l.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:We(+d),l):n},l.y=function(d){return arguments.length?(e=typeof d=="function"?d:We(+d),r=null,l):e},l.y0=function(d){return arguments.length?(e=typeof d=="function"?d:We(+d),l):e},l.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:We(+d),l):r},l.lineX0=l.lineY0=function(){return u().x(t).y(e)},l.lineY1=function(){return u().x(t).y(r)},l.lineX1=function(){return u().x(n).y(e)},l.defined=function(d){return arguments.length?(i=typeof d=="function"?d:We(!!d),l):i},l.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),l):o},l.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),l):a},l}class gT{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function eH(t){return new gT(t,!0)}function tH(t){return new gT(t,!1)}const Sy={draw(t,e){const r=Fr(e/Gu);t.moveTo(r,0),t.arc(0,0,r,0,Qf)}},rH={draw(t,e){const r=Fr(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},yT=Fr(1/3),nH=yT*2,iH={draw(t,e){const r=Fr(e/nH),n=r*yT;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},aH={draw(t,e){const r=Fr(e),n=-r/2;t.rect(n,n,r,r)}},oH=.8908130915292852,bT=Vu(Gu/10)/Vu(7*Gu/10),sH=Vu(Qf/10)*bT,cH=-dT(Qf/10)*bT,lH={draw(t,e){const r=Fr(e*oH),n=sH*r,i=cH*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=Qf*a/5,s=dT(o),c=Vu(o);t.lineTo(c*r,-s*r),t.lineTo(s*n-c*i,c*n+s*i)}t.closePath()}},np=Fr(3),uH={draw(t,e){const r=-Fr(e/(np*3));t.moveTo(0,r*2),t.lineTo(-np*r,-r),t.lineTo(np*r,-r),t.closePath()}},rr=-.5,nr=Fr(3)/2,Rm=1/Fr(12),dH=(Rm/2+1)*3,fH={draw(t,e){const r=Fr(e/dH),n=r/2,i=r*Rm,a=n,o=r*Rm+r,s=-a,c=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,c),t.lineTo(rr*n-nr*i,nr*n+rr*i),t.lineTo(rr*a-nr*o,nr*a+rr*o),t.lineTo(rr*s-nr*c,nr*s+rr*c),t.lineTo(rr*n+nr*i,rr*i-nr*n),t.lineTo(rr*a+nr*o,rr*o-nr*a),t.lineTo(rr*s+nr*c,rr*c-nr*s),t.closePath()}};function hH(t,e){let r=null,n=xy(i);t=typeof t=="function"?t:We(t||Sy),e=typeof e=="function"?e:We(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:We(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:We(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Yu(){}function Xu(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function wT(t){this._context=t}wT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xu(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pH(t){return new wT(t)}function xT(t){this._context=t}xT.prototype={areaStart:Yu,areaEnd:Yu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Xu(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mH(t){return new xT(t)}function _T(t){this._context=t}_T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Xu(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vH(t){return new _T(t)}function ST(t){this._context=t}ST.prototype={areaStart:Yu,areaEnd:Yu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function gH(t){return new ST(t)}function ow(t){return t<0?-1:1}function sw(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(ow(a)+ow(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function cw(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function ip(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function Qu(t){this._context=t}Qu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ip(this,this._t0,cw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ip(this,cw(this,r=sw(this,t,e)),r);break;default:ip(this,this._t0,r=sw(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function OT(t){this._context=new AT(t)}(OT.prototype=Object.create(Qu.prototype)).point=function(t,e){Qu.prototype.point.call(this,e,t)};function AT(t){this._context=t}AT.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function yH(t){return new Qu(t)}function bH(t){return new OT(t)}function ET(t){this._context=t}ET.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=lw(t),i=lw(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function lw(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function wH(t){return new ET(t)}function Zf(t,e){this._context=t,this._t=e}Zf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function xH(t){return new Zf(t,.5)}function _H(t){return new Zf(t,0)}function SH(t){return new Zf(t,1)}function Do(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Im(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function OH(t,e){return t[e]}function AH(t){const e=[];return e.key=t,e}function EH(){var t=We([]),e=Im,r=Do,n=OH;function i(a){var o=Array.from(t.apply(this,arguments),AH),s,c=o.length,l=-1,u;for(const d of a)for(s=0,++l;s<c;++s)(o[s][l]=[0,+n(d,o[s].key,l,a)]).data=d;for(s=0,u=_y(e(o));s<c;++s)o[u[s]].index=s;return r(o,u),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:We(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:We(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Im:typeof a=="function"?a:We(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Do,i):r},i}function PH(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}Do(t,e)}}function jH(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Do(t,e)}}function TH(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,c=0,l=0;s<o;++s){for(var u=t[e[s]],d=u[n][1]||0,f=u[n-1][1]||0,h=(d-f)/2,g=0;g<s;++g){var m=t[e[g]],v=m[n][1]||0,b=m[n-1][1]||0;h+=v-b}c+=d,l+=h*d}i[n-1][1]+=i[n-1][0]=r,c&&(r-=l/c)}i[n-1][1]+=i[n-1][0]=r,Do(t,e)}}function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}var CH=["type","size","sizeType"];function Mm(){return Mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mm.apply(this,arguments)}function uw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uw(Object(r),!0).forEach(function(n){kH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kH(t,e,r){return e=$H(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $H(t){var e=NH(t,"string");return Oc(e)=="symbol"?e:e+""}function NH(t,e){if(Oc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RH(t,e){if(t==null)return{};var r=IH(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function IH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var PT={symbolCircle:Sy,symbolCross:rH,symbolDiamond:iH,symbolSquare:aH,symbolStar:lH,symbolTriangle:uH,symbolWye:fH},MH=Math.PI/180,DH=function(e){var r="symbol".concat(Xf(e));return PT[r]||Sy},LH=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*MH;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},BH=function(e,r){PT["symbol".concat(Xf(e))]=r},eh=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,c=RH(e,CH),l=dw(dw({},c),{},{type:n,size:a,sizeType:s}),u=function(){var v=DH(n),b=hH().type(v).size(LH(a,s,n));return b()},d=l.className,f=l.cx,h=l.cy,g=te(l,!0);return f===+f&&h===+h&&a===+a?P.createElement("path",Mm({},g,{className:me("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};eh.registerSymbol=BH;function Lo(t){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lo(t)}function Dm(){return Dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dm.apply(this,arguments)}function fw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fw(Object(r),!0).forEach(function(n){Ac(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TT(n.key),n)}}function zH(t,e,r){return e&&WH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qH(t,e,r){return e=Ju(e),HH(t,jT()?Reflect.construct(e,r||[],Ju(t).constructor):e.apply(t,r))}function HH(t,e){if(e&&(Lo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KH(t)}function KH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jT=function(){return!!t})()}function Ju(t){return Ju=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ju(t)}function VH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lm(t,e)}function Lm(t,e){return Lm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lm(t,e)}function Ac(t,e,r){return e=TT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TT(t){var e=GH(t,"string");return Lo(e)=="symbol"?e:e+""}function GH(t,e){if(Lo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ir=32,Oy=function(t){function e(){return UH(this,e),qH(this,e,arguments)}return VH(e,t),zH(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=ir/2,o=ir/6,s=ir/3,c=n.inactive?i:n.color;if(n.type==="plainline")return P.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:ir,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return P.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(ir,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return P.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ir/8,"h").concat(ir,"v").concat(ir*3/4,"h").concat(-ir,"z"),className:"recharts-legend-icon"});if(P.isValidElement(n.legendIcon)){var l=FH({},n);return delete l.legendIcon,P.cloneElement(n.legendIcon,l)}return P.createElement(eh,{fill:c,cx:a,cy:a,size:ir,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,c=i.formatter,l=i.inactiveColor,u={x:0,y:0,width:ir,height:ir},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,g){var m=h.formatter||c,v=me(Ac(Ac({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",h.inactive));if(h.type==="none")return null;var b=se(h.value)?null:h.value;Ir(!se(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=h.inactive?l:h.color;return P.createElement("li",Dm({className:v,style:d,key:"legend-item-".concat(g)},xi(n.props,h,g)),P.createElement(jm,{width:o,height:o,viewBox:u,style:f},n.renderIcon(h)),P.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},m?m(b,h,g):b))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return P.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(x.PureComponent);Ac(Oy,"displayName","Legend");Ac(Oy,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var YH=Df;function XH(){this.__data__=new YH,this.size=0}var QH=XH;function JH(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var ZH=JH;function e6(t){return this.__data__.get(t)}var t6=e6;function r6(t){return this.__data__.has(t)}var n6=r6,i6=Df,a6=fy,o6=hy,s6=200;function c6(t,e){var r=this.__data__;if(r instanceof i6){var n=r.__data__;if(!a6||n.length<s6-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new o6(n)}return r.set(t,e),this.size=r.size,this}var l6=c6,u6=Df,d6=QH,f6=ZH,h6=t6,p6=n6,m6=l6;function js(t){var e=this.__data__=new u6(t);this.size=e.size}js.prototype.clear=d6;js.prototype.delete=f6;js.prototype.get=h6;js.prototype.has=p6;js.prototype.set=m6;var CT=js,v6="__lodash_hash_undefined__";function g6(t){return this.__data__.set(t,v6),this}var y6=g6;function b6(t){return this.__data__.has(t)}var w6=b6,x6=hy,_6=y6,S6=w6;function Zu(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new x6;++e<r;)this.add(t[e])}Zu.prototype.add=Zu.prototype.push=_6;Zu.prototype.has=S6;var kT=Zu;function O6(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var $T=O6;function A6(t,e){return t.has(e)}var NT=A6,E6=kT,P6=$T,j6=NT,T6=1,C6=2;function k6(t,e,r,n,i,a){var o=r&T6,s=t.length,c=e.length;if(s!=c&&!(o&&c>s))return!1;var l=a.get(t),u=a.get(e);if(l&&u)return l==e&&u==t;var d=-1,f=!0,h=r&C6?new E6:void 0;for(a.set(t,e),a.set(e,t);++d<s;){var g=t[d],m=e[d];if(n)var v=o?n(m,g,d,e,t,a):n(g,m,d,t,e,a);if(v!==void 0){if(v)continue;f=!1;break}if(h){if(!P6(e,function(b,w){if(!j6(h,w)&&(g===b||i(g,b,r,n,a)))return h.push(w)})){f=!1;break}}else if(!(g===m||i(g,m,r,n,a))){f=!1;break}}return a.delete(t),a.delete(e),f}var RT=k6,$6=dn,N6=$6.Uint8Array,R6=N6;function I6(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var M6=I6;function D6(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Ay=D6,hw=yl,pw=R6,L6=dy,B6=RT,F6=M6,U6=Ay,W6=1,z6=2,q6="[object Boolean]",H6="[object Date]",K6="[object Error]",V6="[object Map]",G6="[object Number]",Y6="[object RegExp]",X6="[object Set]",Q6="[object String]",J6="[object Symbol]",Z6="[object ArrayBuffer]",eK="[object DataView]",mw=hw?hw.prototype:void 0,ap=mw?mw.valueOf:void 0;function tK(t,e,r,n,i,a,o){switch(r){case eK:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Z6:return!(t.byteLength!=e.byteLength||!a(new pw(t),new pw(e)));case q6:case H6:case G6:return L6(+t,+e);case K6:return t.name==e.name&&t.message==e.message;case Y6:case Q6:return t==e+"";case V6:var s=F6;case X6:var c=n&W6;if(s||(s=U6),t.size!=e.size&&!c)return!1;var l=o.get(t);if(l)return l==e;n|=z6,o.set(t,e);var u=B6(s(t),s(e),n,i,a,o);return o.delete(t),u;case J6:if(ap)return ap.call(t)==ap.call(e)}return!1}var rK=tK;function nK(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var IT=nK,iK=IT,aK=Wt;function oK(t,e,r){var n=e(t);return aK(t)?n:iK(n,r(t))}var sK=oK;function cK(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var lK=cK;function uK(){return[]}var dK=uK,fK=lK,hK=dK,pK=Object.prototype,mK=pK.propertyIsEnumerable,vw=Object.getOwnPropertySymbols,vK=vw?function(t){return t==null?[]:(t=Object(t),fK(vw(t),function(e){return mK.call(t,e)}))}:hK,gK=vK;function yK(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var bK=yK,wK=Dn,xK=Ln,_K="[object Arguments]";function SK(t){return xK(t)&&wK(t)==_K}var OK=SK,gw=OK,AK=Ln,MT=Object.prototype,EK=MT.hasOwnProperty,PK=MT.propertyIsEnumerable,jK=gw(function(){return arguments}())?gw:function(t){return AK(t)&&EK.call(t,"callee")&&!PK.call(t,"callee")},Ey=jK,ed={exports:{}};function TK(){return!1}var CK=TK;ed.exports;(function(t,e){var r=dn,n=CK,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,c=s?s.isBuffer:void 0,l=c||n;t.exports=l})(ed,ed.exports);var DT=ed.exports,kK=9007199254740991,$K=/^(?:0|[1-9]\d*)$/;function NK(t,e){var r=typeof t;return e=e??kK,!!e&&(r=="number"||r!="symbol"&&$K.test(t))&&t>-1&&t%1==0&&t<e}var Py=NK,RK=9007199254740991;function IK(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=RK}var jy=IK,MK=Dn,DK=jy,LK=Ln,BK="[object Arguments]",FK="[object Array]",UK="[object Boolean]",WK="[object Date]",zK="[object Error]",qK="[object Function]",HK="[object Map]",KK="[object Number]",VK="[object Object]",GK="[object RegExp]",YK="[object Set]",XK="[object String]",QK="[object WeakMap]",JK="[object ArrayBuffer]",ZK="[object DataView]",eV="[object Float32Array]",tV="[object Float64Array]",rV="[object Int8Array]",nV="[object Int16Array]",iV="[object Int32Array]",aV="[object Uint8Array]",oV="[object Uint8ClampedArray]",sV="[object Uint16Array]",cV="[object Uint32Array]",ze={};ze[eV]=ze[tV]=ze[rV]=ze[nV]=ze[iV]=ze[aV]=ze[oV]=ze[sV]=ze[cV]=!0;ze[BK]=ze[FK]=ze[JK]=ze[UK]=ze[ZK]=ze[WK]=ze[zK]=ze[qK]=ze[HK]=ze[KK]=ze[VK]=ze[GK]=ze[YK]=ze[XK]=ze[QK]=!1;function lV(t){return LK(t)&&DK(t.length)&&!!ze[MK(t)]}var uV=lV;function dV(t){return function(e){return t(e)}}var LT=dV,td={exports:{}};td.exports;(function(t,e){var r=Hj,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(td,td.exports);var fV=td.exports,hV=uV,pV=LT,yw=fV,bw=yw&&yw.isTypedArray,mV=bw?pV(bw):hV,BT=mV,vV=bK,gV=Ey,yV=Wt,bV=DT,wV=Py,xV=BT,_V=Object.prototype,SV=_V.hasOwnProperty;function OV(t,e){var r=yV(t),n=!r&&gV(t),i=!r&&!n&&bV(t),a=!r&&!n&&!i&&xV(t),o=r||n||i||a,s=o?vV(t.length,String):[],c=s.length;for(var l in t)(e||SV.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||wV(l,c)))&&s.push(l);return s}var AV=OV,EV=Object.prototype;function PV(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||EV;return t===r}var jV=PV;function TV(t,e){return function(r){return t(e(r))}}var FT=TV,CV=FT,kV=CV(Object.keys,Object),$V=kV,NV=jV,RV=$V,IV=Object.prototype,MV=IV.hasOwnProperty;function DV(t){if(!NV(t))return RV(t);var e=[];for(var r in Object(t))MV.call(t,r)&&r!="constructor"&&e.push(r);return e}var LV=DV,BV=uy,FV=jy;function UV(t){return t!=null&&FV(t.length)&&!BV(t)}var bl=UV,WV=AV,zV=LV,qV=bl;function HV(t){return qV(t)?WV(t):zV(t)}var th=HV,KV=sK,VV=gK,GV=th;function YV(t){return KV(t,GV,VV)}var XV=YV,ww=XV,QV=1,JV=Object.prototype,ZV=JV.hasOwnProperty;function eG(t,e,r,n,i,a){var o=r&QV,s=ww(t),c=s.length,l=ww(e),u=l.length;if(c!=u&&!o)return!1;for(var d=c;d--;){var f=s[d];if(!(o?f in e:ZV.call(e,f)))return!1}var h=a.get(t),g=a.get(e);if(h&&g)return h==e&&g==t;var m=!0;a.set(t,e),a.set(e,t);for(var v=o;++d<c;){f=s[d];var b=t[f],w=e[f];if(n)var y=o?n(w,b,f,e,t,a):n(b,w,f,t,e,a);if(!(y===void 0?b===w||i(b,w,r,n,a):y)){m=!1;break}v||(v=f=="constructor")}if(m&&!v){var O=t.constructor,_=e.constructor;O!=_&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof _=="function"&&_ instanceof _)&&(m=!1)}return a.delete(t),a.delete(e),m}var tG=eG,rG=Pa,nG=dn,iG=rG(nG,"DataView"),aG=iG,oG=Pa,sG=dn,cG=oG(sG,"Promise"),lG=cG,uG=Pa,dG=dn,fG=uG(dG,"Set"),UT=fG,hG=Pa,pG=dn,mG=hG(pG,"WeakMap"),vG=mG,Bm=aG,Fm=fy,Um=lG,Wm=UT,zm=vG,WT=Dn,Ts=Vj,xw="[object Map]",gG="[object Object]",_w="[object Promise]",Sw="[object Set]",Ow="[object WeakMap]",Aw="[object DataView]",yG=Ts(Bm),bG=Ts(Fm),wG=Ts(Um),xG=Ts(Wm),_G=Ts(zm),zi=WT;(Bm&&zi(new Bm(new ArrayBuffer(1)))!=Aw||Fm&&zi(new Fm)!=xw||Um&&zi(Um.resolve())!=_w||Wm&&zi(new Wm)!=Sw||zm&&zi(new zm)!=Ow)&&(zi=function(t){var e=WT(t),r=e==gG?t.constructor:void 0,n=r?Ts(r):"";if(n)switch(n){case yG:return Aw;case bG:return xw;case wG:return _w;case xG:return Sw;case _G:return Ow}return e});var SG=zi,op=CT,OG=RT,AG=rK,EG=tG,Ew=SG,Pw=Wt,jw=DT,PG=BT,jG=1,Tw="[object Arguments]",Cw="[object Array]",Yl="[object Object]",TG=Object.prototype,kw=TG.hasOwnProperty;function CG(t,e,r,n,i,a){var o=Pw(t),s=Pw(e),c=o?Cw:Ew(t),l=s?Cw:Ew(e);c=c==Tw?Yl:c,l=l==Tw?Yl:l;var u=c==Yl,d=l==Yl,f=c==l;if(f&&jw(t)){if(!jw(e))return!1;o=!0,u=!1}if(f&&!u)return a||(a=new op),o||PG(t)?OG(t,e,r,n,i,a):AG(t,e,c,r,n,i,a);if(!(r&jG)){var h=u&&kw.call(t,"__wrapped__"),g=d&&kw.call(e,"__wrapped__");if(h||g){var m=h?t.value():t,v=g?e.value():e;return a||(a=new op),i(m,v,r,n,a)}}return f?(a||(a=new op),EG(t,e,r,n,i,a)):!1}var kG=CG,$G=kG,$w=Ln;function zT(t,e,r,n,i){return t===e?!0:t==null||e==null||!$w(t)&&!$w(e)?t!==t&&e!==e:$G(t,e,r,n,zT,i)}var Ty=zT,NG=CT,RG=Ty,IG=1,MG=2;function DG(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var c=s[0],l=t[c],u=s[1];if(o&&s[2]){if(l===void 0&&!(c in t))return!1}else{var d=new NG;if(n)var f=n(l,u,c,t,e,d);if(!(f===void 0?RG(u,l,IG|MG,n,d):f))return!1}}return!0}var LG=DG,BG=Pi;function FG(t){return t===t&&!BG(t)}var qT=FG,UG=qT,WG=th;function zG(t){for(var e=WG(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,UG(i)]}return e}var qG=zG;function HG(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var HT=HG,KG=LG,VG=qG,GG=HT;function YG(t){var e=VG(t);return e.length==1&&e[0][2]?GG(e[0][0],e[0][1]):function(r){return r===t||KG(r,t,e)}}var XG=YG;function QG(t,e){return t!=null&&e in Object(t)}var JG=QG,ZG=Jj,e7=Ey,t7=Wt,r7=Py,n7=jy,i7=Bf;function a7(t,e,r){e=ZG(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=i7(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&n7(i)&&r7(o,i)&&(t7(t)||e7(t)))}var o7=a7,s7=JG,c7=o7;function l7(t,e){return t!=null&&c7(t,e,s7)}var u7=l7,d7=Ty,f7=Zj,h7=u7,p7=ly,m7=qT,v7=HT,g7=Bf,y7=1,b7=2;function w7(t,e){return p7(t)&&m7(e)?v7(g7(t),e):function(r){var n=f7(r,t);return n===void 0&&n===e?h7(r,t):d7(e,n,y7|b7)}}var x7=w7;function _7(t){return t}var Cs=_7;function S7(t){return function(e){return e==null?void 0:e[t]}}var O7=S7,A7=vy;function E7(t){return function(e){return A7(e,t)}}var P7=E7,j7=O7,T7=P7,C7=ly,k7=Bf;function $7(t){return C7(t)?j7(k7(t)):T7(t)}var N7=$7,R7=XG,I7=x7,M7=Cs,D7=Wt,L7=N7;function B7(t){return typeof t=="function"?t:t==null?M7:typeof t=="object"?D7(t)?I7(t[0],t[1]):R7(t):L7(t)}var fn=B7;function F7(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var KT=F7;function U7(t){return t!==t}var W7=U7;function z7(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var q7=z7,H7=KT,K7=W7,V7=q7;function G7(t,e,r){return e===e?V7(t,e,r):H7(t,K7,r)}var Y7=G7,X7=Y7;function Q7(t,e){var r=t==null?0:t.length;return!!r&&X7(t,e,0)>-1}var J7=Q7;function Z7(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var e9=Z7;function t9(){}var r9=t9,sp=UT,n9=r9,i9=Ay,a9=1/0,o9=sp&&1/i9(new sp([,-0]))[1]==a9?function(t){return new sp(t)}:n9,s9=o9,c9=kT,l9=J7,u9=e9,d9=NT,f9=s9,h9=Ay,p9=200;function m9(t,e,r){var n=-1,i=l9,a=t.length,o=!0,s=[],c=s;if(r)o=!1,i=u9;else if(a>=p9){var l=e?null:f9(t);if(l)return h9(l);o=!1,i=d9,c=new c9}else c=e?[]:s;e:for(;++n<a;){var u=t[n],d=e?e(u):u;if(u=r||u!==0?u:0,o&&d===d){for(var f=c.length;f--;)if(c[f]===d)continue e;e&&c.push(d),s.push(u)}else i(c,d,r)||(c!==s&&c.push(d),s.push(u))}return s}var v9=m9,g9=fn,y9=v9;function b9(t,e){return t&&t.length?y9(t,g9(e)):[]}var w9=b9;const Nw=ke(w9);function VT(t,e,r){return e===!0?Nw(t,r):se(e)?Nw(t,e):t}function Bo(t){"@babel/helpers - typeof";return Bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bo(t)}var x9=["ref"];function Rw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rw(Object(r),!0).forEach(function(n){rh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YT(n.key),n)}}function S9(t,e,r){return e&&Iw(t.prototype,e),r&&Iw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function O9(t,e,r){return e=rd(e),A9(t,GT()?Reflect.construct(e,r||[],rd(t).constructor):e.apply(t,r))}function A9(t,e){if(e&&(Bo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E9(t)}function E9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GT=function(){return!!t})()}function rd(t){return rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rd(t)}function P9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qm(t,e)}function qm(t,e){return qm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qm(t,e)}function rh(t,e,r){return e=YT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YT(t){var e=j9(t,"string");return Bo(e)=="symbol"?e:e+""}function j9(t,e){if(Bo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T9(t,e){if(t==null)return{};var r=C9(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function C9(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function k9(t){return t.value}function $9(t,e){if(P.isValidElement(t))return P.cloneElement(t,e);if(typeof t=="function")return P.createElement(t,e);e.ref;var r=T9(e,x9);return P.createElement(Oy,r)}var Mw=1,mi=function(t){function e(){var r;_9(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=O9(this,e,[].concat(i)),rh(r,"lastBoundingBox",{width:-1,height:-1}),r}return P9(e,t),S9(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Mw||Math.abs(i.height-this.lastBoundingBox.height)>Mw)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?hn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,c=i.margin,l=i.chartWidth,u=i.chartHeight,d,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();d={left:((l||0)-h.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();f={top:((u||0)-g.height)/2}}else f=s==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return hn(hn({},d),f)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,c=i.wrapperStyle,l=i.payloadUniqBy,u=i.payload,d=hn(hn({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(c)),c);return P.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(h){n.wrapperNode=h}},$9(a,hn(hn({},this.props),{},{payload:VT(u,l,k9)})))}}],[{key:"getWithHeight",value:function(n,i){var a=hn(hn({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&V(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(x.PureComponent);rh(mi,"displayName","Legend");rh(mi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Dw=yl,N9=Ey,R9=Wt,Lw=Dw?Dw.isConcatSpreadable:void 0;function I9(t){return R9(t)||N9(t)||!!(Lw&&t&&t[Lw])}var M9=I9,D9=IT,L9=M9;function XT(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=L9),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?XT(s,e-1,r,n,i):D9(i,s):n||(i[i.length]=s)}return i}var QT=XT;function B9(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var c=o[t?s:++i];if(r(a[c],c,a)===!1)break}return e}}var F9=B9,U9=F9,W9=U9(),z9=W9,q9=z9,H9=th;function K9(t,e){return t&&q9(t,e,H9)}var JT=K9,V9=bl;function G9(t,e){return function(r,n){if(r==null)return r;if(!V9(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var Y9=G9,X9=JT,Q9=Y9,J9=Q9(X9),Cy=J9,Z9=Cy,eY=bl;function tY(t,e){var r=-1,n=eY(t)?Array(t.length):[];return Z9(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var ZT=tY;function rY(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var nY=rY,Bw=_s;function iY(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=Bw(t),o=e!==void 0,s=e===null,c=e===e,l=Bw(e);if(!s&&!l&&!a&&t>e||a&&o&&c&&!s&&!l||n&&o&&c||!r&&c||!i)return 1;if(!n&&!a&&!l&&t<e||l&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!c)return-1}return 0}var aY=iY,oY=aY;function sY(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,s=r.length;++n<o;){var c=oY(i[n],a[n]);if(c){if(n>=s)return c;var l=r[n];return c*(l=="desc"?-1:1)}}return t.index-e.index}var cY=sY,cp=my,lY=vy,uY=fn,dY=ZT,fY=nY,hY=LT,pY=cY,mY=Cs,vY=Wt;function gY(t,e,r){e.length?e=cp(e,function(a){return vY(a)?function(o){return lY(o,a.length===1?a[0]:a)}:a}):e=[mY];var n=-1;e=cp(e,hY(uY));var i=dY(t,function(a,o,s){var c=cp(e,function(l){return l(a)});return{criteria:c,index:++n,value:a}});return fY(i,function(a,o){return pY(a,o,r)})}var yY=gY;function bY(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var wY=bY,xY=wY,Fw=Math.max;function _Y(t,e,r){return e=Fw(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=Fw(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),xY(t,this,s)}}var SY=_Y;function OY(t){return function(){return t}}var AY=OY,EY=Pa,PY=function(){try{var t=EY(Object,"defineProperty");return t({},"",{}),t}catch{}}(),eC=PY,jY=AY,Uw=eC,TY=Cs,CY=Uw?function(t,e){return Uw(t,"toString",{configurable:!0,enumerable:!1,value:jY(e),writable:!0})}:TY,kY=CY,$Y=800,NY=16,RY=Date.now;function IY(t){var e=0,r=0;return function(){var n=RY(),i=NY-(n-r);if(r=n,i>0){if(++e>=$Y)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var MY=IY,DY=kY,LY=MY,BY=LY(DY),FY=BY,UY=Cs,WY=SY,zY=FY;function qY(t,e){return zY(WY(t,e,UY),t+"")}var HY=qY,KY=dy,VY=bl,GY=Py,YY=Pi;function XY(t,e,r){if(!YY(r))return!1;var n=typeof e;return(n=="number"?VY(r)&&GY(e,r.length):n=="string"&&e in r)?KY(r[e],t):!1}var nh=XY,QY=QT,JY=yY,ZY=HY,Ww=nh,eX=ZY(function(t,e){if(t==null)return[];var r=e.length;return r>1&&Ww(t,e[0],e[1])?e=[]:r>2&&Ww(e[0],e[1],e[2])&&(e=[e[0]]),JY(t,QY(e,1),[])}),tX=eX;const ky=ke(tX);function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function Hm(){return Hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hm.apply(this,arguments)}function rX(t,e){return oX(t)||aX(t,e)||iX(t,e)||nX()}function nX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iX(t,e){if(t){if(typeof t=="string")return zw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zw(t,e)}}function zw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function oX(t){if(Array.isArray(t))return t}function qw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qw(Object(r),!0).forEach(function(n){sX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sX(t,e,r){return e=cX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cX(t){var e=lX(t,"string");return Ec(e)=="symbol"?e:e+""}function lX(t,e){if(Ec(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uX(t){return Array.isArray(t)&&pt(t[0])&&pt(t[1])?t.join(" ~ "):t}var dX=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,c=e.labelStyle,l=c===void 0?{}:c,u=e.payload,d=e.formatter,f=e.itemSorter,h=e.wrapperClassName,g=e.labelClassName,m=e.label,v=e.labelFormatter,b=e.accessibilityLayer,w=b===void 0?!1:b,y=function(){if(u&&u.length){var k={padding:0,margin:0},L=(f?ky(u,f):u).map(function(R,B){if(R.type==="none")return null;var $=lp({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},s),M=R.formatter||d||uX,F=R.value,D=R.name,z=F,Y=D;if(M&&z!=null&&Y!=null){var q=M(F,D,R,B,u);if(Array.isArray(q)){var I=rX(q,2);z=I[0],Y=I[1]}else z=q}return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:$},pt(Y)?P.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,pt(Y)?P.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,P.createElement("span",{className:"recharts-tooltip-item-value"},z),P.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:k},L)}return null},O=lp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),_=lp({margin:0},l),S=!ce(m),A=S?m:"",E=me("recharts-default-tooltip",h),j=me("recharts-tooltip-label",g);S&&v&&u!==void 0&&u!==null&&(A=v(m,u));var T=w?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",Hm({className:E,style:O},T),P.createElement("p",{className:j,style:_},P.isValidElement(A)?A:"".concat(A)),y())};function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function Xl(t,e,r){return e=fX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fX(t){var e=hX(t,"string");return Pc(e)=="symbol"?e:e+""}function hX(t,e){if(Pc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bs="recharts-tooltip-wrapper",pX={visibility:"hidden"};function mX(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return me(Bs,Xl(Xl(Xl(Xl({},"".concat(Bs,"-right"),V(r)&&e&&V(e.x)&&r>=e.x),"".concat(Bs,"-left"),V(r)&&e&&V(e.x)&&r<e.x),"".concat(Bs,"-bottom"),V(n)&&e&&V(e.y)&&n>=e.y),"".concat(Bs,"-top"),V(n)&&e&&V(e.y)&&n<e.y))}function Hw(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,c=t.viewBox,l=t.viewBoxDimension;if(a&&V(a[n]))return a[n];var u=r[n]-s-i,d=r[n]+i;if(e[n])return o[n]?u:d;if(o[n]){var f=u,h=c[n];return f<h?Math.max(d,c[n]):Math.max(u,c[n])}var g=d+s,m=c[n]+l;return g>m?Math.max(u,c[n]):Math.max(d,c[n])}function vX(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function gX(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,c=t.viewBox,l,u,d;return o.height>0&&o.width>0&&r?(u=Hw({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=Hw({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),l=vX({translateX:u,translateY:d,useTranslate3d:s})):l=pX,{cssProperties:l,cssClasses:mX({translateX:u,translateY:d,coordinate:r})}}function Fo(t){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fo(t)}function Kw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kw(Object(r),!0).forEach(function(n){Vm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rC(n.key),n)}}function wX(t,e,r){return e&&bX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xX(t,e,r){return e=nd(e),_X(t,tC()?Reflect.construct(e,r||[],nd(t).constructor):e.apply(t,r))}function _X(t,e){if(e&&(Fo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SX(t)}function SX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tC=function(){return!!t})()}function nd(t){return nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nd(t)}function OX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Km(t,e)}function Km(t,e){return Km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Km(t,e)}function Vm(t,e,r){return e=rC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rC(t){var e=AX(t,"string");return Fo(e)=="symbol"?e:e+""}function AX(t,e){if(Fo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gw=1,EX=function(t){function e(){var r;yX(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=xX(this,e,[].concat(i)),Vm(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Vm(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,c,l,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&s!==void 0?s:0,y:(l=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&l!==void 0?l:0}})}}),r}return OX(e,t),wX(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Gw||Math.abs(n.height-this.state.lastBoundingBox.height)>Gw)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,c=i.animationEasing,l=i.children,u=i.coordinate,d=i.hasPayload,f=i.isAnimationActive,h=i.offset,g=i.position,m=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,w=i.wrapperStyle,y=gX({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:h,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),O=y.cssClasses,_=y.cssProperties,S=Vw(Vw({transition:f&&a?"transform ".concat(s,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},w);return P.createElement("div",{tabIndex:-1,className:O,style:S,ref:function(E){n.wrapperNode=E}},l)}}])}(x.PureComponent),PX=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Zt={isSsr:PX(),get:function(e){return Zt[e]},set:function(e,r){if(typeof e=="string")Zt[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){Zt[i]=e[i]})}}};function Uo(t){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uo(t)}function Yw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yw(Object(r),!0).forEach(function(n){$y(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iC(n.key),n)}}function CX(t,e,r){return e&&TX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kX(t,e,r){return e=id(e),$X(t,nC()?Reflect.construct(e,r||[],id(t).constructor):e.apply(t,r))}function $X(t,e){if(e&&(Uo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NX(t)}function NX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nC=function(){return!!t})()}function id(t){return id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},id(t)}function RX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gm(t,e)}function Gm(t,e){return Gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gm(t,e)}function $y(t,e,r){return e=iC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iC(t){var e=IX(t,"string");return Uo(e)=="symbol"?e:e+""}function IX(t,e){if(Uo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MX(t){return t.dataKey}function DX(t,e){return P.isValidElement(t)?P.cloneElement(t,e):typeof t=="function"?P.createElement(t,e):P.createElement(dX,e)}var gt=function(t){function e(){return jX(this,e),kX(this,e,arguments)}return RX(e,t),CX(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,c=i.animationEasing,l=i.content,u=i.coordinate,d=i.filterNull,f=i.isAnimationActive,h=i.offset,g=i.payload,m=i.payloadUniqBy,v=i.position,b=i.reverseDirection,w=i.useTranslate3d,y=i.viewBox,O=i.wrapperStyle,_=g??[];d&&_.length&&(_=VT(g.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),m,MX));var S=_.length>0;return P.createElement(EX,{allowEscapeViewBox:o,animationDuration:s,animationEasing:c,isAnimationActive:f,active:a,coordinate:u,hasPayload:S,offset:h,position:v,reverseDirection:b,useTranslate3d:w,viewBox:y,wrapperStyle:O},DX(l,Xw(Xw({},this.props),{},{payload:_})))}}])}(x.PureComponent);$y(gt,"displayName","Tooltip");$y(gt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Zt.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var LX=dn,BX=function(){return LX.Date.now()},FX=BX,UX=/\s/;function WX(t){for(var e=t.length;e--&&UX.test(t.charAt(e)););return e}var zX=WX,qX=zX,HX=/^\s+/;function KX(t){return t&&t.slice(0,qX(t)+1).replace(HX,"")}var VX=KX,GX=VX,Qw=Pi,YX=_s,Jw=NaN,XX=/^[-+]0x[0-9a-f]+$/i,QX=/^0b[01]+$/i,JX=/^0o[0-7]+$/i,ZX=parseInt;function eQ(t){if(typeof t=="number")return t;if(YX(t))return Jw;if(Qw(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Qw(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=GX(t);var r=QX.test(t);return r||JX.test(t)?ZX(t.slice(2),r?2:8):XX.test(t)?Jw:+t}var aC=eQ,tQ=Pi,up=FX,Zw=aC,rQ="Expected a function",nQ=Math.max,iQ=Math.min;function aQ(t,e,r){var n,i,a,o,s,c,l=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(rQ);e=Zw(e)||0,tQ(r)&&(u=!!r.leading,d="maxWait"in r,a=d?nQ(Zw(r.maxWait)||0,e):a,f="trailing"in r?!!r.trailing:f);function h(S){var A=n,E=i;return n=i=void 0,l=S,o=t.apply(E,A),o}function g(S){return l=S,s=setTimeout(b,e),u?h(S):o}function m(S){var A=S-c,E=S-l,j=e-A;return d?iQ(j,a-E):j}function v(S){var A=S-c,E=S-l;return c===void 0||A>=e||A<0||d&&E>=a}function b(){var S=up();if(v(S))return w(S);s=setTimeout(b,m(S))}function w(S){return s=void 0,f&&n?h(S):(n=i=void 0,o)}function y(){s!==void 0&&clearTimeout(s),l=0,n=c=i=s=void 0}function O(){return s===void 0?o:w(up())}function _(){var S=up(),A=v(S);if(n=arguments,i=this,c=S,A){if(s===void 0)return g(c);if(d)return clearTimeout(s),s=setTimeout(b,e),h(c)}return s===void 0&&(s=setTimeout(b,e)),o}return _.cancel=y,_.flush=O,_}var oQ=aQ,sQ=oQ,cQ=Pi,lQ="Expected a function";function uQ(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(lQ);return cQ(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),sQ(t,e,{leading:n,maxWait:e,trailing:i})}var dQ=uQ;const oC=ke(dQ);function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function ex(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ql(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ex(Object(r),!0).forEach(function(n){fQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ex(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fQ(t,e,r){return e=hQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hQ(t){var e=pQ(t,"string");return jc(e)=="symbol"?e:e+""}function pQ(t,e){if(jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mQ(t,e){return bQ(t)||yQ(t,e)||gQ(t,e)||vQ()}function vQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gQ(t,e){if(t){if(typeof t=="string")return tx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tx(t,e)}}function tx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function bQ(t){if(Array.isArray(t))return t}var qr=x.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,c=s===void 0?"100%":s,l=t.minWidth,u=l===void 0?0:l,d=t.minHeight,f=t.maxHeight,h=t.children,g=t.debounce,m=g===void 0?0:g,v=t.id,b=t.className,w=t.onResize,y=t.style,O=y===void 0?{}:y,_=x.useRef(null),S=x.useRef();S.current=w,x.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var A=x.useState({containerWidth:i.width,containerHeight:i.height}),E=mQ(A,2),j=E[0],T=E[1],C=x.useCallback(function(L,R){T(function(B){var $=Math.round(L),M=Math.round(R);return B.containerWidth===$&&B.containerHeight===M?B:{containerWidth:$,containerHeight:M}})},[]);x.useEffect(function(){var L=function(D){var z,Y=D[0].contentRect,q=Y.width,I=Y.height;C(q,I),(z=S.current)===null||z===void 0||z.call(S,q,I)};m>0&&(L=oC(L,m,{trailing:!0,leading:!1}));var R=new ResizeObserver(L),B=_.current.getBoundingClientRect(),$=B.width,M=B.height;return C($,M),R.observe(_.current),function(){R.disconnect()}},[C,m]);var k=x.useMemo(function(){var L=j.containerWidth,R=j.containerHeight;if(L<0||R<0)return null;Ir(Qi(o)||Qi(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ir(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=Qi(o)?L:o,$=Qi(c)?R:c;r&&r>0&&(B?$=B/r:$&&(B=$*r),f&&$>f&&($=f)),Ir(B>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,$,o,c,u,d,r);var M=!Array.isArray(h)&&On(h.type).endsWith("Chart");return P.Children.map(h,function(F){return P.isValidElement(F)?x.cloneElement(F,Ql({width:B,height:$},M?{style:Ql({height:"100%",width:"100%",maxHeight:$,maxWidth:B},F.props.style)}:{})):F})},[r,h,c,f,d,u,j,o]);return P.createElement("div",{id:v?"".concat(v):void 0,className:me("recharts-responsive-container",b),style:Ql(Ql({},O),{},{width:o,height:c,minWidth:u,minHeight:d,maxHeight:f}),ref:_},k)}),ks=function(e){return null};ks.displayName="Cell";function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function rx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ym(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rx(Object(r),!0).forEach(function(n){wQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wQ(t,e,r){return e=xQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xQ(t){var e=_Q(t,"string");return Tc(e)=="symbol"?e:e+""}function _Q(t,e){if(Tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qa={widthCache:{},cacheCount:0},SQ=2e3,OQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},nx="recharts_measurement_span";function AQ(t){var e=Ym({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var nc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Zt.isSsr)return{width:0,height:0};var n=AQ(r),i=JSON.stringify({text:e,copyStyle:n});if(qa.widthCache[i])return qa.widthCache[i];try{var a=document.getElementById(nx);a||(a=document.createElement("span"),a.setAttribute("id",nx),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Ym(Ym({},OQ),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),c={width:s.width,height:s.height};return qa.widthCache[i]=c,++qa.cacheCount>SQ&&(qa.cacheCount=0,qa.widthCache={}),c}catch{return{width:0,height:0}}},EQ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function ad(t,e){return CQ(t)||TQ(t,e)||jQ(t,e)||PQ()}function PQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jQ(t,e){if(t){if(typeof t=="string")return ix(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ix(t,e)}}function ix(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function TQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function CQ(t){if(Array.isArray(t))return t}function kQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ax(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NQ(n.key),n)}}function $Q(t,e,r){return e&&ax(t.prototype,e),r&&ax(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function NQ(t){var e=RQ(t,"string");return Cc(e)=="symbol"?e:e+""}function RQ(t,e){if(Cc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ox=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sx=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,MQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,sC={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},DQ=Object.keys(sC),to="NaN";function LQ(t,e){return t*sC[e]}var Jl=function(){function t(e,r){kQ(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!IQ.test(r)&&(this.num=NaN,this.unit=""),DQ.includes(r)&&(this.num=LQ(e,r),this.unit="px")}return $Q(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=MQ.exec(r))!==null&&n!==void 0?n:[],a=ad(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function cC(t){if(t.includes(to))return to;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=ox.exec(e))!==null&&r!==void 0?r:[],i=ad(n,4),a=i[1],o=i[2],s=i[3],c=Jl.parse(a??""),l=Jl.parse(s??""),u=o==="*"?c.multiply(l):c.divide(l);if(u.isNaN())return to;e=e.replace(ox,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,f=(d=sx.exec(e))!==null&&d!==void 0?d:[],h=ad(f,4),g=h[1],m=h[2],v=h[3],b=Jl.parse(g??""),w=Jl.parse(v??""),y=m==="+"?b.add(w):b.subtract(w);if(y.isNaN())return to;e=e.replace(sx,y.toString())}return e}var cx=/\(([^()]*)\)/;function BQ(t){for(var e=t;e.includes("(");){var r=cx.exec(e),n=ad(r,2),i=n[1];e=e.replace(cx,cC(i))}return e}function FQ(t){var e=t.replace(/\s+/g,"");return e=BQ(e),e=cC(e),e}function UQ(t){try{return FQ(t)}catch{return to}}function dp(t){var e=UQ(t.slice(5,-1));return e===to?"":e}var WQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zQ=["dx","dy","angle","className","breakAll"];function Xm(){return Xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xm.apply(this,arguments)}function lx(t,e){if(t==null)return{};var r=qQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ux(t,e){return GQ(t)||VQ(t,e)||KQ(t,e)||HQ()}function HQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KQ(t,e){if(t){if(typeof t=="string")return dx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dx(t,e)}}function dx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function GQ(t){if(Array.isArray(t))return t}var lC=/[ \f\n\r\t\v\u2028\u2029]+/,uC=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];ce(r)||(n?a=r.toString().split(""):a=r.toString().split(lC));var o=a.map(function(c){return{word:c,width:nc(c,i).width}}),s=n?0:nc("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},YQ=function(e,r,n,i,a){var o=e.maxLines,s=e.children,c=e.style,l=e.breakAll,u=V(o),d=s,f=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function($,M){var F=M.word,D=M.width,z=$[$.length-1];if(z&&(i==null||a||z.width+D+n<Number(i)))z.words.push(F),z.width+=D+n;else{var Y={words:[F],width:D};$.push(Y)}return $},[])},h=f(r),g=function(B){return B.reduce(function($,M){return $.width>M.width?$:M})};if(!u)return h;for(var m="",v=function(B){var $=d.slice(0,B),M=uC({breakAll:l,style:c,children:$+m}).wordsWithComputedWidth,F=f(M),D=F.length>o||g(F).width>Number(i);return[D,F]},b=0,w=d.length-1,y=0,O;b<=w&&y<=d.length-1;){var _=Math.floor((b+w)/2),S=_-1,A=v(S),E=ux(A,2),j=E[0],T=E[1],C=v(_),k=ux(C,1),L=k[0];if(!j&&!L&&(b=_+1),j&&L&&(w=_-1),!j&&L){O=T;break}y++}return O||h},fx=function(e){var r=ce(e)?[]:e.toString().split(lC);return[{words:r}]},XQ=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!Zt.isSsr){var c,l,u=uC({breakAll:o,children:i,style:a});if(u){var d=u.wordsWithComputedWidth,f=u.spaceWidth;c=d,l=f}else return fx(i);return YQ({breakAll:o,children:i,maxLines:s,style:a},c,l,r,n)}return fx(i)},hx="#808080",xa=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,c=e.capHeight,l=c===void 0?"0.71em":c,u=e.scaleToFit,d=u===void 0?!1:u,f=e.textAnchor,h=f===void 0?"start":f,g=e.verticalAnchor,m=g===void 0?"end":g,v=e.fill,b=v===void 0?hx:v,w=lx(e,WQ),y=x.useMemo(function(){return XQ({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:d,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,d,w.style,w.width]),O=w.dx,_=w.dy,S=w.angle,A=w.className,E=w.breakAll,j=lx(w,zQ);if(!pt(n)||!pt(a))return null;var T=n+(V(O)?O:0),C=a+(V(_)?_:0),k;switch(m){case"start":k=dp("calc(".concat(l,")"));break;case"middle":k=dp("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:k=dp("calc(".concat(y.length-1," * -").concat(s,")"));break}var L=[];if(d){var R=y[0].width,B=w.width;L.push("scale(".concat((V(B)?B/R:1)/R,")"))}return S&&L.push("rotate(".concat(S,", ").concat(T,", ").concat(C,")")),L.length&&(j.transform=L.join(" ")),P.createElement("text",Xm({},te(j,!0),{x:T,y:C,className:me("recharts-text",A),textAnchor:h,fill:b.includes("url")?hx:b}),y.map(function($,M){var F=$.words.join(E?"":" ");return P.createElement("tspan",{x:T,dy:M===0?k:s,key:"".concat(F,"-").concat(M)},F)}))};function vi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function QQ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ny(t){let e,r,n;t.length!==2?(e=vi,r=(s,c)=>vi(t(s),c),n=(s,c)=>t(s)-c):(e=t===vi||t===QQ?t:JQ,r=t,n=t);function i(s,c,l=0,u=s.length){if(l<u){if(e(c,c)!==0)return u;do{const d=l+u>>>1;r(s[d],c)<0?l=d+1:u=d}while(l<u)}return l}function a(s,c,l=0,u=s.length){if(l<u){if(e(c,c)!==0)return u;do{const d=l+u>>>1;r(s[d],c)<=0?l=d+1:u=d}while(l<u)}return l}function o(s,c,l=0,u=s.length){const d=i(s,c,l,u-1);return d>l&&n(s[d-1],c)>-n(s[d],c)?d-1:d}return{left:i,center:o,right:a}}function JQ(){return 0}function dC(t){return t===null?NaN:+t}function*ZQ(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const eJ=Ny(vi),wl=eJ.right;Ny(dC).center;class px extends Map{constructor(e,r=nJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(mx(this,e))}has(e){return super.has(mx(this,e))}set(e,r){return super.set(tJ(this,e),r)}delete(e){return super.delete(rJ(this,e))}}function mx({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function tJ({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function rJ({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function nJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function iJ(t=vi){if(t===vi)return fC;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function fC(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const aJ=Math.sqrt(50),oJ=Math.sqrt(10),sJ=Math.sqrt(2);function od(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=aJ?10:a>=oJ?5:a>=sJ?2:1;let s,c,l;return i<0?(l=Math.pow(10,-i)/o,s=Math.round(t*l),c=Math.round(e*l),s/l<t&&++s,c/l>e&&--c,l=-l):(l=Math.pow(10,i)*o,s=Math.round(t/l),c=Math.round(e/l),s*l<t&&++s,c*l>e&&--c),c<s&&.5<=r&&r<2?od(t,e,r*2):[s,c,l]}function Qm(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?od(e,t,r):od(t,e,r);if(!(a>=i))return[];const s=a-i+1,c=new Array(s);if(n)if(o<0)for(let l=0;l<s;++l)c[l]=(a-l)/-o;else for(let l=0;l<s;++l)c[l]=(a-l)*o;else if(o<0)for(let l=0;l<s;++l)c[l]=(i+l)/-o;else for(let l=0;l<s;++l)c[l]=(i+l)*o;return c}function Jm(t,e,r){return e=+e,t=+t,r=+r,od(t,e,r)[2]}function Zm(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Jm(e,t,r):Jm(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function vx(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function gx(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function hC(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?fC:iJ(i);n>r;){if(n-r>600){const c=n-r+1,l=e-r+1,u=Math.log(c),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(c-d)/c)*(l-c/2<0?-1:1),h=Math.max(r,Math.floor(e-l*d/c+f)),g=Math.min(n,Math.floor(e+(c-l)*d/c+f));hC(t,e,h,g,i)}const a=t[e];let o=r,s=n;for(Fs(t,r,e),i(t[n],a)>0&&Fs(t,r,n);o<s;){for(Fs(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?Fs(t,r,s):(++s,Fs(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function Fs(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function cJ(t,e,r){if(t=Float64Array.from(ZQ(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return gx(t);if(e>=1)return vx(t);var n,i=(n-1)*e,a=Math.floor(i),o=vx(hC(t,a).subarray(0,a+1)),s=gx(t.subarray(a+1));return o+(s-o)*(i-a)}}function lJ(t,e,r=dC){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function uJ(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function yr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Bn(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ev=Symbol("implicit");function Ry(){var t=new px,e=[],r=[],n=ev;function i(a){let o=t.get(a);if(o===void 0){if(n!==ev)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new px;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Ry(e,r).unknown(n)},yr.apply(i,arguments),i}function kc(){var t=Ry().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,c=0,l=0,u=.5;delete t.unknown;function d(){var f=e().length,h=i<n,g=h?i:n,m=h?n:i;a=(m-g)/Math.max(1,f-c+l*2),s&&(a=Math.floor(a)),g+=(m-g-a*(f-c))*u,o=a*(1-c),s&&(g=Math.round(g),o=Math.round(o));var v=uJ(f).map(function(b){return g+a*b});return r(h?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,s=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(f){return arguments.length?(s=!!f,d()):s},t.padding=function(f){return arguments.length?(c=Math.min(1,l=+f),d()):c},t.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),d()):c},t.paddingOuter=function(f){return arguments.length?(l=+f,d()):l},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},t.copy=function(){return kc(e(),[n,i]).round(s).paddingInner(c).paddingOuter(l).align(u)},yr.apply(d(),arguments)}function pC(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pC(e())},t}function ic(){return pC(kc.apply(null,arguments).paddingInner(1))}function Iy(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function mC(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function xl(){}var $c=.7,sd=1/$c,mo="\\s*([+-]?\\d+)\\s*",Nc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dJ=/^#([0-9a-f]{3,8})$/,fJ=new RegExp(`^rgb\\(${mo},${mo},${mo}\\)$`),hJ=new RegExp(`^rgb\\(${rn},${rn},${rn}\\)$`),pJ=new RegExp(`^rgba\\(${mo},${mo},${mo},${Nc}\\)$`),mJ=new RegExp(`^rgba\\(${rn},${rn},${rn},${Nc}\\)$`),vJ=new RegExp(`^hsl\\(${Nc},${rn},${rn}\\)$`),gJ=new RegExp(`^hsla\\(${Nc},${rn},${rn},${Nc}\\)$`),yx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Iy(xl,Rc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:bx,formatHex:bx,formatHex8:yJ,formatHsl:bJ,formatRgb:wx,toString:wx});function bx(){return this.rgb().formatHex()}function yJ(){return this.rgb().formatHex8()}function bJ(){return vC(this).formatHsl()}function wx(){return this.rgb().formatRgb()}function Rc(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=dJ.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?xx(e):r===3?new Ft(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Zl(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Zl(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=fJ.exec(t))?new Ft(e[1],e[2],e[3],1):(e=hJ.exec(t))?new Ft(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=pJ.exec(t))?Zl(e[1],e[2],e[3],e[4]):(e=mJ.exec(t))?Zl(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=vJ.exec(t))?Ox(e[1],e[2]/100,e[3]/100,1):(e=gJ.exec(t))?Ox(e[1],e[2]/100,e[3]/100,e[4]):yx.hasOwnProperty(t)?xx(yx[t]):t==="transparent"?new Ft(NaN,NaN,NaN,0):null}function xx(t){return new Ft(t>>16&255,t>>8&255,t&255,1)}function Zl(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ft(t,e,r,n)}function wJ(t){return t instanceof xl||(t=Rc(t)),t?(t=t.rgb(),new Ft(t.r,t.g,t.b,t.opacity)):new Ft}function tv(t,e,r,n){return arguments.length===1?wJ(t):new Ft(t,e,r,n??1)}function Ft(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Iy(Ft,tv,mC(xl,{brighter(t){return t=t==null?sd:Math.pow(sd,t),new Ft(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?$c:Math.pow($c,t),new Ft(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ft(fa(this.r),fa(this.g),fa(this.b),cd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_x,formatHex:_x,formatHex8:xJ,formatRgb:Sx,toString:Sx}));function _x(){return`#${Ji(this.r)}${Ji(this.g)}${Ji(this.b)}`}function xJ(){return`#${Ji(this.r)}${Ji(this.g)}${Ji(this.b)}${Ji((isNaN(this.opacity)?1:this.opacity)*255)}`}function Sx(){const t=cd(this.opacity);return`${t===1?"rgb(":"rgba("}${fa(this.r)}, ${fa(this.g)}, ${fa(this.b)}${t===1?")":`, ${t})`}`}function cd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function fa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ji(t){return t=fa(t),(t<16?"0":"")+t.toString(16)}function Ox(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Nr(t,e,r,n)}function vC(t){if(t instanceof Nr)return new Nr(t.h,t.s,t.l,t.opacity);if(t instanceof xl||(t=Rc(t)),!t)return new Nr;if(t instanceof Nr)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,c=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new Nr(o,s,c,t.opacity)}function _J(t,e,r,n){return arguments.length===1?vC(t):new Nr(t,e,r,n??1)}function Nr(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Iy(Nr,_J,mC(xl,{brighter(t){return t=t==null?sd:Math.pow(sd,t),new Nr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?$c:Math.pow($c,t),new Nr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Ft(fp(t>=240?t-240:t+120,i,n),fp(t,i,n),fp(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Nr(Ax(this.h),eu(this.s),eu(this.l),cd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=cd(this.opacity);return`${t===1?"hsl(":"hsla("}${Ax(this.h)}, ${eu(this.s)*100}%, ${eu(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ax(t){return t=(t||0)%360,t<0?t+360:t}function eu(t){return Math.max(0,Math.min(1,t||0))}function fp(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const My=t=>()=>t;function SJ(t,e){return function(r){return t+r*e}}function OJ(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function AJ(t){return(t=+t)==1?gC:function(e,r){return r-e?OJ(e,r,t):My(isNaN(e)?r:e)}}function gC(t,e){var r=e-t;return r?SJ(t,r):My(isNaN(t)?e:t)}const Ex=function t(e){var r=AJ(e);function n(i,a){var o=r((i=tv(i)).r,(a=tv(a)).r),s=r(i.g,a.g),c=r(i.b,a.b),l=gC(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=c(u),i.opacity=l(u),i+""}}return n.gamma=t,n}(1);function EJ(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function PJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jJ(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=$s(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function TJ(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function ld(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function CJ(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=$s(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var rv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hp=new RegExp(rv.source,"g");function kJ(t){return function(){return t}}function $J(t){return function(e){return t(e)+""}}function NJ(t,e){var r=rv.lastIndex=hp.lastIndex=0,n,i,a,o=-1,s=[],c=[];for(t=t+"",e=e+"";(n=rv.exec(t))&&(i=hp.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:ld(n,i)})),r=hp.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?$J(c[0].x):kJ(e):(e=c.length,function(l){for(var u=0,d;u<e;++u)s[(d=c[u]).i]=d.x(l);return s.join("")})}function $s(t,e){var r=typeof e,n;return e==null||r==="boolean"?My(e):(r==="number"?ld:r==="string"?(n=Rc(e))?(e=n,Ex):NJ:e instanceof Rc?Ex:e instanceof Date?TJ:PJ(e)?EJ:Array.isArray(e)?jJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?CJ:ld)(t,e)}function Dy(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function RJ(t,e){e===void 0&&(e=t,t=$s);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function IJ(t){return function(){return t}}function ud(t){return+t}var Px=[0,1];function Nt(t){return t}function nv(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:IJ(isNaN(e)?NaN:.5)}function MJ(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function DJ(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=nv(i,n),a=r(o,a)):(n=nv(n,i),a=r(a,o)),function(s){return a(n(s))}}function LJ(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=nv(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var c=wl(t,s,1,n)-1;return a[c](i[c](s))}}function _l(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ih(){var t=Px,e=Px,r=$s,n,i,a,o=Nt,s,c,l;function u(){var f=Math.min(t.length,e.length);return o!==Nt&&(o=MJ(t[0],t[f-1])),s=f>2?LJ:DJ,c=l=null,d}function d(f){return f==null||isNaN(f=+f)?a:(c||(c=s(t.map(n),e,r)))(n(o(f)))}return d.invert=function(f){return o(i((l||(l=s(e,t.map(n),ld)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,ud),u()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),r=Dy,u()},d.clamp=function(f){return arguments.length?(o=f?!0:Nt,u()):o!==Nt},d.interpolate=function(f){return arguments.length?(r=f,u()):r},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,h){return n=f,i=h,u()}}function Ly(){return ih()(Nt,Nt)}function BJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function dd(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Wo(t){return t=dd(Math.abs(t)),t?t[1]:NaN}function FJ(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),a.push(r.substring(i-=s,i+s)),!((c+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function UJ(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var WJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ic(t){if(!(e=WJ.exec(t)))throw new Error("invalid format: "+t);var e;return new By({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ic.prototype=By.prototype;function By(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}By.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zJ(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var yC;function qJ(t,e){var r=dd(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(yC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+dd(t,Math.max(0,e+a-1))[0]}function jx(t,e){var r=dd(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Tx={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:BJ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>jx(t*100,e),r:jx,s:qJ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Cx(t){return t}var kx=Array.prototype.map,$x=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function HJ(t){var e=t.grouping===void 0||t.thousands===void 0?Cx:FJ(kx.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Cx:UJ(kx.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function l(d){d=Ic(d);var f=d.fill,h=d.align,g=d.sign,m=d.symbol,v=d.zero,b=d.width,w=d.comma,y=d.precision,O=d.trim,_=d.type;_==="n"?(w=!0,_="g"):Tx[_]||(y===void 0&&(y=12),O=!0,_="g"),(v||f==="0"&&h==="=")&&(v=!0,f="0",h="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",A=m==="$"?n:/[%p]/.test(_)?o:"",E=Tx[_],j=/[defgprs%]/.test(_);y=y===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function T(C){var k=S,L=A,R,B,$;if(_==="c")L=E(C)+L,C="";else{C=+C;var M=C<0||1/C<0;if(C=isNaN(C)?c:E(Math.abs(C),y),O&&(C=zJ(C)),M&&+C==0&&g!=="+"&&(M=!1),k=(M?g==="("?g:s:g==="-"||g==="("?"":g)+k,L=(_==="s"?$x[8+yC/3]:"")+L+(M&&g==="("?")":""),j){for(R=-1,B=C.length;++R<B;)if($=C.charCodeAt(R),48>$||$>57){L=($===46?i+C.slice(R+1):C.slice(R))+L,C=C.slice(0,R);break}}}w&&!v&&(C=e(C,1/0));var F=k.length+C.length+L.length,D=F<b?new Array(b-F+1).join(f):"";switch(w&&v&&(C=e(D+C,D.length?b-L.length:1/0),D=""),h){case"<":C=k+C+L+D;break;case"=":C=k+D+C+L;break;case"^":C=D.slice(0,F=D.length>>1)+k+C+L+D.slice(F);break;default:C=D+k+C+L;break}return a(C)}return T.toString=function(){return d+""},T}function u(d,f){var h=l((d=Ic(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Wo(f)/3)))*3,m=Math.pow(10,-g),v=$x[8+g/3];return function(b){return h(m*b)+v}}return{format:l,formatPrefix:u}}var tu,Fy,bC;KJ({thousands:",",grouping:[3],currency:["$",""]});function KJ(t){return tu=HJ(t),Fy=tu.format,bC=tu.formatPrefix,tu}function VJ(t){return Math.max(0,-Wo(Math.abs(t)))}function GJ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wo(e)/3)))*3-Wo(Math.abs(t)))}function YJ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Wo(e)-Wo(t))+1}function wC(t,e,r,n){var i=Zm(t,e,r),a;switch(n=Ic(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=GJ(i,o))&&(n.precision=a),bC(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=YJ(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=VJ(i))&&(n.precision=a-(n.type==="%")*2);break}}return Fy(n)}function Ti(t){var e=t.domain;return t.ticks=function(r){var n=e();return Qm(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return wC(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],c,l,u=10;for(s<o&&(l=o,o=s,s=l,l=i,i=a,a=l);u-- >0;){if(l=Jm(o,s,r),l===c)return n[i]=o,n[a]=s,e(n);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;c=l}return t},t}function fd(){var t=Ly();return t.copy=function(){return _l(t,fd())},yr.apply(t,arguments),Ti(t)}function xC(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,ud),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return xC(t).unknown(e)},t=arguments.length?Array.from(t,ud):[0,1],Ti(r)}function _C(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function Nx(t){return Math.log(t)}function Rx(t){return Math.exp(t)}function XJ(t){return-Math.log(-t)}function QJ(t){return-Math.exp(-t)}function JJ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ZJ(t){return t===10?JJ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function eZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Ix(t){return(e,r)=>-t(-e,r)}function Uy(t){const e=t(Nx,Rx),r=e.domain;let n=10,i,a;function o(){return i=eZ(n),a=ZJ(n),r()[0]<0?(i=Ix(i),a=Ix(a),t(XJ,QJ)):t(Nx,Rx),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const c=r();let l=c[0],u=c[c.length-1];const d=u<l;d&&([l,u]=[u,l]);let f=i(l),h=i(u),g,m;const v=s==null?10:+s;let b=[];if(!(n%1)&&h-f<v){if(f=Math.floor(f),h=Math.ceil(h),l>0){for(;f<=h;++f)for(g=1;g<n;++g)if(m=f<0?g/a(-f):g*a(f),!(m<l)){if(m>u)break;b.push(m)}}else for(;f<=h;++f)for(g=n-1;g>=1;--g)if(m=f>0?g/a(-f):g*a(f),!(m<l)){if(m>u)break;b.push(m)}b.length*2<v&&(b=Qm(l,u,v))}else b=Qm(f,h,Math.min(h-f,v)).map(a);return d?b.reverse():b},e.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Ic(c)).precision==null&&(c.trim=!0),c=Fy(c)),s===1/0)return c;const l=Math.max(1,n*s/e.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=l?c(u):""}},e.nice=()=>r(_C(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function SC(){const t=Uy(ih()).domain([1,10]);return t.copy=()=>_l(t,SC()).base(t.base()),yr.apply(t,arguments),t}function Mx(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Dx(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Wy(t){var e=1,r=t(Mx(e),Dx(e));return r.constant=function(n){return arguments.length?t(Mx(e=+n),Dx(e)):e},Ti(r)}function OC(){var t=Wy(ih());return t.copy=function(){return _l(t,OC()).constant(t.constant())},yr.apply(t,arguments)}function Lx(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function tZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function rZ(t){return t<0?-t*t:t*t}function zy(t){var e=t(Nt,Nt),r=1;function n(){return r===1?t(Nt,Nt):r===.5?t(tZ,rZ):t(Lx(r),Lx(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Ti(e)}function qy(){var t=zy(ih());return t.copy=function(){return _l(t,qy()).exponent(t.exponent())},yr.apply(t,arguments),t}function nZ(){return qy.apply(null,arguments).exponent(.5)}function Bx(t){return Math.sign(t)*t*t}function iZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function AC(){var t=Ly(),e=[0,1],r=!1,n;function i(a){var o=iZ(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(Bx(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,ud)).map(Bx)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return AC(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},yr.apply(i,arguments),Ti(i)}function EC(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=lJ(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[wl(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(vi),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return EC().domain(t).range(e).unknown(n)},yr.apply(a,arguments)}function PC(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[wl(n,c,0,r)]:a}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,s()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,s()):i.slice()},o.invertExtent=function(c){var l=i.indexOf(c);return l<0?[NaN,NaN]:l<1?[t,n[0]]:l>=r?[n[r-1],e]:[n[l-1],n[l]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return PC().domain([t,e]).range(i).unknown(a)},yr.apply(Ti(o),arguments)}function jC(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[wl(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return jC().domain(t).range(e).unknown(r)},yr.apply(i,arguments)}const pp=new Date,mp=new Date;function mt(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const c=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return c;let l;do c.push(l=new Date(+a)),e(a,s),t(a);while(l<a&&a<o);return c},i.filter=a=>mt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(pp.setTime(+a),mp.setTime(+o),t(pp),t(mp),Math.floor(r(pp,mp))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const hd=mt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);hd.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?mt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):hd);hd.range;const wn=1e3,dr=wn*60,xn=dr*60,Cn=xn*24,Hy=Cn*7,Fx=Cn*30,vp=Cn*365,Zi=mt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*wn)},(t,e)=>(e-t)/wn,t=>t.getUTCSeconds());Zi.range;const Ky=mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wn)},(t,e)=>{t.setTime(+t+e*dr)},(t,e)=>(e-t)/dr,t=>t.getMinutes());Ky.range;const Vy=mt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*dr)},(t,e)=>(e-t)/dr,t=>t.getUTCMinutes());Vy.range;const Gy=mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wn-t.getMinutes()*dr)},(t,e)=>{t.setTime(+t+e*xn)},(t,e)=>(e-t)/xn,t=>t.getHours());Gy.range;const Yy=mt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*xn)},(t,e)=>(e-t)/xn,t=>t.getUTCHours());Yy.range;const Sl=mt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*dr)/Cn,t=>t.getDate()-1);Sl.range;const ah=mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Cn,t=>t.getUTCDate()-1);ah.range;const TC=mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Cn,t=>Math.floor(t/Cn));TC.range;function ja(t){return mt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*dr)/Hy)}const oh=ja(0),pd=ja(1),aZ=ja(2),oZ=ja(3),zo=ja(4),sZ=ja(5),cZ=ja(6);oh.range;pd.range;aZ.range;oZ.range;zo.range;sZ.range;cZ.range;function Ta(t){return mt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Hy)}const sh=Ta(0),md=Ta(1),lZ=Ta(2),uZ=Ta(3),qo=Ta(4),dZ=Ta(5),fZ=Ta(6);sh.range;md.range;lZ.range;uZ.range;qo.range;dZ.range;fZ.range;const Xy=mt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Xy.range;const Qy=mt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Qy.range;const kn=mt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());kn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});kn.range;const $n=mt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());$n.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});$n.range;function CC(t,e,r,n,i,a){const o=[[Zi,1,wn],[Zi,5,5*wn],[Zi,15,15*wn],[Zi,30,30*wn],[a,1,dr],[a,5,5*dr],[a,15,15*dr],[a,30,30*dr],[i,1,xn],[i,3,3*xn],[i,6,6*xn],[i,12,12*xn],[n,1,Cn],[n,2,2*Cn],[r,1,Hy],[e,1,Fx],[e,3,3*Fx],[t,1,vp]];function s(l,u,d){const f=u<l;f&&([l,u]=[u,l]);const h=d&&typeof d.range=="function"?d:c(l,u,d),g=h?h.range(l,+u+1):[];return f?g.reverse():g}function c(l,u,d){const f=Math.abs(u-l)/d,h=Ny(([,,v])=>v).right(o,f);if(h===o.length)return t.every(Zm(l/vp,u/vp,d));if(h===0)return hd.every(Math.max(Zm(l,u,d),1));const[g,m]=o[f/o[h-1][2]<o[h][2]/f?h-1:h];return g.every(m)}return[s,c]}const[hZ,pZ]=CC($n,Qy,sh,TC,Yy,Vy),[mZ,vZ]=CC(kn,Xy,oh,Sl,Gy,Ky);function gp(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function yp(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Us(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function gZ(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,c=t.shortMonths,l=Ws(i),u=zs(i),d=Ws(a),f=zs(a),h=Ws(o),g=zs(o),m=Ws(s),v=zs(s),b=Ws(c),w=zs(c),y={a:M,A:F,b:D,B:z,c:null,d:Kx,e:Kx,f:FZ,g:XZ,G:JZ,H:DZ,I:LZ,j:BZ,L:kC,m:UZ,M:WZ,p:Y,q,Q:Yx,s:Xx,S:zZ,u:qZ,U:HZ,V:KZ,w:VZ,W:GZ,x:null,X:null,y:YZ,Y:QZ,Z:ZZ,"%":Gx},O={a:I,A:H,b:G,B:fe,c:null,d:Vx,e:Vx,f:nee,g:hee,G:mee,H:eee,I:tee,j:ree,L:NC,m:iee,M:aee,p:X,q:he,Q:Yx,s:Xx,S:oee,u:see,U:cee,V:lee,w:uee,W:dee,x:null,X:null,y:fee,Y:pee,Z:vee,"%":Gx},_={a:T,A:C,b:k,B:L,c:R,d:qx,e:qx,f:NZ,g:zx,G:Wx,H:Hx,I:Hx,j:TZ,L:$Z,m:jZ,M:CZ,p:j,q:PZ,Q:IZ,s:MZ,S:kZ,u:_Z,U:SZ,V:OZ,w:xZ,W:AZ,x:B,X:$,y:zx,Y:Wx,Z:EZ,"%":RZ};y.x=S(r,y),y.X=S(n,y),y.c=S(e,y),O.x=S(r,O),O.X=S(n,O),O.c=S(e,O);function S(K,Z){return function(J){var U=[],be=-1,pe=0,je=K.length,Ae,Ee,et;for(J instanceof Date||(J=new Date(+J));++be<je;)K.charCodeAt(be)===37&&(U.push(K.slice(pe,be)),(Ee=Ux[Ae=K.charAt(++be)])!=null?Ae=K.charAt(++be):Ee=Ae==="e"?" ":"0",(et=Z[Ae])&&(Ae=et(J,Ee)),U.push(Ae),pe=be+1);return U.push(K.slice(pe,be)),U.join("")}}function A(K,Z){return function(J){var U=Us(1900,void 0,1),be=E(U,K,J+="",0),pe,je;if(be!=J.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if(Z&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(pe=yp(Us(U.y,0,1)),je=pe.getUTCDay(),pe=je>4||je===0?md.ceil(pe):md(pe),pe=ah.offset(pe,(U.V-1)*7),U.y=pe.getUTCFullYear(),U.m=pe.getUTCMonth(),U.d=pe.getUTCDate()+(U.w+6)%7):(pe=gp(Us(U.y,0,1)),je=pe.getDay(),pe=je>4||je===0?pd.ceil(pe):pd(pe),pe=Sl.offset(pe,(U.V-1)*7),U.y=pe.getFullYear(),U.m=pe.getMonth(),U.d=pe.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),je="Z"in U?yp(Us(U.y,0,1)).getUTCDay():gp(Us(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-(je+5)%7:U.w+U.U*7-(je+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,yp(U)):gp(U)}}function E(K,Z,J,U){for(var be=0,pe=Z.length,je=J.length,Ae,Ee;be<pe;){if(U>=je)return-1;if(Ae=Z.charCodeAt(be++),Ae===37){if(Ae=Z.charAt(be++),Ee=_[Ae in Ux?Z.charAt(be++):Ae],!Ee||(U=Ee(K,J,U))<0)return-1}else if(Ae!=J.charCodeAt(U++))return-1}return U}function j(K,Z,J){var U=l.exec(Z.slice(J));return U?(K.p=u.get(U[0].toLowerCase()),J+U[0].length):-1}function T(K,Z,J){var U=h.exec(Z.slice(J));return U?(K.w=g.get(U[0].toLowerCase()),J+U[0].length):-1}function C(K,Z,J){var U=d.exec(Z.slice(J));return U?(K.w=f.get(U[0].toLowerCase()),J+U[0].length):-1}function k(K,Z,J){var U=b.exec(Z.slice(J));return U?(K.m=w.get(U[0].toLowerCase()),J+U[0].length):-1}function L(K,Z,J){var U=m.exec(Z.slice(J));return U?(K.m=v.get(U[0].toLowerCase()),J+U[0].length):-1}function R(K,Z,J){return E(K,e,Z,J)}function B(K,Z,J){return E(K,r,Z,J)}function $(K,Z,J){return E(K,n,Z,J)}function M(K){return o[K.getDay()]}function F(K){return a[K.getDay()]}function D(K){return c[K.getMonth()]}function z(K){return s[K.getMonth()]}function Y(K){return i[+(K.getHours()>=12)]}function q(K){return 1+~~(K.getMonth()/3)}function I(K){return o[K.getUTCDay()]}function H(K){return a[K.getUTCDay()]}function G(K){return c[K.getUTCMonth()]}function fe(K){return s[K.getUTCMonth()]}function X(K){return i[+(K.getUTCHours()>=12)]}function he(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var Z=S(K+="",y);return Z.toString=function(){return K},Z},parse:function(K){var Z=A(K+="",!1);return Z.toString=function(){return K},Z},utcFormat:function(K){var Z=S(K+="",O);return Z.toString=function(){return K},Z},utcParse:function(K){var Z=A(K+="",!0);return Z.toString=function(){return K},Z}}}var Ux={"-":"",_:" ",0:"0"},bt=/^\s*\d+/,yZ=/^%/,bZ=/[\\^$*+?|[\]().{}]/g;function Oe(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function wZ(t){return t.replace(bZ,"\\$&")}function Ws(t){return new RegExp("^(?:"+t.map(wZ).join("|")+")","i")}function zs(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function xZ(t,e,r){var n=bt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function _Z(t,e,r){var n=bt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function SZ(t,e,r){var n=bt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function OZ(t,e,r){var n=bt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function AZ(t,e,r){var n=bt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function Wx(t,e,r){var n=bt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function zx(t,e,r){var n=bt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function EZ(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function PZ(t,e,r){var n=bt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function jZ(t,e,r){var n=bt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function qx(t,e,r){var n=bt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function TZ(t,e,r){var n=bt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function Hx(t,e,r){var n=bt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function CZ(t,e,r){var n=bt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function kZ(t,e,r){var n=bt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function $Z(t,e,r){var n=bt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function NZ(t,e,r){var n=bt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function RZ(t,e,r){var n=yZ.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function IZ(t,e,r){var n=bt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function MZ(t,e,r){var n=bt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function Kx(t,e){return Oe(t.getDate(),e,2)}function DZ(t,e){return Oe(t.getHours(),e,2)}function LZ(t,e){return Oe(t.getHours()%12||12,e,2)}function BZ(t,e){return Oe(1+Sl.count(kn(t),t),e,3)}function kC(t,e){return Oe(t.getMilliseconds(),e,3)}function FZ(t,e){return kC(t,e)+"000"}function UZ(t,e){return Oe(t.getMonth()+1,e,2)}function WZ(t,e){return Oe(t.getMinutes(),e,2)}function zZ(t,e){return Oe(t.getSeconds(),e,2)}function qZ(t){var e=t.getDay();return e===0?7:e}function HZ(t,e){return Oe(oh.count(kn(t)-1,t),e,2)}function $C(t){var e=t.getDay();return e>=4||e===0?zo(t):zo.ceil(t)}function KZ(t,e){return t=$C(t),Oe(zo.count(kn(t),t)+(kn(t).getDay()===4),e,2)}function VZ(t){return t.getDay()}function GZ(t,e){return Oe(pd.count(kn(t)-1,t),e,2)}function YZ(t,e){return Oe(t.getFullYear()%100,e,2)}function XZ(t,e){return t=$C(t),Oe(t.getFullYear()%100,e,2)}function QZ(t,e){return Oe(t.getFullYear()%1e4,e,4)}function JZ(t,e){var r=t.getDay();return t=r>=4||r===0?zo(t):zo.ceil(t),Oe(t.getFullYear()%1e4,e,4)}function ZZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Oe(e/60|0,"0",2)+Oe(e%60,"0",2)}function Vx(t,e){return Oe(t.getUTCDate(),e,2)}function eee(t,e){return Oe(t.getUTCHours(),e,2)}function tee(t,e){return Oe(t.getUTCHours()%12||12,e,2)}function ree(t,e){return Oe(1+ah.count($n(t),t),e,3)}function NC(t,e){return Oe(t.getUTCMilliseconds(),e,3)}function nee(t,e){return NC(t,e)+"000"}function iee(t,e){return Oe(t.getUTCMonth()+1,e,2)}function aee(t,e){return Oe(t.getUTCMinutes(),e,2)}function oee(t,e){return Oe(t.getUTCSeconds(),e,2)}function see(t){var e=t.getUTCDay();return e===0?7:e}function cee(t,e){return Oe(sh.count($n(t)-1,t),e,2)}function RC(t){var e=t.getUTCDay();return e>=4||e===0?qo(t):qo.ceil(t)}function lee(t,e){return t=RC(t),Oe(qo.count($n(t),t)+($n(t).getUTCDay()===4),e,2)}function uee(t){return t.getUTCDay()}function dee(t,e){return Oe(md.count($n(t)-1,t),e,2)}function fee(t,e){return Oe(t.getUTCFullYear()%100,e,2)}function hee(t,e){return t=RC(t),Oe(t.getUTCFullYear()%100,e,2)}function pee(t,e){return Oe(t.getUTCFullYear()%1e4,e,4)}function mee(t,e){var r=t.getUTCDay();return t=r>=4||r===0?qo(t):qo.ceil(t),Oe(t.getUTCFullYear()%1e4,e,4)}function vee(){return"+0000"}function Gx(){return"%"}function Yx(t){return+t}function Xx(t){return Math.floor(+t/1e3)}var Ha,IC,MC;gee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gee(t){return Ha=gZ(t),IC=Ha.format,Ha.parse,MC=Ha.utcFormat,Ha.utcParse,Ha}function yee(t){return new Date(t)}function bee(t){return t instanceof Date?+t:+new Date(+t)}function Jy(t,e,r,n,i,a,o,s,c,l){var u=Ly(),d=u.invert,f=u.domain,h=l(".%L"),g=l(":%S"),m=l("%I:%M"),v=l("%I %p"),b=l("%a %d"),w=l("%b %d"),y=l("%B"),O=l("%Y");function _(S){return(c(S)<S?h:s(S)<S?g:o(S)<S?m:a(S)<S?v:n(S)<S?i(S)<S?b:w:r(S)<S?y:O)(S)}return u.invert=function(S){return new Date(d(S))},u.domain=function(S){return arguments.length?f(Array.from(S,bee)):f().map(yee)},u.ticks=function(S){var A=f();return t(A[0],A[A.length-1],S??10)},u.tickFormat=function(S,A){return A==null?_:l(A)},u.nice=function(S){var A=f();return(!S||typeof S.range!="function")&&(S=e(A[0],A[A.length-1],S??10)),S?f(_C(A,S)):u},u.copy=function(){return _l(u,Jy(t,e,r,n,i,a,o,s,c,l))},u}function wee(){return yr.apply(Jy(mZ,vZ,kn,Xy,oh,Sl,Gy,Ky,Zi,IC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xee(){return yr.apply(Jy(hZ,pZ,$n,Qy,sh,ah,Yy,Vy,Zi,MC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ch(){var t=0,e=1,r,n,i,a,o=Nt,s=!1,c;function l(d){return d==null||isNaN(d=+d)?c:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}l.domain=function(d){return arguments.length?([t,e]=d,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),l):[t,e]},l.clamp=function(d){return arguments.length?(s=!!d,l):s},l.interpolator=function(d){return arguments.length?(o=d,l):o};function u(d){return function(f){var h,g;return arguments.length?([h,g]=f,o=d(h,g),l):[o(0),o(1)]}}return l.range=u($s),l.rangeRound=u(Dy),l.unknown=function(d){return arguments.length?(c=d,l):c},function(d){return a=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),l}}function Ci(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function DC(){var t=Ti(ch()(Nt));return t.copy=function(){return Ci(t,DC())},Bn.apply(t,arguments)}function LC(){var t=Uy(ch()).domain([1,10]);return t.copy=function(){return Ci(t,LC()).base(t.base())},Bn.apply(t,arguments)}function BC(){var t=Wy(ch());return t.copy=function(){return Ci(t,BC()).constant(t.constant())},Bn.apply(t,arguments)}function Zy(){var t=zy(ch());return t.copy=function(){return Ci(t,Zy()).exponent(t.exponent())},Bn.apply(t,arguments)}function _ee(){return Zy.apply(null,arguments).exponent(.5)}function FC(){var t=[],e=Nt;function r(n){if(n!=null&&!isNaN(n=+n))return e((wl(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(vi),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>cJ(t,a/n))},r.copy=function(){return FC(e).domain(t)},Bn.apply(r,arguments)}function lh(){var t=0,e=.5,r=1,n=1,i,a,o,s,c,l=Nt,u,d=!1,f;function h(m){return isNaN(m=+m)?f:(m=.5+((m=+u(m))-a)*(n*m<n*a?s:c),l(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e,r]=m,i=u(t=+t),a=u(e=+e),o=u(r=+r),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,h):[t,e,r]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(l=m,h):l};function g(m){return function(v){var b,w,y;return arguments.length?([b,w,y]=v,l=RJ(m,[b,w,y]),h):[l(0),l(.5),l(1)]}}return h.range=g($s),h.rangeRound=g(Dy),h.unknown=function(m){return arguments.length?(f=m,h):f},function(m){return u=m,i=m(t),a=m(e),o=m(r),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,h}}function UC(){var t=Ti(lh()(Nt));return t.copy=function(){return Ci(t,UC())},Bn.apply(t,arguments)}function WC(){var t=Uy(lh()).domain([.1,1,10]);return t.copy=function(){return Ci(t,WC()).base(t.base())},Bn.apply(t,arguments)}function zC(){var t=Wy(lh());return t.copy=function(){return Ci(t,zC()).constant(t.constant())},Bn.apply(t,arguments)}function eb(){var t=zy(lh());return t.copy=function(){return Ci(t,eb()).exponent(t.exponent())},Bn.apply(t,arguments)}function See(){return eb.apply(null,arguments).exponent(.5)}const Qx=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kc,scaleDiverging:UC,scaleDivergingLog:WC,scaleDivergingPow:eb,scaleDivergingSqrt:See,scaleDivergingSymlog:zC,scaleIdentity:xC,scaleImplicit:ev,scaleLinear:fd,scaleLog:SC,scaleOrdinal:Ry,scalePoint:ic,scalePow:qy,scaleQuantile:EC,scaleQuantize:PC,scaleRadial:AC,scaleSequential:DC,scaleSequentialLog:LC,scaleSequentialPow:Zy,scaleSequentialQuantile:FC,scaleSequentialSqrt:_ee,scaleSequentialSymlog:BC,scaleSqrt:nZ,scaleSymlog:OC,scaleThreshold:jC,scaleTime:wee,scaleUtc:xee,tickFormat:wC},Symbol.toStringTag,{value:"Module"}));var Oee=_s;function Aee(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(s===void 0?o===o&&!Oee(o):r(o,s)))var s=o,c=a}return c}var uh=Aee;function Eee(t,e){return t>e}var qC=Eee,Pee=uh,jee=qC,Tee=Cs;function Cee(t){return t&&t.length?Pee(t,Tee,jee):void 0}var kee=Cee;const li=ke(kee);function $ee(t,e){return t<e}var HC=$ee,Nee=uh,Ree=HC,Iee=Cs;function Mee(t){return t&&t.length?Nee(t,Iee,Ree):void 0}var Dee=Mee;const dh=ke(Dee);var Lee=my,Bee=fn,Fee=ZT,Uee=Wt;function Wee(t,e){var r=Uee(t)?Lee:Fee;return r(t,Bee(e))}var zee=Wee,qee=QT,Hee=zee;function Kee(t,e){return qee(Hee(t,e),1)}var Vee=Kee;const Gee=ke(Vee);var Yee=Ty;function Xee(t,e){return Yee(t,e)}var Qee=Xee;const Nn=ke(Qee);var Ns=1e9,Jee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},rb,Ge=!0,mr="[DecimalError] ",ha=mr+"Invalid argument: ",tb=mr+"Exponent out of range: ",Rs=Math.floor,qi=Math.pow,Zee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xt,vt=1e7,qe=7,KC=9007199254740991,vd=Rs(KC/qe),ne={};ne.absoluteValue=ne.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ne.comparedTo=ne.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ne.decimalPlaces=ne.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*qe;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ne.dividedBy=ne.div=function(t){return An(this,new this.constructor(t))};ne.dividedToIntegerBy=ne.idiv=function(t){var e=this,r=e.constructor;return Le(An(e,new r(t),0,1),r.precision)};ne.equals=ne.eq=function(t){return!this.cmp(t)};ne.exponent=function(){return at(this)};ne.greaterThan=ne.gt=function(t){return this.cmp(t)>0};ne.greaterThanOrEqualTo=ne.gte=function(t){return this.cmp(t)>=0};ne.isInteger=ne.isint=function(){return this.e>this.d.length-2};ne.isNegative=ne.isneg=function(){return this.s<0};ne.isPositive=ne.ispos=function(){return this.s>0};ne.isZero=function(){return this.s===0};ne.lessThan=ne.lt=function(t){return this.cmp(t)<0};ne.lessThanOrEqualTo=ne.lte=function(t){return this.cmp(t)<1};ne.logarithm=ne.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Xt))throw Error(mr+"NaN");if(r.s<1)throw Error(mr+(r.s?"NaN":"-Infinity"));return r.eq(Xt)?new n(0):(Ge=!1,e=An(Mc(r,a),Mc(t,a),a),Ge=!0,Le(e,i))};ne.minus=ne.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?YC(e,t):VC(e,(t.s=-t.s,t))};ne.modulo=ne.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(mr+"NaN");return r.s?(Ge=!1,e=An(r,t,0,1).times(t),Ge=!0,r.minus(e)):Le(new n(r),i)};ne.naturalExponential=ne.exp=function(){return GC(this)};ne.naturalLogarithm=ne.ln=function(){return Mc(this)};ne.negated=ne.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ne.plus=ne.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?VC(e,t):YC(e,(t.s=-t.s,t))};ne.precision=ne.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ha+t);if(e=at(i)+1,n=i.d.length-1,r=n*qe+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ne.squareRoot=ne.sqrt=function(){var t,e,r,n,i,a,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(mr+"NaN")}for(t=at(s),Ge=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Zr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Rs((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(An(s,a,o+2)).times(.5),Zr(a.d).slice(0,o)===(e=Zr(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Le(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return Ge=!0,Le(n,r)};ne.times=ne.mul=function(t){var e,r,n,i,a,o,s,c,l,u=this,d=u.constructor,f=u.d,h=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,r=u.e+t.e,c=f.length,l=h.length,c<l&&(a=f,f=h,h=a,o=c,c=l,l=o),a=[],o=c+l,n=o;n--;)a.push(0);for(n=l;--n>=0;){for(e=0,i=c+n;i>n;)s=a[i]+h[n]*f[i-n-1]+e,a[i--]=s%vt|0,e=s/vt|0;a[i]=(a[i]+e)%vt|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Ge?Le(t,d.precision):t};ne.toDecimalPlaces=ne.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(sn(t,0,Ns),e===void 0?e=n.rounding:sn(e,0,8),Le(r,t+at(r)+1,e))};ne.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=_a(n,!0):(sn(t,0,Ns),e===void 0?e=i.rounding:sn(e,0,8),n=Le(new i(n),t+1,e),r=_a(n,!0,t+1)),r};ne.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?_a(i):(sn(t,0,Ns),e===void 0?e=a.rounding:sn(e,0,8),n=Le(new a(i),t+at(i)+1,e),r=_a(n.abs(),!1,t+at(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ne.toInteger=ne.toint=function(){var t=this,e=t.constructor;return Le(new e(t),at(t)+1,e.rounding)};ne.toNumber=function(){return+this};ne.toPower=ne.pow=function(t){var e,r,n,i,a,o,s=this,c=s.constructor,l=12,u=+(t=new c(t));if(!t.s)return new c(Xt);if(s=new c(s),!s.s){if(t.s<1)throw Error(mr+"Infinity");return s}if(s.eq(Xt))return s;if(n=c.precision,t.eq(Xt))return Le(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=u<0?-u:u)<=KC){for(i=new c(Xt),e=Math.ceil(n/qe+4),Ge=!1;r%2&&(i=i.times(s),Zx(i.d,e)),r=Rs(r/2),r!==0;)s=s.times(s),Zx(s.d,e);return Ge=!0,t.s<0?new c(Xt).div(i):Le(i,n)}}else if(a<0)throw Error(mr+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,Ge=!1,i=t.times(Mc(s,n+l)),Ge=!0,i=GC(i),i.s=a,i};ne.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=at(i),n=_a(i,r<=a.toExpNeg||r>=a.toExpPos)):(sn(t,1,Ns),e===void 0?e=a.rounding:sn(e,0,8),i=Le(new a(i),t,e),r=at(i),n=_a(i,t<=r||r<=a.toExpNeg,t)),n};ne.toSignificantDigits=ne.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(sn(t,1,Ns),e===void 0?e=n.rounding:sn(e,0,8)),Le(new n(r),t,e)};ne.toString=ne.valueOf=ne.val=ne.toJSON=ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=at(t),r=t.constructor;return _a(t,e<=r.toExpNeg||e>=r.toExpPos)};function VC(t,e){var r,n,i,a,o,s,c,l,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Ge?Le(e,d):e;if(c=t.d,l=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,s=l.length):(n=l,i=o,s=c.length),o=Math.ceil(d/qe),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=c.length,a=l.length,s-a<0&&(a=s,n=l,l=c,c=n),r=0;a;)r=(c[--a]=c[a]+l[a]+r)/vt|0,c[a]%=vt;for(r&&(c.unshift(r),++i),s=c.length;c[--s]==0;)c.pop();return e.d=c,e.e=i,Ge?Le(e,d):e}function sn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ha+t)}function Zr(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=qe-n.length,r&&(a+=Yn(r)),a+=n;o=t[e],n=o+"",r=qe-n.length,r&&(a+=Yn(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var An=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%vt|0,o=a/vt|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,c;if(a!=o)c=a>o?1:-1;else for(s=c=0;s<a;s++)if(n[s]!=i[s]){c=n[s]>i[s]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*vt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,c,l,u,d,f,h,g,m,v,b,w,y,O,_,S,A,E,j=n.constructor,T=n.s==i.s?1:-1,C=n.d,k=i.d;if(!n.s)return new j(n);if(!i.s)throw Error(mr+"Division by zero");for(c=n.e-i.e,A=k.length,_=C.length,h=new j(T),g=h.d=[],l=0;k[l]==(C[l]||0);)++l;if(k[l]>(C[l]||0)&&--c,a==null?w=a=j.precision:o?w=a+(at(n)-at(i))+1:w=a,w<0)return new j(0);if(w=w/qe+2|0,l=0,A==1)for(u=0,k=k[0],w++;(l<_||u)&&w--;l++)y=u*vt+(C[l]||0),g[l]=y/k|0,u=y%k|0;else{for(u=vt/(k[0]+1)|0,u>1&&(k=t(k,u),C=t(C,u),A=k.length,_=C.length),O=A,m=C.slice(0,A),v=m.length;v<A;)m[v++]=0;E=k.slice(),E.unshift(0),S=k[0],k[1]>=vt/2&&++S;do u=0,s=e(k,m,A,v),s<0?(b=m[0],A!=v&&(b=b*vt+(m[1]||0)),u=b/S|0,u>1?(u>=vt&&(u=vt-1),d=t(k,u),f=d.length,v=m.length,s=e(d,m,f,v),s==1&&(u--,r(d,A<f?E:k,f))):(u==0&&(s=u=1),d=k.slice()),f=d.length,f<v&&d.unshift(0),r(m,d,v),s==-1&&(v=m.length,s=e(k,m,A,v),s<1&&(u++,r(m,A<v?E:k,v))),v=m.length):s===0&&(u++,m=[0]),g[l++]=u,s&&m[0]?m[v++]=C[O]||0:(m=[C[O]],v=1);while((O++<_||m[0]!==void 0)&&w--)}return g[0]||g.shift(),h.e=c,Le(h,o?a+at(h)+1:a)}}();function GC(t,e){var r,n,i,a,o,s,c=0,l=0,u=t.constructor,d=u.precision;if(at(t)>16)throw Error(tb+at(t));if(!t.s)return new u(Xt);for(e==null?(Ge=!1,s=d):s=e,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),l+=5;for(n=Math.log(qi(2,l))/Math.LN10*2+5|0,s+=n,r=i=a=new u(Xt),u.precision=s;;){if(i=Le(i.times(t),s),r=r.times(++c),o=a.plus(An(i,r,s)),Zr(o.d).slice(0,s)===Zr(a.d).slice(0,s)){for(;l--;)a=Le(a.times(a),s);return u.precision=d,e==null?(Ge=!0,Le(a,d)):a}a=o}}function at(t){for(var e=t.e*qe,r=t.d[0];r>=10;r/=10)e++;return e}function bp(t,e,r){if(e>t.LN10.sd())throw Ge=!0,r&&(t.precision=r),Error(mr+"LN10 precision limit exceeded");return Le(new t(t.LN10),e)}function Yn(t){for(var e="";t--;)e+="0";return e}function Mc(t,e){var r,n,i,a,o,s,c,l,u,d=1,f=10,h=t,g=h.d,m=h.constructor,v=m.precision;if(h.s<1)throw Error(mr+(h.s?"NaN":"-Infinity"));if(h.eq(Xt))return new m(0);if(e==null?(Ge=!1,l=v):l=e,h.eq(10))return e==null&&(Ge=!0),bp(m,l);if(l+=f,m.precision=l,r=Zr(g),n=r.charAt(0),a=at(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=Zr(h.d),n=r.charAt(0),d++;a=at(h),n>1?(h=new m("0."+r),a++):h=new m(n+"."+r.slice(1))}else return c=bp(m,l+2,v).times(a+""),h=Mc(new m(n+"."+r.slice(1)),l-f).plus(c),m.precision=v,e==null?(Ge=!0,Le(h,v)):h;for(s=o=h=An(h.minus(Xt),h.plus(Xt),l),u=Le(h.times(h),l),i=3;;){if(o=Le(o.times(u),l),c=s.plus(An(o,new m(i),l)),Zr(c.d).slice(0,l)===Zr(s.d).slice(0,l))return s=s.times(2),a!==0&&(s=s.plus(bp(m,l+2,v).times(a+""))),s=An(s,new m(d),l),m.precision=v,e==null?(Ge=!0,Le(s,v)):s;s=c,i+=2}}function Jx(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Rs(r/qe),t.d=[],n=(r+1)%qe,r<0&&(n+=qe),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=qe;n<i;)t.d.push(+e.slice(n,n+=qe));e=e.slice(n),n=qe-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ge&&(t.e>vd||t.e<-vd))throw Error(tb+r)}else t.s=0,t.e=0,t.d=[0];return t}function Le(t,e,r){var n,i,a,o,s,c,l,u,d=t.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=qe,i=e,l=d[u=0];else{if(u=Math.ceil((n+1)/qe),a=d.length,u>=a)return t;for(l=a=d[u],o=1;a>=10;a/=10)o++;n%=qe,i=n-qe+o}if(r!==void 0&&(a=qi(10,o-i-1),s=l/a%10|0,c=e<0||d[u+1]!==void 0||l%a,c=r<4?(s||c)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?i>0?l/qi(10,o-i):0:d[u-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return c?(a=at(t),d.length=1,e=e-a-1,d[0]=qi(10,(qe-e%qe)%qe),t.e=Rs(-e/qe)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=u,a=1,u--):(d.length=u+1,a=qi(10,qe-n),d[u]=i>0?(l/qi(10,o-i)%qi(10,i)|0)*a:0),c)for(;;)if(u==0){(d[0]+=a)==vt&&(d[0]=1,++t.e);break}else{if(d[u]+=a,d[u]!=vt)break;d[u--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(Ge&&(t.e>vd||t.e<-vd))throw Error(tb+at(t));return t}function YC(t,e){var r,n,i,a,o,s,c,l,u,d,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Ge?Le(e,h):e;if(c=t.d,d=e.d,n=e.e,l=t.e,c=c.slice(),o=l-n,o){for(u=o<0,u?(r=c,o=-o,s=d.length):(r=d,n=l,s=c.length),i=Math.max(Math.ceil(h/qe),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(c[i]!=d[i]){u=c[i]<d[i];break}o=0}for(u&&(r=c,c=d,d=r,e.s=-e.s),s=c.length,i=d.length-s;i>0;--i)c[s++]=0;for(i=d.length;i>o;){if(c[--i]<d[i]){for(a=i;a&&c[--a]===0;)c[a]=vt-1;--c[a],c[i]+=vt}c[i]-=d[i]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Ge?Le(e,h):e):new f(0)}function _a(t,e,r){var n,i=at(t),a=Zr(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Yn(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Yn(-i-1)+a,r&&(n=r-o)>0&&(a+=Yn(n))):i>=o?(a+=Yn(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Yn(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Yn(n))),t.s<0?"-"+a:a}function Zx(t,e){if(t.length>e)return t.length=e,!0}function XC(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ha+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Jx(o,a.toString())}else if(typeof a!="string")throw Error(ha+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Zee.test(a))Jx(o,a);else throw Error(ha+a)}if(i.prototype=ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=XC,i.config=i.set=ete,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function ete(t){if(!t||typeof t!="object")throw Error(mr+"Object expected");var e,r,n,i=["precision",1,Ns,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Rs(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(ha+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ha+r+": "+n);return this}var rb=XC(Jee);Xt=new rb(1);const Ie=rb;function tte(t){return ate(t)||ite(t)||nte(t)||rte()}function rte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nte(t,e){if(t){if(typeof t=="string")return iv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iv(t,e)}}function ite(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ate(t){if(Array.isArray(t))return iv(t)}function iv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ote=function(e){return e},QC={"@@functional/placeholder":!0},JC=function(e){return e===QC},e_=function(e){return function r(){return arguments.length===0||arguments.length===1&&JC(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},ste=function t(e,r){return e===1?r:e_(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==QC}).length;return o>=e?r.apply(void 0,i):t(e-o,e_(function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];var u=i.map(function(d){return JC(d)?c.shift():d});return r.apply(void 0,tte(u).concat(c))}))})},fh=function(e){return ste(e.length,e)},av=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},cte=fh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),lte=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return ote;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,c){return c(s)},a.apply(void 0,arguments))}},ov=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},ZC=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,c){return s===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function ute(t){var e;return t===0?e=1:e=Math.floor(new Ie(t).abs().log(10).toNumber())+1,e}function dte(t,e,r){for(var n=new Ie(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var fte=fh(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),hte=fh(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),pte=fh(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const hh={rangeStep:dte,getDigitCount:ute,interpolateNumber:fte,uninterpolateNumber:hte,uninterpolateTruncation:pte};function sv(t){return gte(t)||vte(t)||ek(t)||mte()}function mte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function gte(t){if(Array.isArray(t))return cv(t)}function Dc(t,e){return wte(t)||bte(t,e)||ek(t,e)||yte()}function yte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ek(t,e){if(t){if(typeof t=="string")return cv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cv(t,e)}}function cv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bte(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function wte(t){if(Array.isArray(t))return t}function tk(t){var e=Dc(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function rk(t,e,r){if(t.lte(0))return new Ie(0);var n=hh.getDigitCount(t.toNumber()),i=new Ie(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new Ie(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=s.mul(i);return e?c:new Ie(Math.ceil(c))}function xte(t,e,r){var n=1,i=new Ie(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Ie(10).pow(hh.getDigitCount(t)-1),i=new Ie(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ie(Math.floor(t)))}else t===0?i=new Ie(Math.floor((e-1)/2)):r||(i=new Ie(Math.floor(t)));var o=Math.floor((e-1)/2),s=lte(cte(function(c){return i.add(new Ie(c-o).mul(n)).toNumber()}),av);return s(0,e)}function nk(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Ie(0),tickMin:new Ie(0),tickMax:new Ie(0)};var a=rk(new Ie(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Ie(0):(o=new Ie(t).add(e).div(2),o=o.sub(new Ie(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new Ie(e).sub(o).div(a).toNumber()),l=s+c+1;return l>r?nk(t,e,r,n,i+1):(l<r&&(c=e>0?c+(r-l):c,s=e>0?s:s+(r-l)),{step:a,tickMin:o.sub(new Ie(s).mul(a)),tickMax:o.add(new Ie(c).mul(a))})}function _te(t){var e=Dc(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=tk([r,n]),c=Dc(s,2),l=c[0],u=c[1];if(l===-1/0||u===1/0){var d=u===1/0?[l].concat(sv(av(0,i-1).map(function(){return 1/0}))):[].concat(sv(av(0,i-1).map(function(){return-1/0})),[u]);return r>n?ov(d):d}if(l===u)return xte(l,i,a);var f=nk(l,u,o,a),h=f.step,g=f.tickMin,m=f.tickMax,v=hh.rangeStep(g,m.add(new Ie(.1).mul(h)),h);return r>n?ov(v):v}function Ste(t,e){var r=Dc(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=tk([n,i]),s=Dc(o,2),c=s[0],l=s[1];if(c===-1/0||l===1/0)return[n,i];if(c===l)return[c];var u=Math.max(e,2),d=rk(new Ie(l).sub(c).div(u-1),a,0),f=[].concat(sv(hh.rangeStep(new Ie(c),new Ie(l).sub(new Ie(.99).mul(d)),d)),[l]);return n>i?ov(f):f}var Ote=ZC(_te),Ate=ZC(Ste),Ete="Invariant failed";function Sa(t,e){throw new Error(Ete)}var Pte=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ho(t){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ho(t)}function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gd.apply(this,arguments)}function jte(t,e){return $te(t)||kte(t,e)||Cte(t,e)||Tte()}function Tte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cte(t,e){if(t){if(typeof t=="string")return t_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t_(t,e)}}function t_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function $te(t){if(Array.isArray(t))return t}function Nte(t,e){if(t==null)return{};var r=Rte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ite(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ok(n.key),n)}}function Dte(t,e,r){return e&&Mte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lte(t,e,r){return e=yd(e),Bte(t,ik()?Reflect.construct(e,r||[],yd(t).constructor):e.apply(t,r))}function Bte(t,e){if(e&&(Ho(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fte(t)}function Fte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ik(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ik=function(){return!!t})()}function yd(t){return yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yd(t)}function Ute(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lv(t,e)}function lv(t,e){return lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lv(t,e)}function ak(t,e,r){return e=ok(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ok(t){var e=Wte(t,"string");return Ho(e)=="symbol"?e:e+""}function Wte(t,e){if(Ho(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Is=function(t){function e(){return Ite(this,e),Lte(this,e,arguments)}return Ute(e,t),Dte(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,c=n.data,l=n.dataPointFormatter,u=n.xAxis,d=n.yAxis,f=Nte(n,Pte),h=te(f,!1);this.props.direction==="x"&&u.type!=="number"&&Sa();var g=c.map(function(m){var v=l(m,s),b=v.x,w=v.y,y=v.value,O=v.errorVal;if(!O)return null;var _=[],S,A;if(Array.isArray(O)){var E=jte(O,2);S=E[0],A=E[1]}else S=A=O;if(a==="vertical"){var j=u.scale,T=w+i,C=T+o,k=T-o,L=j(y-S),R=j(y+A);_.push({x1:R,y1:C,x2:R,y2:k}),_.push({x1:L,y1:T,x2:R,y2:T}),_.push({x1:L,y1:C,x2:L,y2:k})}else if(a==="horizontal"){var B=d.scale,$=b+i,M=$-o,F=$+o,D=B(y-S),z=B(y+A);_.push({x1:M,y1:z,x2:F,y2:z}),_.push({x1:$,y1:D,x2:$,y2:z}),_.push({x1:M,y1:D,x2:F,y2:D})}return P.createElement(ve,gd({className:"recharts-errorBar",key:"bar-".concat(_.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},h),_.map(function(Y){return P.createElement("line",gd({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return P.createElement(ve,{className:"recharts-errorBars"},g)}}])}(P.Component);ak(Is,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ak(Is,"displayName","ErrorBar");function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function r_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ii(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r_(Object(r),!0).forEach(function(n){zte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zte(t,e,r){return e=qte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qte(t){var e=Hte(t,"string");return Lc(e)=="symbol"?e:e+""}function Hte(t,e){if(Lc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sk=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Vt(r,mi);if(!o)return null;var s=mi.defaultProps,c=s!==void 0?Ii(Ii({},s),o.props):{},l;return o.props&&o.props.payload?l=o.props&&o.props.payload:a==="children"?l=(n||[]).reduce(function(u,d){var f=d.item,h=d.props,g=h.sectors||h.data||[];return u.concat(g.map(function(m){return{type:o.props.iconType||f.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):l=(n||[]).map(function(u){var d=u.item,f=d.type.defaultProps,h=f!==void 0?Ii(Ii({},f),d.props):{},g=h.dataKey,m=h.name,v=h.legendType,b=h.hide;return{inactive:b,dataKey:g,type:c.iconType||v||"square",color:nb(d),value:m||g,payload:h}}),Ii(Ii(Ii({},c),mi.getWithHeight(o,i)),{},{payload:l,item:o})};function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function n_(t){return Yte(t)||Gte(t)||Vte(t)||Kte()}function Kte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vte(t,e){if(t){if(typeof t=="string")return uv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uv(t,e)}}function Gte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yte(t){if(Array.isArray(t))return uv(t)}function uv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i_(Object(r),!0).forEach(function(n){vo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vo(t,e,r){return e=Xte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xte(t){var e=Qte(t,"string");return Bc(e)=="symbol"?e:e+""}function Qte(t,e){if(Bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function De(t,e,r){return ce(t)||ce(e)?r:pt(e)?Jt(t,e,r):se(e)?e(t):r}function ac(t,e,r,n){var i=Gee(t,function(s){return De(s,e)});if(r==="number"){var a=i.filter(function(s){return V(s)||parseFloat(s)});return a.length?[dh(a),li(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!ce(s)}):i;return o.map(function(s){return pt(s)||s instanceof Date?s:""})}var Jte=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,l=0;l<s;l++){var u=l>0?i[l-1].coordinate:i[s-1].coordinate,d=i[l].coordinate,f=l>=s-1?i[0].coordinate:i[l+1].coordinate,h=void 0;if(kt(d-u)!==kt(f-d)){var g=[];if(kt(f-d)===kt(c[1]-c[0])){h=f;var m=d+c[1]-c[0];g[0]=Math.min(m,(m+u)/2),g[1]=Math.max(m,(m+u)/2)}else{h=u;var v=f+c[1]-c[0];g[0]=Math.min(d,(v+d)/2),g[1]=Math.max(d,(v+d)/2)}var b=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>b[0]&&e<=b[1]||e>=g[0]&&e<=g[1]){o=i[l].index;break}}else{var w=Math.min(u,f),y=Math.max(u,f);if(e>(w+d)/2&&e<=(y+d)/2){o=i[l].index;break}}}else for(var O=0;O<s;O++)if(O===0&&e<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<s-1&&e>(n[O].coordinate+n[O-1].coordinate)/2&&e<=(n[O].coordinate+n[O+1].coordinate)/2||O===s-1&&e>(n[O].coordinate+n[O-1].coordinate)/2){o=n[O].index;break}return o},nb=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Qe(Qe({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:s;break;default:c=s;break}return c},Zte=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),c=0,l=s.length;c<l;c++)for(var u=a[s[c]].stackGroups,d=Object.keys(u),f=0,h=d.length;f<h;f++){var g=u[d[f]],m=g.items,v=g.cateAxisId,b=m.filter(function(A){return On(A.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,y=w!==void 0?Qe(Qe({},w),b[0].props):b[0].props,O=y.barSize,_=y[v];o[_]||(o[_]=[]);var S=ce(O)?r:O;o[_].push({item:b[0],stackList:b.slice(1),barSize:ce(S)?void 0:$t(S,n,0)})}}return o},ere=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,c=o.length;if(c<1)return null;var l=$t(r,i,0,!0),u,d=[];if(o[0].barSize===+o[0].barSize){var f=!1,h=i/c,g=o.reduce(function(O,_){return O+_.barSize||0},0);g+=(c-1)*l,g>=i&&(g-=(c-1)*l,l=0),g>=i&&h>0&&(f=!0,h*=.9,g=c*h);var m=(i-g)/2>>0,v={offset:m-l,size:0};u=o.reduce(function(O,_){var S={item:_.item,position:{offset:v.offset+v.size+l,size:f?h:_.barSize}},A=[].concat(n_(O),[S]);return v=A[A.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(E){A.push({item:E,position:v})}),A},d)}else{var b=$t(n,i,0,!0);i-2*b-(c-1)*l<=0&&(l=0);var w=(i-2*b-(c-1)*l)/c;w>1&&(w>>=0);var y=s===+s?Math.min(w,s):w;u=o.reduce(function(O,_,S){var A=[].concat(n_(O),[{item:_.item,position:{offset:b+(w+l)*S+(w-y)/2,size:y}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(E){A.push({item:E,position:A[A.length-1].position})}),A},d)}return u},tre=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,c=o-(s.left||0)-(s.right||0),l=sk({children:a,legendWidth:c});if(l){var u=i||{},d=u.width,f=u.height,h=l.align,g=l.verticalAlign,m=l.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&h!=="center"&&V(e[h]))return Qe(Qe({},e),{},vo({},h,e[h]+(d||0)));if((m==="horizontal"||m==="vertical"&&h==="center")&&g!=="middle"&&V(e[g]))return Qe(Qe({},e),{},vo({},g,e[g]+(f||0)))}return e},rre=function(e,r,n){return ce(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},ck=function(e,r,n,i,a){var o=r.props.children,s=Rt(o,Is).filter(function(l){return rre(i,a,l.props.direction)});if(s&&s.length){var c=s.map(function(l){return l.props.dataKey});return e.reduce(function(l,u){var d=De(u,n);if(ce(d))return l;var f=Array.isArray(d)?[dh(d),li(d)]:[d,d],h=c.reduce(function(g,m){var v=De(u,m,0),b=f[0]-Math.abs(Array.isArray(v)?v[0]:v),w=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(h[0],l[0]),Math.max(h[1],l[1])]},[1/0,-1/0])}return null},nre=function(e,r,n,i,a){var o=r.map(function(s){return ck(e,s,n,a,i)}).filter(function(s){return!ce(s)});return o&&o.length?o.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]):null},lk=function(e,r,n,i,a){var o=r.map(function(c){var l=c.props.dataKey;return n==="number"&&l&&ck(e,c,l,i)||ac(e,l,n,a)});if(n==="number")return o.reduce(function(c,l){return[Math.min(c[0],l[0]),Math.max(c[1],l[1])]},[1/0,-1/0]);var s={};return o.reduce(function(c,l){for(var u=0,d=l.length;u<d;u++)s[l[u]]||(s[l[u]]=!0,c.push(l[u]));return c},[])},uk=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},dk=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,o,s=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||s.push(r),o||s.push(n),s},_n=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,l=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(l=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?kt(s[0]-s[1])*2*l:l,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var f=a?a.indexOf(d):d;return{coordinate:i(f)+l,value:d,offset:l}});return u.filter(function(d){return!Ps(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,f){return{coordinate:i(d)+l,value:d,index:f,offset:l}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+l,value:d,offset:l}}):i.domain().map(function(d,f){return{coordinate:i(d)+l,value:a?a[d]:d,index:f,offset:l}})},wp=new WeakMap,ru=function(e,r){if(typeof r!="function")return e;wp.has(e)||wp.set(e,new WeakMap);var n=wp.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},fk=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:kc(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:fd(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ic(),realScaleType:"point"}:a==="category"?{scale:kc(),realScaleType:"band"}:{scale:fd(),realScaleType:"linear"};if(wa(i)){var c="scale".concat(Xf(i));return{scale:(Qx[c]||ic)(),realScaleType:Qx[c]?c:"point"}}return se(i)?{scale:i}:{scale:ic(),realScaleType:"point"}},a_=1e-4,hk=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-a_,o=Math.max(i[0],i[1])+a_,s=e(r[0]),c=e(r[n-1]);(s<a||s>o||c<a||c>o)&&e.domain([r[0],r[n-1]])}},ire=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},are=function(e,r){if(!r||r.length!==2||!V(r[0])||!V(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!V(e[0])||e[0]<n)&&(a[0]=n),(!V(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},ore=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var c=Ps(e[s][n][1])?e[s][n][0]:e[s][n][1];c>=0?(e[s][n][0]=a,e[s][n][1]=a+c,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+c,o=e[s][n][1])}},sre=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=Ps(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},cre={sign:ore,expand:PH,none:Do,silhouette:jH,wiggle:TH,positive:sre},lre=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=cre[n],o=EH().keys(i).value(function(s,c){return+De(s,c,0)}).order(Im).offset(a);return o(e)},ure=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,c={},l=s.reduce(function(d,f){var h,g=(h=f.type)!==null&&h!==void 0&&h.defaultProps?Qe(Qe({},f.type.defaultProps),f.props):f.props,m=g.stackId,v=g.hide;if(v)return d;var b=g[n],w=d[b]||{hasStack:!1,stackGroups:{}};if(pt(m)){var y=w.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};y.items.push(f),w.hasStack=!0,w.stackGroups[m]=y}else w.stackGroups[ji("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[f]};return Qe(Qe({},d),{},vo({},b,w))},c),u={};return Object.keys(l).reduce(function(d,f){var h=l[f];if(h.hasStack){var g={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(m,v){var b=h.stackGroups[v];return Qe(Qe({},m),{},vo({},v,{numericAxisId:n,cateAxisId:i,items:b.items,stackedData:lre(e,b.items,a)}))},g)}return Qe(Qe({},d),{},vo({},f,h))},u)},pk=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var l=e.domain();if(!l.length)return null;var u=Ote(l,a,s);return e.domain([dh(u),li(u)]),{niceTicks:u}}if(a&&i==="number"){var d=e.domain(),f=Ate(d,a,s);return{niceTicks:f}}return null};function Ko(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ce(i[e.dataKey])){var s=Hu(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=De(i,ce(o)?e.dataKey:o);return ce(c)?null:e.scale(c)}var o_=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var c=De(o,r.dataKey,r.domain[s]);return ce(c)?null:r.scale(c)-a/2+i},dre=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},fre=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Qe(Qe({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(pt(a)){var o=r[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},hre=function(e){return e.reduce(function(r,n){return[dh(n.concat([r[0]]).filter(V)),li(n.concat([r[1]]).filter(V))]},[1/0,-1/0])},mk=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,c=s.reduce(function(l,u){var d=hre(u.slice(r,n+1));return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},s_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,c_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dv=function(e,r,n){if(se(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(V(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(s_.test(e[0])){var a=+s_.exec(e[0])[1];i[0]=r[0]-a}else se(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(V(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(c_.test(e[1])){var o=+c_.exec(e[1])[1];i[1]=r[1]+o}else se(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},bd=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=ky(r,function(d){return d.coordinate}),o=1/0,s=1,c=a.length;s<c;s++){var l=a[s],u=a[s-1];o=Math.min((l.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},l_=function(e,r,n){return!e||!e.length||Nn(e,Jt(n,"type.defaultProps.domain"))?r:e},vk=function(e,r){var n=e.type.defaultProps?Qe(Qe({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,c=n.tooltipType,l=n.chartType,u=n.hide;return Qe(Qe({},te(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:nb(e),value:De(r,i),type:c,payload:r,chartType:l,hide:u})};function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function u_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u_(Object(r),!0).forEach(function(n){gk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gk(t,e,r){return e=pre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pre(t){var e=mre(t,"string");return Fc(e)=="symbol"?e:e+""}function mre(t,e){if(Fc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vre(t,e){return wre(t)||bre(t,e)||yre(t,e)||gre()}function gre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yre(t,e){if(t){if(typeof t=="string")return d_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d_(t,e)}}function d_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function wre(t){if(Array.isArray(t))return t}var wd=Math.PI/180,xre=function(e){return e*180/Math.PI},Pe=function(e,r,n,i){return{x:e+Math.cos(-wd*i)*n,y:r+Math.sin(-wd*i)*n}},yk=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},bk=function(e,r,n,i,a){var o=e.width,s=e.height,c=e.startAngle,l=e.endAngle,u=$t(e.cx,o,o/2),d=$t(e.cy,s,s/2),f=yk(o,s,n),h=$t(e.innerRadius,f,0),g=$t(e.outerRadius,f,f*.8),m=Object.keys(r);return m.reduce(function(v,b){var w=r[b],y=w.domain,O=w.reversed,_;if(ce(w.range))i==="angleAxis"?_=[c,l]:i==="radiusAxis"&&(_=[h,g]),O&&(_=[_[1],_[0]]);else{_=w.range;var S=_,A=vre(S,2);c=A[0],l=A[1]}var E=fk(w,a),j=E.realScaleType,T=E.scale;T.domain(y).range(_),hk(T);var C=pk(T,mn(mn({},w),{},{realScaleType:j})),k=mn(mn(mn({},w),C),{},{range:_,radius:g,realScaleType:j,scale:T,cx:u,cy:d,innerRadius:h,outerRadius:g,startAngle:c,endAngle:l});return mn(mn({},v),{},gk({},b,k))},{})},_re=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},Sre=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=_re({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var c=(n-a)/s,l=Math.acos(c);return i>o&&(l=2*Math.PI-l),{radius:s,angle:xre(l),angleInRadian:l}},Ore=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},Are=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},f_=function(e,r){var n=e.x,i=e.y,a=Sre({x:n,y:i},r),o=a.radius,s=a.angle,c=r.innerRadius,l=r.outerRadius;if(o<c||o>l)return!1;if(o===0)return!0;var u=Ore(r),d=u.startAngle,f=u.endAngle,h=s,g;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;g=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=d}return g?mn(mn({},r),{},{radius:o,angle:Are(h,r)}):null},wk=function(e){return!x.isValidElement(e)&&!se(e)&&typeof e!="boolean"?e.className:""};function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}var Ere=["offset"];function Pre(t){return kre(t)||Cre(t)||Tre(t)||jre()}function jre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tre(t,e){if(t){if(typeof t=="string")return fv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fv(t,e)}}function Cre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kre(t){if(Array.isArray(t))return fv(t)}function fv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $re(t,e){if(t==null)return{};var r=Nre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function h_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h_(Object(r),!0).forEach(function(n){Rre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rre(t,e,r){return e=Ire(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ire(t){var e=Mre(t,"string");return Uc(e)=="symbol"?e:e+""}function Mre(t,e){if(Uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wc(){return Wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wc.apply(this,arguments)}var Dre=function(e){var r=e.value,n=e.formatter,i=ce(e.children)?r:e.children;return se(n)?n(i):i},Lre=function(e,r){var n=kt(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Bre=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,c=a,l=c.cx,u=c.cy,d=c.innerRadius,f=c.outerRadius,h=c.startAngle,g=c.endAngle,m=c.clockWise,v=(d+f)/2,b=Lre(h,g),w=b>=0?1:-1,y,O;i==="insideStart"?(y=h+w*o,O=m):i==="insideEnd"?(y=g-w*o,O=!m):i==="end"&&(y=g+w*o,O=m),O=b<=0?O:!O;var _=Pe(l,u,v,y),S=Pe(l,u,v,y+(O?1:-1)*359),A="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(O?0:1,`,
    `).concat(S.x,",").concat(S.y),E=ce(e.id)?ji("recharts-radial-line-"):e.id;return P.createElement("text",Wc({},n,{dominantBaseline:"central",className:me("recharts-radial-bar-label",s)}),P.createElement("defs",null,P.createElement("path",{id:E,d:A})),P.createElement("textPath",{xlinkHref:"#".concat(E)},r))},Fre=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,c=a.innerRadius,l=a.outerRadius,u=a.startAngle,d=a.endAngle,f=(u+d)/2;if(i==="outside"){var h=Pe(o,s,l+n,f),g=h.x,m=h.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(c+l)/2,b=Pe(o,s,v,f),w=b.x,y=b.y;return{x:w,y,textAnchor:"middle",verticalAnchor:"middle"}},Ure=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,c=o.y,l=o.width,u=o.height,d=u>=0?1:-1,f=d*i,h=d>0?"end":"start",g=d>0?"start":"end",m=l>=0?1:-1,v=m*i,b=m>0?"end":"start",w=m>0?"start":"end";if(a==="top"){var y={x:s+l/2,y:c-d*i,textAnchor:"middle",verticalAnchor:h};return ct(ct({},y),n?{height:Math.max(c-n.y,0),width:l}:{})}if(a==="bottom"){var O={x:s+l/2,y:c+u+f,textAnchor:"middle",verticalAnchor:g};return ct(ct({},O),n?{height:Math.max(n.y+n.height-(c+u),0),width:l}:{})}if(a==="left"){var _={x:s-v,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return ct(ct({},_),n?{width:Math.max(_.x-n.x,0),height:u}:{})}if(a==="right"){var S={x:s+l+v,y:c+u/2,textAnchor:w,verticalAnchor:"middle"};return ct(ct({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:u}:{})}var A=n?{width:l,height:u}:{};return a==="insideLeft"?ct({x:s+v,y:c+u/2,textAnchor:w,verticalAnchor:"middle"},A):a==="insideRight"?ct({x:s+l-v,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},A):a==="insideTop"?ct({x:s+l/2,y:c+f,textAnchor:"middle",verticalAnchor:g},A):a==="insideBottom"?ct({x:s+l/2,y:c+u-f,textAnchor:"middle",verticalAnchor:h},A):a==="insideTopLeft"?ct({x:s+v,y:c+f,textAnchor:w,verticalAnchor:g},A):a==="insideTopRight"?ct({x:s+l-v,y:c+f,textAnchor:b,verticalAnchor:g},A):a==="insideBottomLeft"?ct({x:s+v,y:c+u-f,textAnchor:w,verticalAnchor:h},A):a==="insideBottomRight"?ct({x:s+l-v,y:c+u-f,textAnchor:b,verticalAnchor:h},A):Ss(a)&&(V(a.x)||Qi(a.x))&&(V(a.y)||Qi(a.y))?ct({x:s+$t(a.x,l),y:c+$t(a.y,u),textAnchor:"end",verticalAnchor:"end"},A):ct({x:s+l/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Wre=function(e){return"cx"in e&&V(e.cx)};function yt(t){var e=t.offset,r=e===void 0?5:e,n=$re(t,Ere),i=ct({offset:r},n),a=i.viewBox,o=i.position,s=i.value,c=i.children,l=i.content,u=i.className,d=u===void 0?"":u,f=i.textBreakAll;if(!a||ce(s)&&ce(c)&&!x.isValidElement(l)&&!se(l))return null;if(x.isValidElement(l))return x.cloneElement(l,i);var h;if(se(l)){if(h=x.createElement(l,i),x.isValidElement(h))return h}else h=Dre(i);var g=Wre(a),m=te(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Bre(i,h,m);var v=g?Fre(i):Ure(i);return P.createElement(xa,Wc({className:me("recharts-label",d)},m,v,{breakAll:f}),h)}yt.displayName="Label";var xk=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,c=e.radius,l=e.innerRadius,u=e.outerRadius,d=e.x,f=e.y,h=e.top,g=e.left,m=e.width,v=e.height,b=e.clockWise,w=e.labelViewBox;if(w)return w;if(V(m)&&V(v)){if(V(d)&&V(f))return{x:d,y:f,width:m,height:v};if(V(h)&&V(g))return{x:h,y:g,width:m,height:v}}return V(d)&&V(f)?{x:d,y:f,width:0,height:0}:V(r)&&V(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:l||0,outerRadius:u||c||s||0,clockWise:b}:e.viewBox?e.viewBox:{}},zre=function(e,r){return e?e===!0?P.createElement(yt,{key:"label-implicit",viewBox:r}):pt(e)?P.createElement(yt,{key:"label-implicit",viewBox:r,value:e}):x.isValidElement(e)?e.type===yt?x.cloneElement(e,{key:"label-implicit",viewBox:r}):P.createElement(yt,{key:"label-implicit",content:e,viewBox:r}):se(e)?P.createElement(yt,{key:"label-implicit",content:e,viewBox:r}):Ss(e)?P.createElement(yt,Wc({viewBox:r},e,{key:"label-implicit"})):null:null},qre=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=xk(e),o=Rt(i,yt).map(function(c,l){return x.cloneElement(c,{viewBox:r||a,key:"label-".concat(l)})});if(!n)return o;var s=zre(e.label,r||a);return[s].concat(Pre(o))};yt.parseViewBox=xk;yt.renderCallByParent=qre;function Hre(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Kre=Hre;const _k=ke(Kre);function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}var Vre=["valueAccessor"],Gre=["data","dataKey","clockWise","id","textBreakAll"];function Yre(t){return Zre(t)||Jre(t)||Qre(t)||Xre()}function Xre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qre(t,e){if(t){if(typeof t=="string")return hv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hv(t,e)}}function Jre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zre(t){if(Array.isArray(t))return hv(t)}function hv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xd.apply(this,arguments)}function p_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p_(Object(r),!0).forEach(function(n){ene(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ene(t,e,r){return e=tne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tne(t){var e=rne(t,"string");return zc(e)=="symbol"?e:e+""}function rne(t,e){if(zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v_(t,e){if(t==null)return{};var r=nne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ine=function(e){return Array.isArray(e.value)?_k(e.value):e.value};function hr(t){var e=t.valueAccessor,r=e===void 0?ine:e,n=v_(t,Vre),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,c=n.textBreakAll,l=v_(n,Gre);return!i||!i.length?null:P.createElement(ve,{className:"recharts-label-list"},i.map(function(u,d){var f=ce(a)?r(u,d):De(u&&u.payload,a),h=ce(s)?{}:{id:"".concat(s,"-").concat(d)};return P.createElement(yt,xd({},te(u,!0),l,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:c,viewBox:yt.parseViewBox(ce(o)?u:m_(m_({},u),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}hr.displayName="LabelList";function ane(t,e){return t?t===!0?P.createElement(hr,{key:"labelList-implicit",data:e}):P.isValidElement(t)||se(t)?P.createElement(hr,{key:"labelList-implicit",data:e,content:t}):Ss(t)?P.createElement(hr,xd({data:e},t,{key:"labelList-implicit"})):null:null}function one(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Rt(n,hr).map(function(o,s){return x.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=ane(t.label,e);return[a].concat(Yre(i))}hr.renderCallByParent=one;function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function pv(){return pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pv.apply(this,arguments)}function g_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g_(Object(r),!0).forEach(function(n){sne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sne(t,e,r){return e=cne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cne(t){var e=lne(t,"string");return qc(e)=="symbol"?e:e+""}function lne(t,e){if(qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var une=function(e,r){var n=kt(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},nu=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,c=e.cornerRadius,l=e.cornerIsExternal,u=c*(s?1:-1)+i,d=Math.asin(c/u)/wd,f=l?a:a+o*d,h=Pe(r,n,u,f),g=Pe(r,n,i,f),m=l?a-o*d:a,v=Pe(r,n,u*Math.cos(d*wd),m);return{center:h,circleTangency:g,lineTangency:v,theta:d}},Sk=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,c=une(o,s),l=o+c,u=Pe(r,n,a,o),d=Pe(r,n,a,l),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var h=Pe(r,n,i,o),g=Pe(r,n,i,l);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},dne=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,c=e.cornerIsExternal,l=e.startAngle,u=e.endAngle,d=kt(u-l),f=nu({cx:r,cy:n,radius:a,angle:l,sign:d,cornerRadius:o,cornerIsExternal:c}),h=f.circleTangency,g=f.lineTangency,m=f.theta,v=nu({cx:r,cy:n,radius:a,angle:u,sign:-d,cornerRadius:o,cornerIsExternal:c}),b=v.circleTangency,w=v.lineTangency,y=v.theta,O=c?Math.abs(l-u):Math.abs(l-u)-m-y;if(O<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Sk({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:l,endAngle:u});var _="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(O>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var S=nu({cx:r,cy:n,radius:i,angle:l,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=S.circleTangency,E=S.lineTangency,j=S.theta,T=nu({cx:r,cy:n,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=T.circleTangency,k=T.lineTangency,L=T.theta,R=c?Math.abs(l-u):Math.abs(l-u)-j-L;if(R<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},fne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ok=function(e){var r=y_(y_({},fne),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,c=r.forceCornerRadius,l=r.cornerIsExternal,u=r.startAngle,d=r.endAngle,f=r.className;if(o<a||u===d)return null;var h=me("recharts-sector",f),g=o-a,m=$t(s,g,0,!0),v;return m>0&&Math.abs(u-d)<360?v=dne({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:l,startAngle:u,endAngle:d}):v=Sk({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d}),P.createElement("path",pv({},te(r,!0),{className:h,d:v,role:"img"}))};function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mv.apply(this,arguments)}function b_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b_(Object(r),!0).forEach(function(n){hne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hne(t,e,r){return e=pne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pne(t){var e=mne(t,"string");return Hc(e)=="symbol"?e:e+""}function mne(t,e){if(Hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x_={curveBasisClosed:mH,curveBasisOpen:vH,curveBasis:pH,curveBumpX:eH,curveBumpY:tH,curveLinearClosed:gH,curveLinear:Jf,curveMonotoneX:yH,curveMonotoneY:bH,curveNatural:wH,curveStep:xH,curveStepAfter:SH,curveStepBefore:_H},iu=function(e){return e.x===+e.x&&e.y===+e.y},qs=function(e){return e.x},Hs=function(e){return e.y},vne=function(e,r){if(se(e))return e;var n="curve".concat(Xf(e));return(n==="curveMonotone"||n==="curveBump")&&r?x_["".concat(n).concat(r==="vertical"?"Y":"X")]:x_[n]||Jf},gne=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,c=e.connectNulls,l=c===void 0?!1:c,u=vne(n,s),d=l?a.filter(function(m){return iu(m)}):a,f;if(Array.isArray(o)){var h=l?o.filter(function(m){return iu(m)}):o,g=d.map(function(m,v){return w_(w_({},m),{},{base:h[v]})});return s==="vertical"?f=Gl().y(Hs).x1(qs).x0(function(m){return m.base.x}):f=Gl().x(qs).y1(Hs).y0(function(m){return m.base.y}),f.defined(iu).curve(u),f(g)}return s==="vertical"&&V(o)?f=Gl().y(Hs).x1(qs).x0(o):V(o)?f=Gl().x(qs).y1(Hs).y0(o):f=vT().x(qs).y(Hs),f.defined(iu).curve(u),f(d)},gi=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?gne(e):i;return x.createElement("path",mv({},te(e,!1),Ku(e),{className:me("recharts-curve",r),d:o,ref:a}))},Ak={exports:{}},yne="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",bne=yne,wne=bne;function Ek(){}function Pk(){}Pk.resetWarningCache=Ek;var xne=function(){function t(n,i,a,o,s,c){if(c!==wne){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Pk,resetWarningCache:Ek};return r.PropTypes=r,r};Ak.exports=xne();var _ne=Ak.exports;const Te=ke(_ne);var Sne=Object.getOwnPropertyNames,One=Object.getOwnPropertySymbols,Ane=Object.prototype.hasOwnProperty;function __(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function au(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var c=t(r,n,i);return a.delete(r),a.delete(n),c}}function S_(t){return Sne(t).concat(One(t))}var Ene=Object.hasOwn||function(t,e){return Ane.call(t,e)};function Ca(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Pne="__v",jne="__o",Tne="_owner",O_=Object.getOwnPropertyDescriptor,A_=Object.keys;function Cne(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function kne(t,e){return Ca(t.getTime(),e.getTime())}function $ne(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Nne(t,e){return t===e}function E_(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,s,c=0;(o=a.next())&&!o.done;){for(var l=e.entries(),u=!1,d=0;(s=l.next())&&!s.done;){if(i[d]){d++;continue}var f=o.value,h=s.value;if(r.equals(f[0],h[0],c,d,t,e,r)&&r.equals(f[1],h[1],f[0],h[0],t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1;c++}return!0}var Rne=Ca;function Ine(t,e,r){var n=A_(t),i=n.length;if(A_(e).length!==i)return!1;for(;i-- >0;)if(!jk(t,e,r,n[i]))return!1;return!0}function Ks(t,e,r){var n=S_(t),i=n.length;if(S_(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!jk(t,e,r,a)||(o=O_(t,a),s=O_(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Mne(t,e){return Ca(t.valueOf(),e.valueOf())}function Dne(t,e){return t.source===e.source&&t.flags===e.flags}function P_(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var c=e.values(),l=!1,u=0;(s=c.next())&&!s.done;){if(!i[u]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){l=i[u]=!0;break}u++}if(!l)return!1}return!0}function Lne(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Bne(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function jk(t,e,r,n){return(n===Tne||n===jne||n===Pne)&&(t.$$typeof||e.$$typeof)?!0:Ene(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Fne="[object Arguments]",Une="[object Boolean]",Wne="[object Date]",zne="[object Error]",qne="[object Map]",Hne="[object Number]",Kne="[object Object]",Vne="[object RegExp]",Gne="[object Set]",Yne="[object String]",Xne="[object URL]",Qne=Array.isArray,j_=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,T_=Object.assign,Jne=Object.prototype.toString.call.bind(Object.prototype.toString);function Zne(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,l=t.areRegExpsEqual,u=t.areSetsEqual,d=t.areTypedArraysEqual,f=t.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var b=typeof g;if(b!==typeof m)return!1;if(b!=="object")return b==="number"?o(g,m,v):b==="function"?i(g,m,v):!1;var w=g.constructor;if(w!==m.constructor)return!1;if(w===Object)return s(g,m,v);if(Qne(g))return e(g,m,v);if(j_!=null&&j_(g))return d(g,m,v);if(w===Date)return r(g,m,v);if(w===RegExp)return l(g,m,v);if(w===Map)return a(g,m,v);if(w===Set)return u(g,m,v);var y=Jne(g);return y===Wne?r(g,m,v):y===Vne?l(g,m,v):y===qne?a(g,m,v):y===Gne?u(g,m,v):y===Kne?typeof g.then!="function"&&typeof m.then!="function"&&s(g,m,v):y===Xne?f(g,m,v):y===zne?n(g,m,v):y===Fne?s(g,m,v):y===Une||y===Hne||y===Yne?c(g,m,v):!1}}function eie(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Ks:Cne,areDatesEqual:kne,areErrorsEqual:$ne,areFunctionsEqual:Nne,areMapsEqual:n?__(E_,Ks):E_,areNumbersEqual:Rne,areObjectsEqual:n?Ks:Ine,arePrimitiveWrappersEqual:Mne,areRegExpsEqual:Dne,areSetsEqual:n?__(P_,Ks):P_,areTypedArraysEqual:n?Ks:Lne,areUrlsEqual:Bne};if(r&&(i=T_({},i,r(i))),e){var a=au(i.areArraysEqual),o=au(i.areMapsEqual),s=au(i.areObjectsEqual),c=au(i.areSetsEqual);i=T_({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:c})}return i}function tie(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function rie(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(c,l){var u=n(),d=u.cache,f=d===void 0?e?new WeakMap:void 0:d,h=u.meta;return r(c,l,{cache:f,equals:i,meta:h,strict:a})};if(e)return function(c,l){return r(c,l,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,l){return r(c,l,o)}}var nie=ki();ki({strict:!0});ki({circular:!0});ki({circular:!0,strict:!0});ki({createInternalComparator:function(){return Ca}});ki({strict:!0,createInternalComparator:function(){return Ca}});ki({circular:!0,createInternalComparator:function(){return Ca}});ki({circular:!0,createInternalComparator:function(){return Ca},strict:!0});function ki(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=eie(t),c=Zne(s),l=n?n(c):tie(c);return rie({circular:r,comparator:c,createState:i,equals:l,strict:o})}function iie(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function C_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):iie(i)};requestAnimationFrame(n)}function vv(t){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}function aie(t){return lie(t)||cie(t)||sie(t)||oie()}function oie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sie(t,e){if(t){if(typeof t=="string")return k_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k_(t,e)}}function k_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lie(t){if(Array.isArray(t))return t}function uie(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=aie(o),c=s[0],l=s.slice(1);if(typeof c=="number"){C_(i.bind(null,l),c);return}i(c),C_(i.bind(null,l));return}vv(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function $_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$_(Object(r),!0).forEach(function(n){Tk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tk(t,e,r){return e=die(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function die(t){var e=fie(t,"string");return Kc(e)==="symbol"?e:String(e)}function fie(t,e){if(Kc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Kc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hie=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},pie=function(e){return e},mie=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},oc=function(e,r){return Object.keys(r).reduce(function(n,i){return N_(N_({},n),{},Tk({},i,e(i,r[i])))},{})},R_=function(e,r,n){return e.map(function(i){return"".concat(mie(i)," ").concat(r,"ms ").concat(n)}).join(",")};function vie(t,e){return bie(t)||yie(t,e)||Ck(t,e)||gie()}function gie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function bie(t){if(Array.isArray(t))return t}function wie(t){return Sie(t)||_ie(t)||Ck(t)||xie()}function xie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ck(t,e){if(t){if(typeof t=="string")return gv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gv(t,e)}}function _ie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sie(t){if(Array.isArray(t))return gv(t)}function gv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var _d=1e-4,kk=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},$k=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},I_=function(e,r){return function(n){var i=kk(e,r);return $k(i,n)}},Oie=function(e,r){return function(n){var i=kk(e,r),a=[].concat(wie(i.map(function(o,s){return o*s}).slice(1)),[0]);return $k(a,n)}},M_=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var l=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=vie(l,4);i=u[0],a=u[1],o=u[2],s=u[3]}}}var d=I_(i,o),f=I_(a,s),h=Oie(i,o),g=function(b){return b>1?1:b<0?0:b},m=function(b){for(var w=b>1?1:b,y=w,O=0;O<8;++O){var _=d(y)-w,S=h(y);if(Math.abs(_-w)<_d||S<_d)return f(y);y=g(y-_/S)}return f(y)};return m.isStepper=!1,m},Aie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,c=function(u,d,f){var h=-(u-d)*n,g=f*a,m=f+(h-g)*s/1e3,v=f*s/1e3+u;return Math.abs(v-d)<_d&&Math.abs(m)<_d?[d,0]:[v,m]};return c.isStepper=!0,c.dt=s,c},Eie=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return M_(i);case"spring":return Aie();default:if(i.split("(")[0]==="cubic-bezier")return M_(i)}return typeof i=="function"?i:null};function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function D_(t){return Tie(t)||jie(t)||Nk(t)||Pie()}function Pie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tie(t){if(Array.isArray(t))return bv(t)}function L_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L_(Object(r),!0).forEach(function(n){yv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yv(t,e,r){return e=Cie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cie(t){var e=kie(t,"string");return Vc(e)==="symbol"?e:String(e)}function kie(t,e){if(Vc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Vc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ie(t,e){return Iie(t)||Rie(t,e)||Nk(t,e)||Nie()}function Nie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nk(t,e){if(t){if(typeof t=="string")return bv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bv(t,e)}}function bv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function Iie(t){if(Array.isArray(t))return t}var Sd=function(e,r,n){return e+(r-e)*n},wv=function(e){var r=e.from,n=e.to;return r!==n},Mie=function t(e,r,n){var i=oc(function(a,o){if(wv(o)){var s=e(o.from,o.to,o.velocity),c=$ie(s,2),l=c[0],u=c[1];return _t(_t({},o),{},{from:l,velocity:u})}return o},r);return n<1?oc(function(a,o){return wv(o)?_t(_t({},o),{},{velocity:Sd(o.velocity,i[a].velocity,n),from:Sd(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const Die=function(t,e,r,n,i){var a=hie(t,e),o=a.reduce(function(v,b){return _t(_t({},v),{},yv({},b,[t[b],e[b]]))},{}),s=a.reduce(function(v,b){return _t(_t({},v),{},yv({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,l,u,d=function(){return null},f=function(){return oc(function(b,w){return w.from},s)},h=function(){return!Object.values(s).filter(wv).length},g=function(b){l||(l=b);var w=b-l,y=w/r.dt;s=Mie(r,s,y),i(_t(_t(_t({},t),e),f())),l=b,h()||(c=requestAnimationFrame(d))},m=function(b){u||(u=b);var w=(b-u)/n,y=oc(function(_,S){return Sd.apply(void 0,D_(S).concat([r(w)]))},o);if(i(_t(_t(_t({},t),e),y)),w<1)c=requestAnimationFrame(d);else{var O=oc(function(_,S){return Sd.apply(void 0,D_(S).concat([r(1)]))},o);i(_t(_t(_t({},t),e),O))}};return d=r.isStepper?g:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function Vo(t){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vo(t)}var Lie=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Bie(t,e){if(t==null)return{};var r=Fie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fie(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function xp(t){return qie(t)||zie(t)||Wie(t)||Uie()}function Uie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wie(t,e){if(t){if(typeof t=="string")return xv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xv(t,e)}}function zie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qie(t){if(Array.isArray(t))return xv(t)}function xv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function B_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Or(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B_(Object(r),!0).forEach(function(n){ec(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ec(t,e,r){return e=Rk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rk(n.key),n)}}function Vie(t,e,r){return e&&Kie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rk(t){var e=Gie(t,"string");return Vo(e)==="symbol"?e:String(e)}function Gie(t,e){if(Vo(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Vo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_v(t,e)}function _v(t,e){return _v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_v(t,e)}function Xie(t){var e=Qie();return function(){var n=Od(t),i;if(e){var a=Od(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Sv(this,i)}}function Sv(t,e){if(e&&(Vo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ov(t)}function Ov(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Od(t){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Od(t)}var er=function(t){Yie(r,t);var e=Xie(r);function r(n,i){var a;Hie(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,c=o.attributeName,l=o.from,u=o.to,d=o.steps,f=o.children,h=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Ov(a)),a.changeStyle=a.changeStyle.bind(Ov(a)),!s||h<=0)return a.state={style:{}},typeof f=="function"&&(a.state={style:u}),Sv(a);if(d&&d.length)a.state={style:d[0].style};else if(l){if(typeof f=="function")return a.state={style:l},Sv(a);a.state={style:c?ec({},c,l):l}}else a.state={style:{}};return a}return Vie(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,c=a.attributeName,l=a.shouldReAnimate,u=a.to,d=a.from,f=this.state.style;if(s){if(!o){var h={style:c?ec({},c,u):u};this.state&&f&&(c&&f[c]!==u||!c&&f!==u)&&this.setState(h);return}if(!(nie(i.to,u)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||l?d:i.to;if(this.state&&f){var v={style:c?ec({},c,m):m};(c&&f[c]!==m||!c&&f!==m)&&this.setState(v)}this.runAnimation(Or(Or({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,c=i.duration,l=i.easing,u=i.begin,d=i.onAnimationEnd,f=i.onAnimationStart,h=Die(o,s,Eie(l),c,this.changeStyle),g=function(){a.stopJSAnimation=h()};this.manager.start([f,u,g,c,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,c=i.onAnimationStart,l=o[0],u=l.style,d=l.duration,f=d===void 0?0:d,h=function(m,v,b){if(b===0)return m;var w=v.duration,y=v.easing,O=y===void 0?"ease":y,_=v.style,S=v.properties,A=v.onAnimationEnd,E=b>0?o[b-1]:v,j=S||Object.keys(_);if(typeof O=="function"||O==="spring")return[].concat(xp(m),[a.runJSAnimation.bind(a,{from:E.style,to:_,duration:w,easing:O}),w]);var T=R_(j,w,O),C=Or(Or(Or({},E.style),_),{},{transition:T});return[].concat(xp(m),[C,w,A]).filter(pie)};return this.manager.start([c].concat(xp(o.reduce(h,[u,Math.max(f,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=uie());var a=i.begin,o=i.duration,s=i.attributeName,c=i.to,l=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,f=i.steps,h=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof l=="function"||typeof h=="function"||l==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var m=s?ec({},s,c):c,v=R_(Object.keys(m),o,l);g.start([u,a,Or(Or({},m),{},{transition:v}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Bie(i,Lie),l=x.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!s||l===0||o<=0)return a;var d=function(h){var g=h.props,m=g.style,v=m===void 0?{}:m,b=g.className,w=x.cloneElement(h,Or(Or({},c),{},{style:Or(Or({},v),u),className:b}));return w};return l===1?d(x.Children.only(a)):P.createElement("div",null,x.Children.map(a,function(f){return d(f)}))}}]),r}(x.PureComponent);er.displayName="Animate";er.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};er.propTypes={from:Te.oneOfType([Te.object,Te.string]),to:Te.oneOfType([Te.object,Te.string]),attributeName:Te.string,duration:Te.number,begin:Te.number,easing:Te.oneOfType([Te.string,Te.func]),steps:Te.arrayOf(Te.shape({duration:Te.number.isRequired,style:Te.object.isRequired,easing:Te.oneOfType([Te.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Te.func]),properties:Te.arrayOf("string"),onAnimationEnd:Te.func})),children:Te.oneOfType([Te.node,Te.func]),isActive:Te.bool,canBegin:Te.bool,onAnimationEnd:Te.func,shouldReAnimate:Te.bool,onAnimationStart:Te.func,onAnimationReStart:Te.func};function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function Ad(){return Ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ad.apply(this,arguments)}function Jie(t,e){return rae(t)||tae(t,e)||eae(t,e)||Zie()}function Zie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eae(t,e){if(t){if(typeof t=="string")return F_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F_(t,e)}}function F_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function rae(t){if(Array.isArray(t))return t}function U_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function W_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U_(Object(r),!0).forEach(function(n){nae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nae(t,e,r){return e=iae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iae(t){var e=aae(t,"string");return Gc(e)=="symbol"?e:e+""}function aae(t,e){if(Gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z_=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,c=n>=0?1:-1,l=i>=0&&n>=0||i<0&&n<0?1:0,u;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>o?o:a[f];u="M".concat(e,",").concat(r+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(e+c*d[0],",").concat(r)),u+="L ".concat(e+n-c*d[1],",").concat(r),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(e+n,",").concat(r+s*d[1])),u+="L ".concat(e+n,",").concat(r+i-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(e+n-c*d[2],",").concat(r+i)),u+="L ".concat(e+c*d[3],",").concat(r+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(r+i-s*d[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);u="M ".concat(e,",").concat(r+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(e+c*g,",").concat(r,`
            L `).concat(e+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(e+n,",").concat(r+s*g,`
            L `).concat(e+n,",").concat(r+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(e+n-c*g,",").concat(r+i,`
            L `).concat(e+c*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(e,",").concat(r+i-s*g," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},oae=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,c=r.height;if(Math.abs(s)>0&&Math.abs(c)>0){var l=Math.min(a,a+s),u=Math.max(a,a+s),d=Math.min(o,o+c),f=Math.max(o,o+c);return n>=l&&n<=u&&i>=d&&i<=f}return!1},sae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ib=function(e){var r=W_(W_({},sae),e),n=x.useRef(),i=x.useState(-1),a=Jie(i,2),o=a[0],s=a[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&s(O)}catch{}},[]);var c=r.x,l=r.y,u=r.width,d=r.height,f=r.radius,h=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var y=me("recharts-rectangle",h);return w?P.createElement(er,{canBegin:o>0,from:{width:u,height:d,x:c,y:l},to:{width:u,height:d,x:c,y:l},duration:m,animationEasing:g,isActive:w},function(O){var _=O.width,S=O.height,A=O.x,E=O.y;return P.createElement(er,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:b,easing:g},P.createElement("path",Ad({},te(r,!0),{className:y,d:z_(A,E,_,S,f),ref:n})))}):P.createElement("path",Ad({},te(r,!0),{className:y,d:z_(c,l,u,d,f)}))},cae=["points","className","baseLinePoints","connectNulls"];function ro(){return ro=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ro.apply(this,arguments)}function lae(t,e){if(t==null)return{};var r=uae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function q_(t){return pae(t)||hae(t)||fae(t)||dae()}function dae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fae(t,e){if(t){if(typeof t=="string")return Av(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Av(t,e)}}function hae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pae(t){if(Array.isArray(t))return Av(t)}function Av(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var H_=function(e){return e&&e.x===+e.x&&e.y===+e.y},mae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){H_(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),H_(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},sc=function(e,r){var n=mae(e);r&&(n=[n.reduce(function(a,o){return[].concat(q_(a),q_(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,c){return"".concat(o).concat(c===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},vae=function(e,r,n){var i=sc(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(sc(r.reverse(),n).slice(1))},Ik=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=lae(e,cae);if(!r||!r.length)return null;var s=me("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",l=vae(r,i,a);return P.createElement("g",{className:s},P.createElement("path",ro({},te(o,!0),{fill:l.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:l})),c?P.createElement("path",ro({},te(o,!0),{fill:"none",d:sc(r,a)})):null,c?P.createElement("path",ro({},te(o,!0),{fill:"none",d:sc(i,a)})):null)}var u=sc(r,a);return P.createElement("path",ro({},te(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:s,d:u}))};function Ev(){return Ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ev.apply(this,arguments)}var Ms=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=me("recharts-dot",a);return r===+r&&n===+n&&i===+i?x.createElement("circle",Ev({},te(e,!1),Ku(e),{className:o,cx:r,cy:n,r:i})):null};function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}var gae=["x","y","top","left","width","height","className"];function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pv.apply(this,arguments)}function K_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K_(Object(r),!0).forEach(function(n){bae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bae(t,e,r){return e=wae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wae(t){var e=xae(t,"string");return Yc(e)=="symbol"?e:e+""}function xae(t,e){if(Yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ae(t,e){if(t==null)return{};var r=Sae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Oae=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Aae=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,c=e.left,l=c===void 0?0:c,u=e.width,d=u===void 0?0:u,f=e.height,h=f===void 0?0:f,g=e.className,m=_ae(e,gae),v=yae({x:n,y:a,top:s,left:l,width:d,height:h},m);return!V(n)||!V(a)||!V(d)||!V(h)||!V(s)||!V(l)?null:P.createElement("path",Pv({},te(v,!0),{className:me("recharts-cross",g),d:Oae(n,a,d,h,s,l)}))},Eae=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function Pae(t,e){if(t==null)return{};var r=jae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Rn(){return Rn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rn.apply(this,arguments)}function V_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V_(Object(r),!0).forEach(function(n){Tae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tae(t,e,r){return e=Cae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cae(t){var e=kae(t,"string");return Xc(e)=="symbol"?e:e+""}function kae(t,e){if(Xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $ae=function(e,r,n,i){var a="";return i.forEach(function(o,s){var c=Pe(r,n,e,o);s?a+="L ".concat(c.x,",").concat(c.y):a+="M ".concat(c.x,",").concat(c.y)}),a+="Z",a},Nae=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.polarAngles,s=e.radialLines;if(!o||!o.length||!s)return null;var c=Qc({stroke:"#ccc"},te(e,!1));return P.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(l){var u=Pe(r,n,i,l),d=Pe(r,n,a,l);return P.createElement("line",Rn({},c,{key:"line-".concat(l),x1:u.x,y1:u.y,x2:d.x,y2:d.y}))}))},Rae=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.index,o=Qc(Qc({stroke:"#ccc"},te(e,!1)),{},{fill:"none"});return P.createElement("circle",Rn({},o,{className:me("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(a),cx:r,cy:n,r:i}))},Iae=function(e){var r=e.radius,n=e.index,i=Qc(Qc({stroke:"#ccc"},te(e,!1)),{},{fill:"none"});return P.createElement("path",Rn({},i,{className:me("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(n),d:$ae(r,e.cx,e.cy,e.polarAngles)}))},Mae=function(e){var r=e.polarRadius,n=e.gridType;return!r||!r.length?null:P.createElement("g",{className:"recharts-polar-grid-concentric"},r.map(function(i,a){var o=a;return n==="circle"?P.createElement(Rae,Rn({key:o},e,{radius:i,index:a})):P.createElement(Iae,Rn({key:o},e,{radius:i,index:a}))}))},Ed=function(e){var r=e.cx,n=r===void 0?0:r,i=e.cy,a=i===void 0?0:i,o=e.innerRadius,s=o===void 0?0:o,c=e.outerRadius,l=c===void 0?0:c,u=e.gridType,d=u===void 0?"polygon":u,f=e.radialLines,h=f===void 0?!0:f,g=Pae(e,Eae);return l<=0?null:P.createElement("g",{className:"recharts-polar-grid"},P.createElement(Nae,Rn({cx:n,cy:a,innerRadius:s,outerRadius:l,gridType:d,radialLines:h},g)),P.createElement(Mae,Rn({cx:n,cy:a,innerRadius:s,outerRadius:l,gridType:d,radialLines:h},g)))};Ed.displayName="PolarGrid";var Dae=uh,Lae=qC,Bae=fn;function Fae(t,e){return t&&t.length?Dae(t,Bae(e),Lae):void 0}var Uae=Fae;const Wae=ke(Uae);var zae=uh,qae=fn,Hae=HC;function Kae(t,e){return t&&t.length?zae(t,qae(e),Hae):void 0}var Vae=Kae;const Gae=ke(Vae);var Yae=["cx","cy","angle","ticks","axisLine"],Xae=["ticks","tick","angle","tickFormatter","stroke"];function Go(t){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Go(t)}function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cc.apply(this,arguments)}function G_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G_(Object(r),!0).forEach(function(n){ph(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y_(t,e){if(t==null)return{};var r=Qae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Jae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dk(n.key),n)}}function Zae(t,e,r){return e&&X_(t.prototype,e),r&&X_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function eoe(t,e,r){return e=Pd(e),toe(t,Mk()?Reflect.construct(e,r||[],Pd(t).constructor):e.apply(t,r))}function toe(t,e){if(e&&(Go(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return roe(t)}function roe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mk=function(){return!!t})()}function Pd(t){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pd(t)}function noe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jv(t,e)}function jv(t,e){return jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jv(t,e)}function ph(t,e,r){return e=Dk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dk(t){var e=ioe(t,"string");return Go(e)=="symbol"?e:e+""}function ioe(t,e){if(Go(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oa=function(t){function e(){return Jae(this,e),eoe(this,e,arguments)}return noe(e,t),Zae(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,c=a.cy;return Pe(s,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,c=Wae(s,function(u){return u.coordinate||0}),l=Gae(s,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:l.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,c=n.axisLine,l=Y_(n,Yae),u=s.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),d=Pe(i,a,u[0],o),f=Pe(i,a,u[1],o),h=Mi(Mi(Mi({},te(l,!1)),{},{fill:"none"},te(c,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return P.createElement("line",cc({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,c=i.tickFormatter,l=i.stroke,u=Y_(i,Xae),d=this.getTickTextAnchor(),f=te(u,!1),h=te(o,!1),g=a.map(function(m,v){var b=n.getTickValueCoord(m),w=Mi(Mi(Mi(Mi({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(b.x,", ").concat(b.y,")")},f),{},{stroke:"none",fill:l},h),{},{index:v},b),{},{payload:m});return P.createElement(ve,cc({className:me("recharts-polar-radius-axis-tick",wk(o)),key:"tick-".concat(m.coordinate)},xi(n.props,m,v)),e.renderTickItem(o,w,c?c(m.value,v):m.value))});return P.createElement(ve,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:P.createElement(ve,{className:me("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),yt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return P.isValidElement(n)?o=P.cloneElement(n,i):se(n)?o=n(i):o=P.createElement(xa,cc({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(x.PureComponent);ph(Oa,"displayName","PolarRadiusAxis");ph(Oa,"axisType","radiusAxis");ph(Oa,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Yo(t){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(t)}function Gi(){return Gi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gi.apply(this,arguments)}function Q_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q_(Object(r),!0).forEach(function(n){mh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bk(n.key),n)}}function ooe(t,e,r){return e&&J_(t.prototype,e),r&&J_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function soe(t,e,r){return e=jd(e),coe(t,Lk()?Reflect.construct(e,r||[],jd(t).constructor):e.apply(t,r))}function coe(t,e){if(e&&(Yo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return loe(t)}function loe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lk=function(){return!!t})()}function jd(t){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jd(t)}function uoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tv(t,e)}function Tv(t,e){return Tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Tv(t,e)}function mh(t,e,r){return e=Bk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bk(t){var e=doe(t,"string");return Yo(e)=="symbol"?e:e+""}function doe(t,e){if(Yo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var foe=Math.PI/180,Z_=1e-5,_i=function(t){function e(){return aoe(this,e),soe(this,e,arguments)}return uoe(e,t),ooe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,c=i.orientation,l=i.tickSize,u=l||8,d=Pe(a,o,s,n.coordinate),f=Pe(a,o,s+(c==="inner"?-1:1)*u,n.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*foe),o;return a>Z_?o=i==="outer"?"start":"end":a<-Z_?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,c=n.axisLineType,l=Di(Di({},te(this.props,!1)),{},{fill:"none"},te(s,!1));if(c==="circle")return P.createElement(Ms,Gi({className:"recharts-polar-angle-axis-line"},l,{cx:i,cy:a,r:o}));var u=this.props.ticks,d=u.map(function(f){return Pe(i,a,o,f.coordinate)});return P.createElement(Ik,Gi({className:"recharts-polar-angle-axis-line"},l,{points:d}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,c=i.tickFormatter,l=i.stroke,u=te(this.props,!1),d=te(o,!1),f=Di(Di({},u),{},{fill:"none"},te(s,!1)),h=a.map(function(g,m){var v=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),w=Di(Di(Di({textAnchor:b},u),{},{stroke:"none",fill:l},d),{},{index:m,payload:g,x:v.x2,y:v.y2});return P.createElement(ve,Gi({className:me("recharts-polar-angle-axis-tick",wk(o)),key:"tick-".concat(g.coordinate)},xi(n.props,g,m)),s&&P.createElement("line",Gi({className:"recharts-polar-angle-axis-tick-line"},f,v)),o&&e.renderTickItem(o,w,c?c(g.value,m):g.value))});return P.createElement(ve,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:P.createElement(ve,{className:me("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return P.isValidElement(n)?o=P.cloneElement(n,i):se(n)?o=n(i):o=P.createElement(xa,Gi({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(x.PureComponent);mh(_i,"displayName","PolarAngleAxis");mh(_i,"axisType","angleAxis");mh(_i,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var hoe=FT,poe=hoe(Object.getPrototypeOf,Object),moe=poe,voe=Dn,goe=moe,yoe=Ln,boe="[object Object]",woe=Function.prototype,xoe=Object.prototype,Fk=woe.toString,_oe=xoe.hasOwnProperty,Soe=Fk.call(Object);function Ooe(t){if(!yoe(t)||voe(t)!=boe)return!1;var e=goe(t);if(e===null)return!0;var r=_oe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Fk.call(r)==Soe}var Aoe=Ooe;const Eoe=ke(Aoe);var Poe=Dn,joe=Ln,Toe="[object Boolean]";function Coe(t){return t===!0||t===!1||joe(t)&&Poe(t)==Toe}var koe=Coe;const $oe=ke(koe);function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function Td(){return Td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Td.apply(this,arguments)}function Noe(t,e){return Doe(t)||Moe(t,e)||Ioe(t,e)||Roe()}function Roe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ioe(t,e){if(t){if(typeof t=="string")return eS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eS(t,e)}}function eS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Moe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function Doe(t){if(Array.isArray(t))return t}function tS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tS(Object(r),!0).forEach(function(n){Loe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Loe(t,e,r){return e=Boe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Boe(t){var e=Foe(t,"string");return Jc(e)=="symbol"?e:e+""}function Foe(t,e){if(Jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nS=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},Uoe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Woe=function(e){var r=rS(rS({},Uoe),e),n=x.useRef(),i=x.useState(-1),a=Noe(i,2),o=a[0],s=a[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&s(y)}catch{}},[]);var c=r.x,l=r.y,u=r.upperWidth,d=r.lowerWidth,f=r.height,h=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||l!==+l||u!==+u||d!==+d||f!==+f||u===0&&d===0||f===0)return null;var w=me("recharts-trapezoid",h);return b?P.createElement(er,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:l},to:{upperWidth:u,lowerWidth:d,height:f,x:c,y:l},duration:m,animationEasing:g,isActive:b},function(y){var O=y.upperWidth,_=y.lowerWidth,S=y.height,A=y.x,E=y.y;return P.createElement(er,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},P.createElement("path",Td({},te(r,!0),{className:w,d:nS(A,E,O,_,S),ref:n})))}):P.createElement("g",null,P.createElement("path",Td({},te(r,!0),{className:w,d:nS(c,l,u,d,f)})))},zoe=["option","shapeType","propTransformer","activeClassName","isActive"];function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function qoe(t,e){if(t==null)return{};var r=Hoe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hoe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iS(Object(r),!0).forEach(function(n){Koe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Koe(t,e,r){return e=Voe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Voe(t){var e=Goe(t,"string");return Zc(e)=="symbol"?e:e+""}function Goe(t,e){if(Zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yoe(t,e){return Cd(Cd({},e),t)}function Xoe(t,e){return t==="symbols"}function aS(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return P.createElement(ib,r);case"trapezoid":return P.createElement(Woe,r);case"sector":return P.createElement(Ok,r);case"symbols":if(Xoe(e))return P.createElement(eh,r);break;default:return null}}function Qoe(t){return x.isValidElement(t)?t.props:t}function kd(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Yoe:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,c=qoe(t,zoe),l;if(x.isValidElement(e))l=x.cloneElement(e,Cd(Cd({},c),Qoe(e)));else if(se(e))l=e(c);else if(Eoe(e)&&!$oe(e)){var u=i(e,c);l=P.createElement(aS,{shapeType:r,elementProps:u})}else{var d=c;l=P.createElement(aS,{shapeType:r,elementProps:d})}return s?P.createElement(ve,{className:o},l):l}function vh(t,e){return e!=null&&"trapezoids"in t.props}function gh(t,e){return e!=null&&"sectors"in t.props}function el(t,e){return e!=null&&"points"in t.props}function Joe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Zoe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function ese(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function tse(t,e){var r;return vh(t,e)?r=Joe:gh(t,e)?r=Zoe:el(t,e)&&(r=ese),r}function rse(t,e){var r;return vh(t,e)?r="trapezoids":gh(t,e)?r="sectors":el(t,e)&&(r="points"),r}function nse(t,e){if(vh(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(gh(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return el(t,e)?e.payload:{}}function ise(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=rse(r,e),a=nse(r,e),o=n.filter(function(c,l){var u=Nn(a,c),d=r.props[i].filter(function(g){var m=tse(r,e);return m(g,e)}),f=r.props[i].indexOf(d[d.length-1]),h=l===f;return u&&h}),s=n.indexOf(o[o.length-1]);return s}var wu;function Xo(t){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(t)}function no(){return no=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},no.apply(this,arguments)}function oS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oS(Object(r),!0).forEach(function(n){lr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ase(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wk(n.key),n)}}function ose(t,e,r){return e&&sS(t.prototype,e),r&&sS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sse(t,e,r){return e=$d(e),cse(t,Uk()?Reflect.construct(e,r||[],$d(t).constructor):e.apply(t,r))}function cse(t,e){if(e&&(Xo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lse(t)}function lse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uk=function(){return!!t})()}function $d(t){return $d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$d(t)}function use(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cv(t,e)}function Cv(t,e){return Cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Cv(t,e)}function lr(t,e,r){return e=Wk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wk(t){var e=dse(t,"string");return Xo(e)=="symbol"?e:e+""}function dse(t,e){if(Xo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fn=function(t){function e(r){var n;return ase(this,e),n=sse(this,e,[r]),lr(n,"pieRef",null),lr(n,"sectorRefs",[]),lr(n,"id",ji("recharts-pie-")),lr(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),se(i)&&i()}),lr(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),se(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return use(e,t),ose(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,c=a.dataKey,l=a.valueKey,u=te(this.props,!1),d=te(o,!1),f=te(s,!1),h=o&&o.offsetRadius||20,g=n.map(function(m,v){var b=(m.startAngle+m.endAngle)/2,w=Pe(m.cx,m.cy,m.outerRadius+h,b),y=Ue(Ue(Ue(Ue({},u),m),{},{stroke:"none"},d),{},{index:v,textAnchor:e.getTextAnchor(w.x,m.cx)},w),O=Ue(Ue(Ue(Ue({},u),m),{},{fill:"none",stroke:m.fill},f),{},{index:v,points:[Pe(m.cx,m.cy,m.outerRadius,b),w]}),_=c;return ce(c)&&ce(l)?_="value":ce(c)&&(_=l),P.createElement(ve,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},s&&e.renderLabelLineItem(s,O,"line"),e.renderLabelItem(o,y,De(m,_)))});return P.createElement(ve,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,c=a.inactiveShape;return n.map(function(l,u){if((l==null?void 0:l.startAngle)===0&&(l==null?void 0:l.endAngle)===0&&n.length!==1)return null;var d=i.isActiveIndex(u),f=c&&i.hasActiveIndex()?c:null,h=d?o:f,g=Ue(Ue({},l),{},{stroke:s?l.fill:l.stroke,tabIndex:-1});return P.createElement(ve,no({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},xi(i.props,l,u),{key:"sector-".concat(l==null?void 0:l.startAngle,"-").concat(l==null?void 0:l.endAngle,"-").concat(l.midAngle,"-").concat(u)}),P.createElement(kd,no({option:h,isActive:d,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,c=i.animationDuration,l=i.animationEasing,u=i.animationId,d=this.state,f=d.prevSectors,h=d.prevIsAnimationActive;return P.createElement(er,{begin:s,duration:c,isActive:o,easing:l,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,v=[],b=a&&a[0],w=b.startAngle;return a.forEach(function(y,O){var _=f&&f[O],S=O>0?Jt(y,"paddingAngle",0):0;if(_){var A=Me(_.endAngle-_.startAngle,y.endAngle-y.startAngle),E=Ue(Ue({},y),{},{startAngle:w+S,endAngle:w+A(m)+S});v.push(E),w=E.endAngle}else{var j=y.endAngle,T=y.startAngle,C=Me(0,j-T),k=C(m),L=Ue(Ue({},y),{},{startAngle:w+S,endAngle:w+k+S});v.push(L),w=L.endAngle}}),P.createElement(ve,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Nn(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,c=i.label,l=i.cx,u=i.cy,d=i.innerRadius,f=i.outerRadius,h=i.isAnimationActive,g=this.state.isAnimationFinished;if(a||!o||!o.length||!V(l)||!V(u)||!V(d)||!V(f))return null;var m=me("recharts-pie",s);return P.createElement(ve,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),yt.renderCallByParent(this.props,null,!1),(!h||g)&&hr.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(P.isValidElement(n))return P.cloneElement(n,i);if(se(n))return n(i);var o=me("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return P.createElement(gi,no({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(P.isValidElement(n))return P.cloneElement(n,i);var o=a;if(se(n)&&(o=n(i),P.isValidElement(o)))return o;var s=me("recharts-pie-label-text",typeof n!="boolean"&&!se(n)?n.className:"");return P.createElement(xa,no({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(x.PureComponent);wu=Fn;lr(Fn,"displayName","Pie");lr(Fn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Zt.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});lr(Fn,"parseDeltaAngle",function(t,e){var r=kt(e-t),n=Math.min(Math.abs(e-t),360);return r*n});lr(Fn,"getRealPieData",function(t){var e=t.data,r=t.children,n=te(t,!1),i=Rt(r,ks);return e&&e.length?e.map(function(a,o){return Ue(Ue(Ue({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Ue(Ue({},n),a.props)}):[]});lr(Fn,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=yk(i,a),s=n+$t(t.cx,i,i/2),c=r+$t(t.cy,a,a/2),l=$t(t.innerRadius,o,0),u=$t(t.outerRadius,o,o*.8),d=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:c,innerRadius:l,outerRadius:u,maxRadius:d}});lr(Fn,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Ue(Ue({},e.type.defaultProps),e.props):e.props,i=wu.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,s=n.endAngle,c=n.paddingAngle,l=n.dataKey,u=n.nameKey,d=n.valueKey,f=n.tooltipType,h=Math.abs(n.minAngle),g=wu.parseCoordinateOfPie(n,r),m=wu.parseDeltaAngle(o,s),v=Math.abs(m),b=l;ce(l)&&ce(d)?(Ir(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):ce(l)&&(Ir(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=d);var w=i.filter(function(E){return De(E,b,0)!==0}).length,y=(v>=360?w:w-1)*c,O=v-w*h-y,_=i.reduce(function(E,j){var T=De(j,b,0);return E+(V(T)?T:0)},0),S;if(_>0){var A;S=i.map(function(E,j){var T=De(E,b,0),C=De(E,u,j),k=(V(T)?T:0)/_,L;j?L=A.endAngle+kt(m)*c*(T!==0?1:0):L=o;var R=L+kt(m)*((T!==0?h:0)+k*O),B=(L+R)/2,$=(g.innerRadius+g.outerRadius)/2,M=[{name:C,value:T,payload:E,dataKey:b,type:f}],F=Pe(g.cx,g.cy,$,B);return A=Ue(Ue(Ue({percent:k,cornerRadius:a,name:C,tooltipPayload:M,midAngle:B,middleRadius:$,tooltipPosition:F},E),g),{},{value:De(E,b),startAngle:L,endAngle:R,payload:E,paddingAngle:kt(m)*c}),A})}return Ue(Ue({},g),{},{sectors:S,data:i})});function fse(t){return t&&t.length?t[0]:void 0}var hse=fse,pse=hse;const mse=ke(pse);var vse=["key"];function Qo(t){"@babel/helpers - typeof";return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qo(t)}function gse(t,e){if(t==null)return{};var r=yse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nd.apply(this,arguments)}function cS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cS(Object(r),!0).forEach(function(n){yn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qk(n.key),n)}}function wse(t,e,r){return e&&lS(t.prototype,e),r&&lS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xse(t,e,r){return e=Rd(e),_se(t,zk()?Reflect.construct(e,r||[],Rd(t).constructor):e.apply(t,r))}function _se(t,e){if(e&&(Qo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sse(t)}function Sse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zk=function(){return!!t})()}function Rd(t){return Rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rd(t)}function Ose(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kv(t,e)}function kv(t,e){return kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kv(t,e)}function yn(t,e,r){return e=qk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qk(t){var e=Ase(t,"string");return Qo(e)=="symbol"?e:e+""}function Ase(t,e){if(Qo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Aa=function(t){function e(){var r;bse(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=xse(this,e,[].concat(i)),yn(r,"state",{isAnimationFinished:!1}),yn(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),se(o)&&o()}),yn(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),se(o)&&o()}),yn(r,"handleMouseEnter",function(o){var s=r.props.onMouseEnter;s&&s(r.props,o)}),yn(r,"handleMouseLeave",function(o){var s=r.props.onMouseLeave;s&&s(r.props,o)}),r}return Ose(e,t),wse(e,[{key:"renderDots",value:function(n){var i=this.props,a=i.dot,o=i.dataKey,s=te(this.props,!1),c=te(a,!0),l=n.map(function(u,d){var f=Tt(Tt(Tt({key:"dot-".concat(d),r:3},s),c),{},{dataKey:o,cx:u.x,cy:u.y,index:d,payload:u});return e.renderDotItem(a,f)});return P.createElement(ve,{className:"recharts-radar-dots"},l)}},{key:"renderPolygonStatically",value:function(n){var i=this.props,a=i.shape,o=i.dot,s=i.isRange,c=i.baseLinePoints,l=i.connectNulls,u;return P.isValidElement(a)?u=P.cloneElement(a,Tt(Tt({},this.props),{},{points:n})):se(a)?u=a(Tt(Tt({},this.props),{},{points:n})):u=P.createElement(Ik,Nd({},te(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:n,baseLinePoints:s?c:null,connectNulls:l})),P.createElement(ve,{className:"recharts-radar-polygon"},u,o?this.renderDots(n):null)}},{key:"renderPolygonWithAnimation",value:function(){var n=this,i=this.props,a=i.points,o=i.isAnimationActive,s=i.animationBegin,c=i.animationDuration,l=i.animationEasing,u=i.animationId,d=this.state.prevPoints;return P.createElement(er,{begin:s,duration:c,isActive:o,easing:l,from:{t:0},to:{t:1},key:"radar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var h=f.t,g=d&&d.length/a.length,m=a.map(function(v,b){var w=d&&d[Math.floor(b*g)];if(w){var y=Me(w.x,v.x),O=Me(w.y,v.y);return Tt(Tt({},v),{},{x:y(h),y:O(h)})}var _=Me(v.cx,v.x),S=Me(v.cy,v.y);return Tt(Tt({},v),{},{x:_(h),y:S(h)})});return n.renderPolygonStatically(m)})}},{key:"renderPolygon",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,o=n.isRange,s=this.state.prevPoints;return a&&i&&i.length&&!o&&(!s||!Nn(s,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.className,o=n.points,s=n.isAnimationActive;if(i||!o||!o.length)return null;var c=this.state.isAnimationFinished,l=me("recharts-radar",a);return P.createElement(ve,{className:l},this.renderPolygon(),(!s||c)&&hr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"renderDotItem",value:function(n,i){var a;if(P.isValidElement(n))a=P.cloneElement(n,i);else if(se(n))a=n(i);else{var o=i.key,s=gse(i,vse);a=P.createElement(Ms,Nd({},s,{key:o,className:me("recharts-radar-dot",typeof n!="boolean"?n.className:"")}))}return a}}])}(x.PureComponent);yn(Aa,"displayName","Radar");yn(Aa,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Zt.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});yn(Aa,"getComposedData",function(t){var e=t.radiusAxis,r=t.angleAxis,n=t.displayedData,i=t.dataKey,a=t.bandSize,o=r.cx,s=r.cy,c=!1,l=[],u=r.type!=="number"?a??0:0;n.forEach(function(f,h){var g=De(f,r.dataKey,h),m=De(f,i),v=r.scale(g)+u,b=Array.isArray(m)?_k(m):m,w=ce(b)?void 0:e.scale(b);Array.isArray(m)&&m.length>=2&&(c=!0),l.push(Tt(Tt({},Pe(o,s,w,v)),{},{name:g,value:m,cx:o,cy:s,radius:w,angle:v,payload:f}))});var d=[];return c&&l.forEach(function(f){if(Array.isArray(f.value)){var h=mse(f.value),g=ce(h)?void 0:e.scale(h);d.push(Tt(Tt({},f),{},{radius:g},Pe(o,s,g,f.angle)))}else d.push(f)}),{points:l,isRange:c,baseLinePoints:d}});var Ese=Math.ceil,Pse=Math.max;function jse(t,e,r,n){for(var i=-1,a=Pse(Ese((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var Tse=jse,Cse=aC,uS=1/0,kse=17976931348623157e292;function $se(t){if(!t)return t===0?t:0;if(t=Cse(t),t===uS||t===-uS){var e=t<0?-1:1;return e*kse}return t===t?t:0}var Hk=$se,Nse=Tse,Rse=nh,_p=Hk;function Ise(t){return function(e,r,n){return n&&typeof n!="number"&&Rse(e,r,n)&&(r=n=void 0),e=_p(e),r===void 0?(r=e,e=0):r=_p(r),n=n===void 0?e<r?1:-1:_p(n),Nse(e,r,n,t)}}var Mse=Ise,Dse=Mse,Lse=Dse(),Bse=Lse;const Id=ke(Bse);function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function dS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dS(Object(r),!0).forEach(function(n){Kk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kk(t,e,r){return e=Fse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fse(t){var e=Use(t,"string");return tl(e)=="symbol"?e:e+""}function Use(t,e){if(tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wse=["Webkit","Moz","O","ms"],zse=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Wse.reduce(function(a,o){return fS(fS({},a),{},Kk({},o+n,r))},{});return i[e]=r,i};function Jo(t){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jo(t)}function Md(){return Md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Md.apply(this,arguments)}function hS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hS(Object(r),!0).forEach(function(n){Kt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gk(n.key),n)}}function Hse(t,e,r){return e&&pS(t.prototype,e),r&&pS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kse(t,e,r){return e=Dd(e),Vse(t,Vk()?Reflect.construct(e,r||[],Dd(t).constructor):e.apply(t,r))}function Vse(t,e){if(e&&(Jo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gse(t)}function Gse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vk=function(){return!!t})()}function Dd(t){return Dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dd(t)}function Yse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$v(t,e)}function $v(t,e){return $v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$v(t,e)}function Kt(t,e,r){return e=Gk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gk(t){var e=Xse(t,"string");return Jo(e)=="symbol"?e:e+""}function Xse(t,e){if(Jo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qse=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,l=ic().domain(Id(0,c)).range([a,a+o-s]),u=l.domain().map(function(d){return l(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(i),scale:l,scaleValues:u}},mS=function(e){return e.changedTouches&&!!e.changedTouches.length},Zo=function(t){function e(r){var n;return qse(this,e),n=Kse(this,e,[r]),Kt(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Kt(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Kt(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),Kt(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Kt(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Kt(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Kt(n,"handleSlideDragStart",function(i){var a=mS(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Yse(e,t),Hse(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,c=s.gap,l=s.data,u=l.length-1,d=Math.min(i,a),f=Math.max(i,a),h=e.getIndexInRange(o,d),g=e.getIndexInRange(o,f);return{startIndex:h-h%c,endIndex:g===u?u:g-g%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,c=De(a[n],s,n);return se(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,c=this.props,l=c.x,u=c.width,d=c.travellerWidth,f=c.startIndex,h=c.endIndex,g=c.onChange,m=n.pageX-a;m>0?m=Math.min(m,l+u-d-s,l+u-d-o):m<0&&(m=Math.max(m,l-o,l-s));var v=this.getIndex({startX:o+m,endX:s+m});(v.startIndex!==f||v.endIndex!==h)&&g&&g(v),this.setState({startX:o+m,endX:s+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=mS(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,c=i.startX,l=this.state[o],u=this.props,d=u.x,f=u.width,h=u.travellerWidth,g=u.onChange,m=u.gap,v=u.data,b={startX:this.state.startX,endX:this.state.endX},w=n.pageX-a;w>0?w=Math.min(w,d+f-h-l):w<0&&(w=Math.max(w,d-l)),b[o]=l+w;var y=this.getIndex(b),O=y.startIndex,_=y.endIndex,S=function(){var E=v.length-1;return o==="startX"&&(s>c?O%m===0:_%m===0)||s<c&&_===E||o==="endX"&&(s>c?_%m===0:O%m===0)||s>c&&_===E};this.setState(Kt(Kt({},o,l+w),"brushMoveStartX",n.pageX),function(){g&&S()&&g(y)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,c=o.startX,l=o.endX,u=this.state[i],d=s.indexOf(u);if(d!==-1){var f=d+n;if(!(f===-1||f>=s.length)){var h=s[f];i==="startX"&&h>=l||i==="endX"&&h<=c||this.setState(Kt({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,c=n.fill,l=n.stroke;return P.createElement("rect",{stroke:l,fill:c,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,c=n.data,l=n.children,u=n.padding,d=x.Children.only(l);return d?P.cloneElement(d,{x:i,y:a,width:o,height:s,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,c=this.props,l=c.y,u=c.travellerWidth,d=c.height,f=c.traveller,h=c.ariaLabel,g=c.data,m=c.startIndex,v=c.endIndex,b=Math.max(n,this.props.x),w=Sp(Sp({},te(this.props,!1)),{},{x:b,y:l,width:u,height:d}),y=h||"Min value: ".concat((a=g[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return P.createElement(ve,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),s.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,w))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,c=a.stroke,l=a.travellerWidth,u=Math.min(n,i)+l,d=Math.max(Math.abs(i-n)-l,0);return P.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,c=n.travellerWidth,l=n.stroke,u=this.state,d=u.startX,f=u.endX,h=5,g={pointerEvents:"none",fill:l};return P.createElement(ve,{className:"recharts-brush-texts"},P.createElement(xa,Md({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-h,y:o+s/2},g),this.getTextOfTick(i)),P.createElement(xa,Md({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+c+h,y:o+s/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,c=n.y,l=n.width,u=n.height,d=n.alwaysShowText,f=this.state,h=f.startX,g=f.endX,m=f.isTextActive,v=f.isSlideMoving,b=f.isTravellerMoving,w=f.isTravellerFocused;if(!i||!i.length||!V(s)||!V(c)||!V(l)||!V(u)||l<=0||u<=0)return null;var y=me("recharts-brush",a),O=P.Children.count(o)===1,_=zse("userSelect","none");return P.createElement(ve,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(h,g),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||b||w||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,c=n.stroke,l=Math.floor(a+s/2)-1;return P.createElement(P.Fragment,null,P.createElement("rect",{x:i,y:a,width:o,height:s,fill:c,stroke:"none"}),P.createElement("line",{x1:i+1,y1:l,x2:i+o-1,y2:l,fill:"none",stroke:"#fff"}),P.createElement("line",{x1:i+1,y1:l+2,x2:i+o-1,y2:l+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return P.isValidElement(n)?a=P.cloneElement(n,i):se(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,c=n.travellerWidth,l=n.updateId,u=n.startIndex,d=n.endIndex;if(a!==i.prevData||l!==i.prevUpdateId)return Sp({prevData:a,prevTravellerWidth:c,prevUpdateId:l,prevX:s,prevWidth:o},a&&a.length?Qse({data:a,width:o,x:s,travellerWidth:c,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([s,s+o-c]);var f=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:l,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var c=Math.floor((o+s)/2);n[c]>i?s=c:o=c}return i>=n[s]?s:o}}])}(x.PureComponent);Kt(Zo,"displayName","Brush");Kt(Zo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Jse=Cy;function Zse(t,e){var r;return Jse(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var ece=Zse,tce=$T,rce=fn,nce=ece,ice=Wt,ace=nh;function oce(t,e,r){var n=ice(t)?tce:nce;return r&&ace(t,e,r)&&(e=void 0),n(t,rce(e))}var sce=oce;const cce=ke(sce);var nn=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},vS=eC;function lce(t,e,r){e=="__proto__"&&vS?vS(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var uce=lce,dce=uce,fce=JT,hce=fn;function pce(t,e){var r={};return e=hce(e),fce(t,function(n,i,a){dce(r,i,e(n,i,a))}),r}var mce=pce;const vce=ke(mce);function gce(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var yce=gce,bce=Cy;function wce(t,e){var r=!0;return bce(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var xce=wce,_ce=yce,Sce=xce,Oce=fn,Ace=Wt,Ece=nh;function Pce(t,e,r){var n=Ace(t)?_ce:Sce;return r&&Ece(t,e,r)&&(e=void 0),n(t,Oce(e))}var jce=Pce;const Yk=ke(jce);var Tce=["x","y"];function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nv.apply(this,arguments)}function gS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gS(Object(r),!0).forEach(function(n){Cce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cce(t,e,r){return e=kce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kce(t){var e=$ce(t,"string");return rl(e)=="symbol"?e:e+""}function $ce(t,e){if(rl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nce(t,e){if(t==null)return{};var r=Rce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ice(t,e){var r=t.x,n=t.y,i=Nce(t,Tce),a="".concat(r),o=parseInt(a,10),s="".concat(n),c=parseInt(s,10),l="".concat(e.height||i.height),u=parseInt(l,10),d="".concat(e.width||i.width),f=parseInt(d,10);return Vs(Vs(Vs(Vs(Vs({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:f,name:e.name,radius:e.radius})}function yS(t){return P.createElement(kd,Nv({shapeType:"rectangle",propTransformer:Ice,activeClassName:"recharts-active-bar"},t))}var Mce=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=V(n)||B8(n);return a?e(n,i):(a||Sa(),r)}},Dce=["value","background"],Xk;function es(t){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},es(t)}function Lce(t,e){if(t==null)return{};var r=Bce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ld(){return Ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ld.apply(this,arguments)}function bS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bS(Object(r),!0).forEach(function(n){ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jk(n.key),n)}}function Uce(t,e,r){return e&&wS(t.prototype,e),r&&wS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wce(t,e,r){return e=Bd(e),zce(t,Qk()?Reflect.construct(e,r||[],Bd(t).constructor):e.apply(t,r))}function zce(t,e){if(e&&(es(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qce(t)}function qce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qk=function(){return!!t})()}function Bd(t){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bd(t)}function Hce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rv(t,e)}function Rv(t,e){return Rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Rv(t,e)}function ui(t,e,r){return e=Jk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jk(t){var e=Kce(t,"string");return es(e)=="symbol"?e:e+""}function Kce(t,e){if(es(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fr=function(t){function e(){var r;Fce(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Wce(this,e,[].concat(i)),ui(r,"state",{isAnimationFinished:!1}),ui(r,"id",ji("recharts-bar-")),ui(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ui(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Hce(e,t),Uce(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,c=a.activeIndex,l=a.activeBar,u=te(this.props,!1);return n&&n.map(function(d,f){var h=f===c,g=h?l:o,m=rt(rt(rt({},u),d),{},{isActive:h,option:g,index:f,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return P.createElement(ve,Ld({className:"recharts-bar-rectangle"},xi(i.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(f)}),P.createElement(yS,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,c=i.animationBegin,l=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state.prevData;return P.createElement(er,{begin:c,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var g=h.t,m=a.map(function(v,b){var w=f&&f[b];if(w){var y=Me(w.x,v.x),O=Me(w.y,v.y),_=Me(w.width,v.width),S=Me(w.height,v.height);return rt(rt({},v),{},{x:y(g),y:O(g),width:_(g),height:S(g)})}if(o==="horizontal"){var A=Me(0,v.height),E=A(g);return rt(rt({},v),{},{y:v.y+v.height-E,height:E})}var j=Me(0,v.width),T=j(g);return rt(rt({},v),{},{width:T})});return P.createElement(ve,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Nn(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,c=te(this.props.background,!1);return a.map(function(l,u){l.value;var d=l.background,f=Lce(l,Dce);if(!d)return null;var h=rt(rt(rt(rt(rt({},f),{},{fill:"#eee"},d),c),xi(n.props,l,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return P.createElement(yS,Ld({key:"background-bar-".concat(u),option:n.props.background,isActive:u===s},h))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,c=a.yAxis,l=a.layout,u=a.children,d=Rt(u,Is);if(!d)return null;var f=l==="vertical"?o[0].height/2:o[0].width/2,h=function(v,b){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:De(v,b)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return P.createElement(ve,g,d.map(function(m){return P.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:o,xAxis:s,yAxis:c,layout:l,offset:f,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,c=n.yAxis,l=n.left,u=n.top,d=n.width,f=n.height,h=n.isAnimationActive,g=n.background,m=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,b=me("recharts-bar",o),w=s&&s.allowDataOverflow,y=c&&c.allowDataOverflow,O=w||y,_=ce(m)?this.id:m;return P.createElement(ve,{className:b},w||y?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(_)},P.createElement("rect",{x:w?l:l-d/2,y:y?u:u-f/2,width:w?d:d*2,height:y?f:f*2}))):null,P.createElement(ve,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(_,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,_),(!h||v)&&hr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(x.PureComponent);Xk=fr;ui(fr,"displayName","Bar");ui(fr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Zt.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ui(fr,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,c=t.yAxisTicks,l=t.stackedData,u=t.dataStartIndex,d=t.displayedData,f=t.offset,h=ire(n,r);if(!h)return null;var g=e.layout,m=r.type.defaultProps,v=m!==void 0?rt(rt({},m),r.props):r.props,b=v.dataKey,w=v.children,y=v.minPointSize,O=g==="horizontal"?o:a,_=l?O.scale.domain():null,S=dre({numericAxis:O}),A=Rt(w,ks),E=d.map(function(j,T){var C,k,L,R,B,$;l?C=are(l[u+T],_):(C=De(j,b),Array.isArray(C)||(C=[S,C]));var M=Mce(y,Xk.defaultProps.minPointSize)(C[1],T);if(g==="horizontal"){var F,D=[o.scale(C[0]),o.scale(C[1])],z=D[0],Y=D[1];k=o_({axis:a,ticks:s,bandSize:i,offset:h.offset,entry:j,index:T}),L=(F=Y??z)!==null&&F!==void 0?F:void 0,R=h.size;var q=z-Y;if(B=Number.isNaN(q)?0:q,$={x:k,y:o.y,width:R,height:o.height},Math.abs(M)>0&&Math.abs(B)<Math.abs(M)){var I=kt(B||M)*(Math.abs(M)-Math.abs(B));L-=I,B+=I}}else{var H=[a.scale(C[0]),a.scale(C[1])],G=H[0],fe=H[1];if(k=G,L=o_({axis:o,ticks:c,bandSize:i,offset:h.offset,entry:j,index:T}),R=fe-G,B=h.size,$={x:a.x,y:L,width:a.width,height:B},Math.abs(M)>0&&Math.abs(R)<Math.abs(M)){var X=kt(R||M)*(Math.abs(M)-Math.abs(R));R+=X}}return rt(rt(rt({},j),{},{x:k,y:L,width:R,height:B,value:l?C:C[1],payload:j,background:$},A&&A[T]&&A[T].props),{},{tooltipPayload:[vk(r,j)],tooltipPosition:{x:k+R/2,y:L+B/2}})});return rt({data:E,layout:g},f)});function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function Vce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zk(n.key),n)}}function Gce(t,e,r){return e&&xS(t.prototype,e),r&&xS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_S(Object(r),!0).forEach(function(n){yh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yh(t,e,r){return e=Zk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zk(t){var e=Yce(t,"string");return nl(e)=="symbol"?e:e+""}function Yce(t,e){if(nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ab=function(e,r,n,i,a){var o=e.width,s=e.height,c=e.layout,l=e.children,u=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},f=!!Vt(l,fr);return u.reduce(function(h,g){var m=r[g],v=m.orientation,b=m.domain,w=m.padding,y=w===void 0?{}:w,O=m.mirror,_=m.reversed,S="".concat(v).concat(O?"Mirror":""),A,E,j,T,C;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var k=b[1]-b[0],L=1/0,R=m.categoricalDomain.sort(z8);if(R.forEach(function(H,G){G>0&&(L=Math.min((H||0)-(R[G-1]||0),L))}),Number.isFinite(L)){var B=L/k,$=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(A=B*$/2),m.padding==="no-gap"){var M=$t(e.barCategoryGap,B*$),F=B*$/2;A=F-M-(F-M)/$*M}}}i==="xAxis"?E=[n.left+(y.left||0)+(A||0),n.left+n.width-(y.right||0)-(A||0)]:i==="yAxis"?E=c==="horizontal"?[n.top+n.height-(y.bottom||0),n.top+(y.top||0)]:[n.top+(y.top||0)+(A||0),n.top+n.height-(y.bottom||0)-(A||0)]:E=m.range,_&&(E=[E[1],E[0]]);var D=fk(m,a,f),z=D.scale,Y=D.realScaleType;z.domain(b).range(E),hk(z);var q=pk(z,kr(kr({},m),{},{realScaleType:Y}));i==="xAxis"?(C=v==="top"&&!O||v==="bottom"&&O,j=n.left,T=d[S]-C*m.height):i==="yAxis"&&(C=v==="left"&&!O||v==="right"&&O,j=d[S]-C*m.width,T=n.top);var I=kr(kr(kr({},m),q),{},{realScaleType:Y,x:j,y:T,scale:z,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return I.bandSize=bd(I,q),!m.hide&&i==="xAxis"?d[S]+=(C?-1:1)*I.height:m.hide||(d[S]+=(C?-1:1)*I.width),kr(kr({},h),{},yh({},g,I))},{})},e$=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Xce=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return e$({x:r,y:n},{x:i,y:a})},t$=function(){function t(e){Vce(this,t),this.scale=e}return Gce(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();yh(t$,"EPS",1e-4);var ob=function(e){var r=Object.keys(e).reduce(function(n,i){return kr(kr({},n),{},yh({},i,t$.create(e[i])))},{});return kr(kr({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return vce(i,function(c,l){return r[l].apply(c,{bandAware:o,position:s})})},isInRange:function(i){return Yk(i,function(a,o){return r[o].isInRange(a)})}})};function Qce(t){return(t%180+180)%180}var Jce=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Qce(i),o=a*Math.PI/180,s=Math.atan(n/r),c=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Zce=fn,ele=bl,tle=th;function rle(t){return function(e,r,n){var i=Object(e);if(!ele(e)){var a=Zce(r);e=tle(e),r=function(s){return a(i[s],s,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var nle=rle,ile=Hk;function ale(t){var e=ile(t),r=e%1;return e===e?r?e-r:e:0}var ole=ale,sle=KT,cle=fn,lle=ole,ule=Math.max;function dle(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:lle(r);return i<0&&(i=ule(n+i,0)),sle(t,cle(e),i)}var fle=dle,hle=nle,ple=fle,mle=hle(ple),vle=mle;const gle=ke(vle);var yle=zz(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),sb=x.createContext(void 0),cb=x.createContext(void 0),r$=x.createContext(void 0),n$=x.createContext({}),i$=x.createContext(void 0),a$=x.createContext(0),o$=x.createContext(0),SS=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,c=e.width,l=e.height,u=yle(a);return P.createElement(sb.Provider,{value:n},P.createElement(cb.Provider,{value:i},P.createElement(n$.Provider,{value:a},P.createElement(r$.Provider,{value:u},P.createElement(i$.Provider,{value:o},P.createElement(a$.Provider,{value:l},P.createElement(o$.Provider,{value:c},s)))))))},ble=function(){return x.useContext(i$)},s$=function(e){var r=x.useContext(sb);r==null&&Sa();var n=r[e];return n==null&&Sa(),n},wle=function(){var e=x.useContext(sb);return Jn(e)},xle=function(){var e=x.useContext(cb),r=gle(e,function(n){return Yk(n.domain,Number.isFinite)});return r||Jn(e)},c$=function(e){var r=x.useContext(cb);r==null&&Sa();var n=r[e];return n==null&&Sa(),n},_le=function(){var e=x.useContext(r$);return e},Sle=function(){return x.useContext(n$)},lb=function(){return x.useContext(o$)},ub=function(){return x.useContext(a$)};function ts(t){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ts(t)}function Ole(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ale(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u$(n.key),n)}}function Ele(t,e,r){return e&&Ale(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ple(t,e,r){return e=Fd(e),jle(t,l$()?Reflect.construct(e,r||[],Fd(t).constructor):e.apply(t,r))}function jle(t,e){if(e&&(ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tle(t)}function Tle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l$=function(){return!!t})()}function Fd(t){return Fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fd(t)}function Cle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iv(t,e)}function Iv(t,e){return Iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Iv(t,e)}function OS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OS(Object(r),!0).forEach(function(n){db(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function db(t,e,r){return e=u$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u$(t){var e=kle(t,"string");return ts(e)=="symbol"?e:e+""}function kle(t,e){if(ts(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $le(t,e){return Mle(t)||Ile(t,e)||Rle(t,e)||Nle()}function Nle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rle(t,e){if(t){if(typeof t=="string")return ES(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ES(t,e)}}function ES(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ile(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function Mle(t){if(Array.isArray(t))return t}function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mv.apply(this,arguments)}var Dle=function(e,r){var n;return P.isValidElement(e)?n=P.cloneElement(e,r):se(e)?n=e(r):n=P.createElement("line",Mv({},r,{className:"recharts-reference-line-line"})),n},Lle=function(e,r,n,i,a,o,s,c,l){var u=a.x,d=a.y,f=a.width,h=a.height;if(n){var g=l.y,m=e.y.apply(g,{position:o});if(nn(l,"discard")&&!e.y.isInRange(m))return null;var v=[{x:u+f,y:m},{x:u,y:m}];return c==="left"?v.reverse():v}if(r){var b=l.x,w=e.x.apply(b,{position:o});if(nn(l,"discard")&&!e.x.isInRange(w))return null;var y=[{x:w,y:d+h},{x:w,y:d}];return s==="top"?y.reverse():y}if(i){var O=l.segment,_=O.map(function(S){return e.apply(S,{position:o})});return nn(l,"discard")&&cce(_,function(S){return!e.isInRange(S)})?null:_}return null};function Ble(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,c=t.alwaysShow,l=ble(),u=s$(i),d=c$(a),f=_le();if(!l||!f)return null;Ir(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=ob({x:u.scale,y:d.scale}),g=pt(e),m=pt(r),v=n&&n.length===2,b=Lle(h,g,m,v,f,t.position,u.orientation,d.orientation,t);if(!b)return null;var w=$le(b,2),y=w[0],O=y.x,_=y.y,S=w[1],A=S.x,E=S.y,j=nn(t,"hidden")?"url(#".concat(l,")"):void 0,T=AS(AS({clipPath:j},te(t,!0)),{},{x1:O,y1:_,x2:A,y2:E});return P.createElement(ve,{className:me("recharts-reference-line",s)},Dle(o,T),yt.renderCallByParent(t,Xce({x1:O,y1:_,x2:A,y2:E})))}var fb=function(t){function e(){return Ole(this,e),Ple(this,e,arguments)}return Cle(e,t),Ele(e,[{key:"render",value:function(){return P.createElement(Ble,this.props)}}])}(P.Component);db(fb,"displayName","ReferenceLine");db(fb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Dv(){return Dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dv.apply(this,arguments)}function rs(t){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rs(t)}function PS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PS(Object(r),!0).forEach(function(n){bh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ule(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f$(n.key),n)}}function Wle(t,e,r){return e&&Ule(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zle(t,e,r){return e=Ud(e),qle(t,d$()?Reflect.construct(e,r||[],Ud(t).constructor):e.apply(t,r))}function qle(t,e){if(e&&(rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hle(t)}function Hle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d$=function(){return!!t})()}function Ud(t){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ud(t)}function Kle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lv(t,e)}function Lv(t,e){return Lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lv(t,e)}function bh(t,e,r){return e=f$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f$(t){var e=Vle(t,"string");return rs(e)=="symbol"?e:e+""}function Vle(t,e){if(rs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gle=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=ob({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return nn(e,"discard")&&!o.isInRange(s)?null:s},wh=function(t){function e(){return Fle(this,e),zle(this,e,arguments)}return Kle(e,t),Wle(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,c=n.clipPathId,l=pt(i),u=pt(a);if(Ir(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!u)return null;var d=Gle(this.props);if(!d)return null;var f=d.x,h=d.y,g=this.props,m=g.shape,v=g.className,b=nn(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=jS(jS({clipPath:b},te(this.props,!0)),{},{cx:f,cy:h});return P.createElement(ve,{className:me("recharts-reference-dot",v)},e.renderDot(m,w),yt.renderCallByParent(this.props,{x:f-o,y:h-o,width:2*o,height:2*o}))}}])}(P.Component);bh(wh,"displayName","ReferenceDot");bh(wh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});bh(wh,"renderDot",function(t,e){var r;return P.isValidElement(t)?r=P.cloneElement(t,e):se(t)?r=t(e):r=P.createElement(Ms,Dv({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function Bv(){return Bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bv.apply(this,arguments)}function ns(t){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(t)}function TS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TS(Object(r),!0).forEach(function(n){xh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p$(n.key),n)}}function Qle(t,e,r){return e&&Xle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jle(t,e,r){return e=Wd(e),Zle(t,h$()?Reflect.construct(e,r||[],Wd(t).constructor):e.apply(t,r))}function Zle(t,e){if(e&&(ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eue(t)}function eue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h$=function(){return!!t})()}function Wd(t){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wd(t)}function tue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fv(t,e)}function Fv(t,e){return Fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fv(t,e)}function xh(t,e,r){return e=p$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p$(t){var e=rue(t,"string");return ns(e)=="symbol"?e:e+""}function rue(t,e){if(ns(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nue=function(e,r,n,i,a){var o=a.x1,s=a.x2,c=a.y1,l=a.y2,u=a.xAxis,d=a.yAxis;if(!u||!d)return null;var f=ob({x:u.scale,y:d.scale}),h={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(c,{position:"start"}):f.y.rangeMin},g={x:r?f.x.apply(s,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(l,{position:"end"}):f.y.rangeMax};return nn(a,"discard")&&(!f.isInRange(h)||!f.isInRange(g))?null:e$(h,g)},_h=function(t){function e(){return Yle(this,e),Jle(this,e,arguments)}return tue(e,t),Qle(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,c=n.className,l=n.alwaysShow,u=n.clipPathId;Ir(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=pt(i),f=pt(a),h=pt(o),g=pt(s),m=this.props.shape;if(!d&&!f&&!h&&!g&&!m)return null;var v=nue(d,f,h,g,this.props);if(!v&&!m)return null;var b=nn(this.props,"hidden")?"url(#".concat(u,")"):void 0;return P.createElement(ve,{className:me("recharts-reference-area",c)},e.renderRect(m,CS(CS({clipPath:b},te(this.props,!0)),v)),yt.renderCallByParent(this.props,v))}}])}(P.Component);xh(_h,"displayName","ReferenceArea");xh(_h,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});xh(_h,"renderRect",function(t,e){var r;return P.isValidElement(t)?r=P.cloneElement(t,e):se(t)?r=t(e):r=P.createElement(ib,Bv({},e,{className:"recharts-reference-area-rect"})),r});function m$(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function iue(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Jce(n,r)}function aue(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function zd(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function oue(t,e){return m$(t,e+1)}function sue(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,c=0,l=1,u=o,d=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:m$(n,l)};var m=c,v,b=function(){return v===void 0&&(v=r(g,m)),v},w=g.coordinate,y=c===0||zd(t,w,b,u,s);y||(c=0,u=o,l+=1),y&&(u=w+t*(b()/2+i),c+=l)},f;l<=a.length;)if(f=d(),f)return f.v;return[]}function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function kS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kS(Object(r),!0).forEach(function(n){cue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cue(t,e,r){return e=lue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lue(t){var e=uue(t,"string");return il(e)=="symbol"?e:e+""}function uue(t,e){if(il(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function due(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,c=e.end,l=function(f){var h=a[f],g,m=function(){return g===void 0&&(g=r(h,f)),g};if(f===o-1){var v=t*(h.coordinate+t*m()/2-c);a[f]=h=Ot(Ot({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate})}else a[f]=h=Ot(Ot({},h),{},{tickCoord:h.coordinate});var b=zd(t,h.tickCoord,m,s,c);b&&(c=h.tickCoord-t*(m()/2+i),a[f]=Ot(Ot({},h),{},{isShow:!0}))},u=o-1;u>=0;u--)l(u);return a}function fue(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,c=e.start,l=e.end;if(a){var u=n[s-1],d=r(u,s-1),f=t*(u.coordinate+t*d/2-l);o[s-1]=u=Ot(Ot({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate});var h=zd(t,u.tickCoord,function(){return d},c,l);h&&(l=u.tickCoord-t*(d/2+i),o[s-1]=Ot(Ot({},u),{},{isShow:!0}))}for(var g=a?s-1:s,m=function(w){var y=o[w],O,_=function(){return O===void 0&&(O=r(y,w)),O};if(w===0){var S=t*(y.coordinate-t*_()/2-c);o[w]=y=Ot(Ot({},y),{},{tickCoord:S<0?y.coordinate-S*t:y.coordinate})}else o[w]=y=Ot(Ot({},y),{},{tickCoord:y.coordinate});var A=zd(t,y.tickCoord,_,c,l);A&&(c=y.tickCoord+t*(_()/2+i),o[w]=Ot(Ot({},y),{},{isShow:!0}))},v=0;v<g;v++)m(v);return o}function hb(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,c=t.interval,l=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!n)return[];if(V(c)||Zt.isSsr)return oue(i,typeof c=="number"&&V(c)?c:0);var f=[],h=s==="top"||s==="bottom"?"width":"height",g=u&&h==="width"?nc(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},m=function(y,O){var _=se(l)?l(y.value,O):y.value;return h==="width"?iue(nc(_,{fontSize:e,letterSpacing:r}),g,d):nc(_,{fontSize:e,letterSpacing:r})[h]},v=i.length>=2?kt(i[1].coordinate-i[0].coordinate):1,b=aue(a,v,h);return c==="equidistantPreserveStart"?sue(v,b,m,i,o):(c==="preserveStart"||c==="preserveStartEnd"?f=fue(v,b,m,i,o,c==="preserveStartEnd"):f=due(v,b,m,i,o),f.filter(function(w){return w.isShow}))}var hue=["viewBox"],pue=["viewBox"],mue=["ticks"];function is(t){"@babel/helpers - typeof";return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},is(t)}function io(){return io=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},io.apply(this,arguments)}function $S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function st(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$S(Object(r),!0).forEach(function(n){pb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Op(t,e){if(t==null)return{};var r=vue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g$(n.key),n)}}function yue(t,e,r){return e&&NS(t.prototype,e),r&&NS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bue(t,e,r){return e=qd(e),wue(t,v$()?Reflect.construct(e,r||[],qd(t).constructor):e.apply(t,r))}function wue(t,e){if(e&&(is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xue(t)}function xue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v$=function(){return!!t})()}function qd(t){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qd(t)}function _ue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uv(t,e)}function Uv(t,e){return Uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Uv(t,e)}function pb(t,e,r){return e=g$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g$(t){var e=Sue(t,"string");return is(e)=="symbol"?e:e+""}function Sue(t,e){if(is(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ds=function(t){function e(r){var n;return gue(this,e),n=bue(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return _ue(e,t),yue(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=Op(n,hue),s=this.props,c=s.viewBox,l=Op(s,pue);return!po(a,c)||!po(o,l)||!po(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,c=i.height,l=i.orientation,u=i.tickSize,d=i.mirror,f=i.tickMargin,h,g,m,v,b,w,y=d?-1:1,O=n.tickSize||u,_=V(n.tickCoord)?n.tickCoord:n.coordinate;switch(l){case"top":h=g=n.coordinate,v=o+ +!d*c,m=v-y*O,w=m-y*f,b=_;break;case"left":m=v=n.coordinate,g=a+ +!d*s,h=g-y*O,b=h-y*f,w=_;break;case"right":m=v=n.coordinate,g=a+ +d*s,h=g+y*O,b=h+y*f,w=_;break;default:h=g=n.coordinate,v=o+ +d*c,m=v+y*O,w=m+y*f,b=_;break}return{line:{x1:h,y1:m,x2:g,y2:v},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,c=n.orientation,l=n.mirror,u=n.axisLine,d=st(st(st({},te(this.props,!1)),te(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!l||c==="bottom"&&l);d=st(st({},d),{},{x1:i,y1:a+f*s,x2:i+o,y2:a+f*s})}else{var h=+(c==="left"&&!l||c==="right"&&l);d=st(st({},d),{},{x1:i+h*o,y1:a,x2:i+h*o,y2:a+s})}return P.createElement("line",io({},d,{className:me("recharts-cartesian-axis-line",Jt(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,c=s.tickLine,l=s.stroke,u=s.tick,d=s.tickFormatter,f=s.unit,h=hb(st(st({},this.props),{},{ticks:n}),i,a),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=te(this.props,!1),b=te(u,!1),w=st(st({},v),{},{fill:"none"},te(c,!1)),y=h.map(function(O,_){var S=o.getTickLineCoord(O),A=S.line,E=S.tick,j=st(st(st(st({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:l},b),E),{},{index:_,payload:O,visibleTicksCount:h.length,tickFormatter:d});return P.createElement(ve,io({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},xi(o.props,O,_)),c&&P.createElement("line",io({},w,A,{className:me("recharts-cartesian-axis-tick-line",Jt(c,"className"))})),u&&e.renderTickItem(u,j,"".concat(se(d)?d(O.value,_):O.value).concat(f||"")))});return P.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,c=i.ticksGenerator,l=i.className,u=i.hide;if(u)return null;var d=this.props,f=d.ticks,h=Op(d,mue),g=f;return se(c)&&(g=f&&f.length>0?c(this.props):c(h)),o<=0||s<=0||!g||!g.length?null:P.createElement(ve,{className:me("recharts-cartesian-axis",l),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),yt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,s=me(i.className,"recharts-cartesian-axis-tick-value");return P.isValidElement(n)?o=P.cloneElement(n,st(st({},i),{},{className:s})):se(n)?o=n(st(st({},i),{},{className:s})):o=P.createElement(xa,io({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(x.Component);pb(Ds,"displayName","CartesianAxis");pb(Ds,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Oue=["x1","y1","x2","y2","key"],Aue=["offset"];function Ea(t){"@babel/helpers - typeof";return Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ea(t)}function RS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Et(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RS(Object(r),!0).forEach(function(n){Eue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eue(t,e,r){return e=Pue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pue(t){var e=jue(t,"string");return Ea(e)=="symbol"?e:e+""}function jue(t,e){if(Ea(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ea(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ea(){return ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ea.apply(this,arguments)}function IS(t,e){if(t==null)return{};var r=Tue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Cue=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,c=e.ry;return P.createElement("rect",{x:i,y:a,ry:c,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function y$(t,e){var r;if(P.isValidElement(t))r=P.cloneElement(t,e);else if(se(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,c=IS(e,Oue),l=te(c,!1);l.offset;var u=IS(l,Aue);r=P.createElement("line",ea({},u,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function kue(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,c){var l=Et(Et({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(c),index:c});return y$(i,l)});return P.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function $ue(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,c){var l=Et(Et({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(c),index:c});return y$(i,l)});return P.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Nue(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,c=t.horizontal,l=c===void 0?!0:c;if(!l||!e||!e.length)return null;var u=s.map(function(f){return Math.round(f+i-i)}).sort(function(f,h){return f-h});i!==u[0]&&u.unshift(0);var d=u.map(function(f,h){var g=!u[h+1],m=g?i+o-f:u[h+1]-f;if(m<=0)return null;var v=h%e.length;return P.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:m,width:a,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Rue(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,c=t.height,l=t.verticalPoints;if(!r||!n||!n.length)return null;var u=l.map(function(f){return Math.round(f+a-a)}).sort(function(f,h){return f-h});a!==u[0]&&u.unshift(0);var d=u.map(function(f,h){var g=!u[h+1],m=g?a+s-f:u[h+1]-f;if(m<=0)return null;var v=h%n.length;return P.createElement("rect",{key:"react-".concat(h),x:f,y:o,width:m,height:c,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Iue=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return dk(hb(Et(Et(Et({},Ds.defaultProps),n),{},{ticks:_n(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},Mue=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return dk(hb(Et(Et(Et({},Ds.defaultProps),n),{},{ticks:_n(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Ka={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function tc(t){var e,r,n,i,a,o,s=lb(),c=ub(),l=Sle(),u=Et(Et({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ka.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Ka.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Ka.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ka.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Ka.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Ka.verticalFill,x:V(t.x)?t.x:l.left,y:V(t.y)?t.y:l.top,width:V(t.width)?t.width:l.width,height:V(t.height)?t.height:l.height}),d=u.x,f=u.y,h=u.width,g=u.height,m=u.syncWithTicks,v=u.horizontalValues,b=u.verticalValues,w=wle(),y=xle();if(!V(h)||h<=0||!V(g)||g<=0||!V(d)||d!==+d||!V(f)||f!==+f)return null;var O=u.verticalCoordinatesGenerator||Iue,_=u.horizontalCoordinatesGenerator||Mue,S=u.horizontalPoints,A=u.verticalPoints;if((!S||!S.length)&&se(_)){var E=v&&v.length,j=_({yAxis:y?Et(Et({},y),{},{ticks:E?v:y.ticks}):void 0,width:s,height:c,offset:l},E?!0:m);Ir(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ea(j),"]")),Array.isArray(j)&&(S=j)}if((!A||!A.length)&&se(O)){var T=b&&b.length,C=O({xAxis:w?Et(Et({},w),{},{ticks:T?b:w.ticks}):void 0,width:s,height:c,offset:l},T?!0:m);Ir(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ea(C),"]")),Array.isArray(C)&&(A=C)}return P.createElement("g",{className:"recharts-cartesian-grid"},P.createElement(Cue,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),P.createElement(kue,ea({},u,{offset:l,horizontalPoints:S,xAxis:w,yAxis:y})),P.createElement($ue,ea({},u,{offset:l,verticalPoints:A,xAxis:w,yAxis:y})),P.createElement(Nue,ea({},u,{horizontalPoints:S})),P.createElement(Rue,ea({},u,{verticalPoints:A})))}tc.displayName="CartesianGrid";var Due=["type","layout","connectNulls","ref"],Lue=["key"];function as(t){"@babel/helpers - typeof";return as=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},as(t)}function MS(t,e){if(t==null)return{};var r=Bue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lc.apply(this,arguments)}function DS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DS(Object(r),!0).forEach(function(n){$r(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Va(t){return zue(t)||Wue(t)||Uue(t)||Fue()}function Fue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uue(t,e){if(t){if(typeof t=="string")return Wv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wv(t,e)}}function Wue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zue(t){if(Array.isArray(t))return Wv(t)}function Wv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function que(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w$(n.key),n)}}function Hue(t,e,r){return e&&LS(t.prototype,e),r&&LS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kue(t,e,r){return e=Hd(e),Vue(t,b$()?Reflect.construct(e,r||[],Hd(t).constructor):e.apply(t,r))}function Vue(t,e){if(e&&(as(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gue(t)}function Gue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b$=function(){return!!t})()}function Hd(t){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hd(t)}function Yue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zv(t,e)}function zv(t,e){return zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zv(t,e)}function $r(t,e,r){return e=w$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w$(t){var e=Xue(t,"string");return as(e)=="symbol"?e:e+""}function Xue(t,e){if(as(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(as(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var os=function(t){function e(){var r;que(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Kue(this,e,[].concat(i)),$r(r,"state",{isAnimationFinished:!0,totalLength:0}),$r(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),$r(r,"getStrokeDasharray",function(o,s,c){var l=c.reduce(function(b,w){return b+w});if(!l)return r.generateSimpleStrokeDasharray(s,o);for(var u=Math.floor(o/l),d=o%l,f=s-o,h=[],g=0,m=0;g<c.length;m+=c[g],++g)if(m+c[g]>d){h=[].concat(Va(c.slice(0,g)),[d-m]);break}var v=h.length%2===0?[0,f]:[f];return[].concat(Va(e.repeat(c,u)),Va(h),v).map(function(b){return"".concat(b,"px")}).join(", ")}),$r(r,"id",ji("recharts-line-")),$r(r,"pathRef",function(o){r.mainCurve=o}),$r(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),$r(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Yue(e,t),Hue(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,c=a.yAxis,l=a.layout,u=a.children,d=Rt(u,Is);if(!d)return null;var f=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:De(m.payload,v)}},h={clipPath:n?"url(#clipPath-".concat(i,")"):null};return P.createElement(ve,h,d.map(function(g){return P.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:s,yAxis:c,layout:l,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.dot,l=s.points,u=s.dataKey,d=te(this.props,!1),f=te(c,!0),h=l.map(function(m,v){var b=qt(qt(qt({key:"dot-".concat(v),r:3},d),f),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:l});return e.renderDotItem(c,b)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return P.createElement(ve,lc({className:"recharts-line-dots",key:"dots"},g),h)}},{key:"renderCurveStatically",value:function(n,i,a,o){var s=this.props,c=s.type,l=s.layout,u=s.connectNulls;s.ref;var d=MS(s,Due),f=qt(qt(qt({},te(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:c,layout:l,connectNulls:u});return P.createElement(gi,lc({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,c=o.strokeDasharray,l=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,f=o.animationEasing,h=o.animationId,g=o.animateNewValues,m=o.width,v=o.height,b=this.state,w=b.prevPoints,y=b.totalLength;return P.createElement(er,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var _=O.t;if(w){var S=w.length/s.length,A=s.map(function(k,L){var R=Math.floor(L*S);if(w[R]){var B=w[R],$=Me(B.x,k.x),M=Me(B.y,k.y);return qt(qt({},k),{},{x:$(_),y:M(_)})}if(g){var F=Me(m*2,k.x),D=Me(v/2,k.y);return qt(qt({},k),{},{x:F(_),y:D(_)})}return qt(qt({},k),{},{x:k.x,y:k.y})});return a.renderCurveStatically(A,n,i)}var E=Me(0,y),j=E(_),T;if(c){var C="".concat(c).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});T=a.getStrokeDasharray(j,y,C)}else T=a.generateSimpleStrokeDasharray(y,j);return a.renderCurveStatically(s,n,i,{strokeDasharray:T})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,s=a.isAnimationActive,c=this.state,l=c.prevPoints,u=c.totalLength;return s&&o&&o.length&&(!l&&u>0||!Nn(l,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,c=i.className,l=i.xAxis,u=i.yAxis,d=i.top,f=i.left,h=i.width,g=i.height,m=i.isAnimationActive,v=i.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,w=s.length===1,y=me("recharts-line",c),O=l&&l.allowDataOverflow,_=u&&u.allowDataOverflow,S=O||_,A=ce(v)?this.id:v,E=(n=te(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},j=E.r,T=j===void 0?3:j,C=E.strokeWidth,k=C===void 0?2:C,L=nT(o)?o:{},R=L.clipDot,B=R===void 0?!0:R,$=T*2+k;return P.createElement(ve,{className:y},O||_?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(A)},P.createElement("rect",{x:O?f:f-h/2,y:_?d:d-g/2,width:O?h:h*2,height:_?g:g*2})),!B&&P.createElement("clipPath",{id:"clipPath-dots-".concat(A)},P.createElement("rect",{x:f-$/2,y:d-$/2,width:h+$,height:g+$}))):null,!w&&this.renderCurve(S,A),this.renderErrorBar(S,A),(w||o)&&this.renderDots(S,B,A),(!m||b)&&hr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Va(n),[0]):n,o=[],s=0;s<i;++s)o=[].concat(Va(o),Va(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(P.isValidElement(n))a=P.cloneElement(n,i);else if(se(n))a=n(i);else{var o=i.key,s=MS(i,Lue),c=me("recharts-line-dot",typeof n!="boolean"?n.className:"");a=P.createElement(Ms,lc({key:o},s,{className:c}))}return a}}])}(x.PureComponent);$r(os,"displayName","Line");$r(os,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Zt.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});$r(os,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,c=t.displayedData,l=t.offset,u=e.layout,d=c.map(function(f,h){var g=De(f,o);return u==="horizontal"?{x:Ko({axis:r,ticks:i,bandSize:s,entry:f,index:h}),y:ce(g)?null:n.scale(g),value:g,payload:f}:{x:ce(g)?null:r.scale(g),y:Ko({axis:n,ticks:a,bandSize:s,entry:f,index:h}),value:g,payload:f}});return qt({points:d,layout:u},l)});var Que=["layout","type","stroke","connectNulls","isRange","ref"],Jue=["key"],x$;function ss(t){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ss(t)}function _$(t,e){if(t==null)return{};var r=Zue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ta(){return ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ta.apply(this,arguments)}function BS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BS(Object(r),!0).forEach(function(n){en(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ede(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O$(n.key),n)}}function tde(t,e,r){return e&&FS(t.prototype,e),r&&FS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rde(t,e,r){return e=Kd(e),nde(t,S$()?Reflect.construct(e,r||[],Kd(t).constructor):e.apply(t,r))}function nde(t,e){if(e&&(ss(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ide(t)}function ide(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S$=function(){return!!t})()}function Kd(t){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kd(t)}function ade(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qv(t,e)}function qv(t,e){return qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qv(t,e)}function en(t,e,r){return e=O$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O$(t){var e=ode(t,"string");return ss(e)=="symbol"?e:e+""}function ode(t,e){if(ss(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lr=function(t){function e(){var r;ede(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=rde(this,e,[].concat(i)),en(r,"state",{isAnimationFinished:!0}),en(r,"id",ji("recharts-area-")),en(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),se(o)&&o()}),en(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),se(o)&&o()}),r}return ade(e,t),tde(e,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var c=this.props,l=c.dot,u=c.points,d=c.dataKey,f=te(this.props,!1),h=te(l,!0),g=u.map(function(v,b){var w=Vn(Vn(Vn({key:"dot-".concat(b),r:3},f),h),{},{index:b,cx:v.x,cy:v.y,dataKey:d,value:v.value,payload:v.payload,points:u});return e.renderDotItem(l,w)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return P.createElement(ve,ta({className:"recharts-area-dots"},m),g)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,c=o[0].x,l=o[o.length-1].x,u=n*Math.abs(c-l),d=li(o.map(function(f){return f.y||0}));return V(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(li(a.map(function(f){return f.y||0})),d)),V(d)?P.createElement("rect",{x:c<l?c:c-u,y:0,width:u,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,c=o[0].y,l=o[o.length-1].y,u=n*Math.abs(c-l),d=li(o.map(function(f){return f.x||0}));return V(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(li(a.map(function(f){return f.x||0})),d)),V(d)?P.createElement("rect",{x:0,y:c<l?c:c-u,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var s=this.props,c=s.layout,l=s.type,u=s.stroke,d=s.connectNulls,f=s.isRange;s.ref;var h=_$(s,Que);return P.createElement(ve,{clipPath:a?"url(#clipPath-".concat(o,")"):null},P.createElement(gi,ta({},te(h,!0),{points:n,connectNulls:d,type:l,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&P.createElement(gi,ta({},te(this.props,!1),{className:"recharts-area-curve",layout:c,type:l,connectNulls:d,fill:"none",points:n})),u!=="none"&&f&&P.createElement(gi,ta({},te(this.props,!1),{className:"recharts-area-curve",layout:c,type:l,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,c=o.baseLine,l=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,f=o.animationEasing,h=o.animationId,g=this.state,m=g.prevPoints,v=g.prevBaseLine;return P.createElement(er,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var w=b.t;if(m){var y=m.length/s.length,O=s.map(function(E,j){var T=Math.floor(j*y);if(m[T]){var C=m[T],k=Me(C.x,E.x),L=Me(C.y,E.y);return Vn(Vn({},E),{},{x:k(w),y:L(w)})}return E}),_;if(V(c)&&typeof c=="number"){var S=Me(v,c);_=S(w)}else if(ce(c)||Ps(c)){var A=Me(v,0);_=A(w)}else _=c.map(function(E,j){var T=Math.floor(j*y);if(v[T]){var C=v[T],k=Me(C.x,E.x),L=Me(C.y,E.y);return Vn(Vn({},E),{},{x:k(w),y:L(w)})}return E});return a.renderAreaStatically(O,_,n,i)}return P.createElement(ve,null,P.createElement("defs",null,P.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(w))),P.createElement(ve,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,c,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,s=a.baseLine,c=a.isAnimationActive,l=this.state,u=l.prevPoints,d=l.prevBaseLine,f=l.totalLength;return c&&o&&o.length&&(!u&&f>0||!Nn(u,o)||!Nn(d,s))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,c=i.className,l=i.top,u=i.left,d=i.xAxis,f=i.yAxis,h=i.width,g=i.height,m=i.isAnimationActive,v=i.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,w=s.length===1,y=me("recharts-area",c),O=d&&d.allowDataOverflow,_=f&&f.allowDataOverflow,S=O||_,A=ce(v)?this.id:v,E=(n=te(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},j=E.r,T=j===void 0?3:j,C=E.strokeWidth,k=C===void 0?2:C,L=nT(o)?o:{},R=L.clipDot,B=R===void 0?!0:R,$=T*2+k;return P.createElement(ve,{className:y},O||_?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(A)},P.createElement("rect",{x:O?u:u-h/2,y:_?l:l-g/2,width:O?h:h*2,height:_?g:g*2})),!B&&P.createElement("clipPath",{id:"clipPath-dots-".concat(A)},P.createElement("rect",{x:u-$/2,y:l-$/2,width:h+$,height:g+$}))):null,w?null:this.renderArea(S,A),(o||w)&&this.renderDots(S,B,A),(!m||b)&&hr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(x.PureComponent);x$=Lr;en(Lr,"displayName","Area");en(Lr,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Zt.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});en(Lr,"getBaseValue",function(t,e,r,n){var i=t.layout,a=t.baseValue,o=e.props.baseValue,s=o??a;if(V(s)&&typeof s=="number")return s;var c=i==="horizontal"?n:r,l=c.scale.domain();if(c.type==="number"){var u=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return s==="dataMin"?d:s==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return s==="dataMin"?l[0]:s==="dataMax"?l[1]:l[0]});en(Lr,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,s=t.bandSize,c=t.dataKey,l=t.stackedData,u=t.dataStartIndex,d=t.displayedData,f=t.offset,h=e.layout,g=l&&l.length,m=x$.getBaseValue(e,r,n,i),v=h==="horizontal",b=!1,w=d.map(function(O,_){var S;g?S=l[u+_]:(S=De(O,c),Array.isArray(S)?b=!0:S=[m,S]);var A=S[1]==null||g&&De(O,c)==null;return v?{x:Ko({axis:n,ticks:a,bandSize:s,entry:O,index:_}),y:A?null:i.scale(S[1]),value:S,payload:O}:{x:A?null:n.scale(S[1]),y:Ko({axis:i,ticks:o,bandSize:s,entry:O,index:_}),value:S,payload:O}}),y;return g||b?y=w.map(function(O){var _=Array.isArray(O.value)?O.value[0]:null;return v?{x:O.x,y:_!=null&&O.y!=null?i.scale(_):null}:{x:_!=null?n.scale(_):null,y:O.y}}):y=v?i.scale(m):n.scale(m),Vn({points:w,baseLine:y,layout:h,isRange:b},f)});en(Lr,"renderDotItem",function(t,e){var r;if(P.isValidElement(t))r=P.cloneElement(t,e);else if(se(t))r=t(e);else{var n=me("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=_$(e,Jue);r=P.createElement(Ms,ta({},a,{key:i,className:n}))}return r});function cs(t){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cs(t)}function sde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P$(n.key),n)}}function lde(t,e,r){return e&&cde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ude(t,e,r){return e=Vd(e),dde(t,A$()?Reflect.construct(e,r||[],Vd(t).constructor):e.apply(t,r))}function dde(t,e){if(e&&(cs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fde(t)}function fde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A$=function(){return!!t})()}function Vd(t){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vd(t)}function hde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hv(t,e)}function Hv(t,e){return Hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hv(t,e)}function E$(t,e,r){return e=P$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P$(t){var e=pde(t,"string");return cs(e)=="symbol"?e:e+""}function pde(t,e){if(cs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sh=function(t){function e(){return sde(this,e),ude(this,e,arguments)}return hde(e,t),lde(e,[{key:"render",value:function(){return null}}])}(x.Component);E$(Sh,"displayName","ZAxis");E$(Sh,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var mde=["option","isActive"];function uc(){return uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uc.apply(this,arguments)}function vde(t,e){if(t==null)return{};var r=gde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yde(t){var e=t.option,r=t.isActive,n=vde(t,mde);return typeof e=="string"?x.createElement(kd,uc({option:x.createElement(eh,uc({type:e},n)),isActive:r,shapeType:"symbols"},n)):x.createElement(kd,uc({option:e,isActive:r,shapeType:"symbols"},n))}function ls(t){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ls(t)}function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dc.apply(this,arguments)}function US(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?US(Object(r),!0).forEach(function(n){di(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T$(n.key),n)}}function wde(t,e,r){return e&&WS(t.prototype,e),r&&WS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xde(t,e,r){return e=Gd(e),_de(t,j$()?Reflect.construct(e,r||[],Gd(t).constructor):e.apply(t,r))}function _de(t,e){if(e&&(ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sde(t)}function Sde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j$=function(){return!!t})()}function Gd(t){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gd(t)}function Ode(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kv(t,e)}function Kv(t,e){return Kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kv(t,e)}function di(t,e,r){return e=T$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T$(t){var e=Ade(t,"string");return ls(e)=="symbol"?e:e+""}function Ade(t,e){if(ls(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oh=function(t){function e(){var r;bde(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=xde(this,e,[].concat(i)),di(r,"state",{isAnimationFinished:!1}),di(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),di(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),di(r,"id",ji("recharts-scatter-")),r}return Ode(e,t),wde(e,[{key:"renderSymbolsStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.activeShape,c=a.activeIndex,l=te(this.props,!1);return n.map(function(u,d){var f=c===d,h=f?s:o,g=ar(ar({},l),u);return P.createElement(ve,dc({className:"recharts-scatter-symbol",key:"symbol-".concat(u==null?void 0:u.cx,"-").concat(u==null?void 0:u.cy,"-").concat(u==null?void 0:u.size,"-").concat(d)},xi(i.props,u,d),{role:"img"}),P.createElement(yde,dc({option:h,isActive:f,key:"symbol-".concat(d)},g)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,i=this.props,a=i.points,o=i.isAnimationActive,s=i.animationBegin,c=i.animationDuration,l=i.animationEasing,u=i.animationId,d=this.state.prevPoints;return P.createElement(er,{begin:s,duration:c,isActive:o,easing:l,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var h=f.t,g=a.map(function(m,v){var b=d&&d[v];if(b){var w=Me(b.cx,m.cx),y=Me(b.cy,m.cy),O=Me(b.size,m.size);return ar(ar({},m),{},{cx:w(h),cy:y(h),size:O(h)})}var _=Me(0,m.size);return ar(ar({},m),{},{size:_(h)})});return P.createElement(ve,null,n.renderSymbolsStatically(g))})}},{key:"renderSymbols",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,o=this.state.prevPoints;return a&&i&&i.length&&(!o||!Nn(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,o=i.xAxis,s=i.yAxis,c=i.children,l=Rt(c,Is);return l?l.map(function(u,d){var f=u.props,h=f.direction,g=f.dataKey;return P.cloneElement(u,{key:"".concat(h,"-").concat(g,"-").concat(a[d]),data:a,xAxis:o,yAxis:s,layout:h==="x"?"vertical":"horizontal",dataPointFormatter:function(v,b){return{x:v.cx,y:v.cy,value:h==="x"?+v.node.x:+v.node.y,errorVal:De(v,b)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,i=n.points,a=n.line,o=n.lineType,s=n.lineJointType,c=te(this.props,!1),l=te(a,!1),u,d;if(o==="joint")u=i.map(function(y){return{x:y.cx,y:y.cy}});else if(o==="fitting"){var f=W8(i),h=f.xmin,g=f.xmax,m=f.a,v=f.b,b=function(O){return m*O+v};u=[{x:h,y:b(h)},{x:g,y:b(g)}]}var w=ar(ar(ar({},c),{},{fill:"none",stroke:c&&c.fill},l),{},{points:u});return P.isValidElement(a)?d=P.cloneElement(a,w):se(a)?d=a(w):d=P.createElement(gi,dc({},w,{type:s})),P.createElement(ve,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.points,o=n.line,s=n.className,c=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,g=n.id,m=n.isAnimationActive;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,b=me("recharts-scatter",s),w=c&&c.allowDataOverflow,y=l&&l.allowDataOverflow,O=w||y,_=ce(g)?this.id:g;return P.createElement(ve,{className:b,clipPath:O?"url(#clipPath-".concat(_,")"):null},w||y?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(_)},P.createElement("rect",{x:w?u:u-f/2,y:y?d:d-h/2,width:w?f:f*2,height:y?h:h*2}))):null,o&&this.renderLine(),this.renderErrorBar(),P.createElement(ve,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!m||v)&&hr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}}])}(x.PureComponent);di(Oh,"displayName","Scatter");di(Oh,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Zt.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});di(Oh,"getComposedData",function(t){var e=t.xAxis,r=t.yAxis,n=t.zAxis,i=t.item,a=t.displayedData,o=t.xAxisTicks,s=t.yAxisTicks,c=t.offset,l=i.props.tooltipType,u=Rt(i.props.children,ks),d=ce(e.dataKey)?i.props.dataKey:e.dataKey,f=ce(r.dataKey)?i.props.dataKey:r.dataKey,h=n&&n.dataKey,g=n?n.range:Sh.defaultProps.range,m=g&&g[0],v=e.scale.bandwidth?e.scale.bandwidth():0,b=r.scale.bandwidth?r.scale.bandwidth():0,w=a.map(function(y,O){var _=De(y,d),S=De(y,f),A=!ce(h)&&De(y,h)||"-",E=[{name:ce(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:_,payload:y,dataKey:d,type:l},{name:ce(r.dataKey)?i.props.name:r.name||r.dataKey,unit:r.unit||"",value:S,payload:y,dataKey:f,type:l}];A!=="-"&&E.push({name:n.name||n.dataKey,unit:n.unit||"",value:A,payload:y,dataKey:h,type:l});var j=Ko({axis:e,ticks:o,bandSize:v,entry:y,index:O,dataKey:d}),T=Ko({axis:r,ticks:s,bandSize:b,entry:y,index:O,dataKey:f}),C=A!=="-"?n.scale(A):m,k=Math.sqrt(Math.max(C,0)/Math.PI);return ar(ar({},y),{},{cx:j,cy:T,x:j-k,y:T-k,xAxis:e,yAxis:r,zAxis:n,width:2*k,height:2*k,size:C,node:{x:_,y:S,z:A},tooltipPayload:E,tooltipPosition:{x:j,y:T},payload:y},u&&u[O]&&u[O].props)});return ar({points:w},c)});function us(t){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},us(t)}function Ede(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$$(n.key),n)}}function jde(t,e,r){return e&&Pde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tde(t,e,r){return e=Yd(e),Cde(t,C$()?Reflect.construct(e,r||[],Yd(t).constructor):e.apply(t,r))}function Cde(t,e){if(e&&(us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kde(t)}function kde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C$=function(){return!!t})()}function Yd(t){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yd(t)}function $de(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vv(t,e)}function Vv(t,e){return Vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vv(t,e)}function k$(t,e,r){return e=$$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $$(t){var e=Nde(t,"string");return us(e)=="symbol"?e:e+""}function Nde(t,e){if(us(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gv(){return Gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gv.apply(this,arguments)}function Rde(t){var e=t.xAxisId,r=lb(),n=ub(),i=s$(e);return i==null?null:x.createElement(Ds,Gv({},i,{className:me("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return _n(o,!0)}}))}var Rr=function(t){function e(){return Ede(this,e),Tde(this,e,arguments)}return $de(e,t),jde(e,[{key:"render",value:function(){return x.createElement(Rde,this.props)}}])}(x.Component);k$(Rr,"displayName","XAxis");k$(Rr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ds(t){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ds(t)}function Ide(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I$(n.key),n)}}function Dde(t,e,r){return e&&Mde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lde(t,e,r){return e=Xd(e),Bde(t,N$()?Reflect.construct(e,r||[],Xd(t).constructor):e.apply(t,r))}function Bde(t,e){if(e&&(ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fde(t)}function Fde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N$=function(){return!!t})()}function Xd(t){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xd(t)}function Ude(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yv(t,e)}function Yv(t,e){return Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yv(t,e)}function R$(t,e,r){return e=I$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I$(t){var e=Wde(t,"string");return ds(e)=="symbol"?e:e+""}function Wde(t,e){if(ds(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xv.apply(this,arguments)}var zde=function(e){var r=e.yAxisId,n=lb(),i=ub(),a=c$(r);return a==null?null:x.createElement(Ds,Xv({},a,{className:me("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return _n(s,!0)}}))},ur=function(t){function e(){return Ide(this,e),Lde(this,e,arguments)}return Ude(e,t),Dde(e,[{key:"render",value:function(){return x.createElement(zde,this.props)}}])}(x.Component);R$(ur,"displayName","YAxis");R$(ur,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function zS(t){return Vde(t)||Kde(t)||Hde(t)||qde()}function qde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hde(t,e){if(t){if(typeof t=="string")return Qv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qv(t,e)}}function Kde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vde(t){if(Array.isArray(t))return Qv(t)}function Qv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Jv=function(e,r,n,i,a){var o=Rt(e,fb),s=Rt(e,wh),c=[].concat(zS(o),zS(s)),l=Rt(e,_h),u="".concat(i,"Id"),d=i[0],f=r;if(c.length&&(f=c.reduce(function(m,v){if(v.props[u]===n&&nn(v.props,"extendDomain")&&V(v.props[d])){var b=v.props[d];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},f)),l.length){var h="".concat(d,"1"),g="".concat(d,"2");f=l.reduce(function(m,v){if(v.props[u]===n&&nn(v.props,"extendDomain")&&V(v.props[h])&&V(v.props[g])){var b=v.props[h],w=v.props[g];return[Math.min(m[0],b,w),Math.max(m[1],b,w)]}return m},f)}return a&&a.length&&(f=a.reduce(function(m,v){return V(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},f)),f},M$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function a(c,l,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,d||c,f),g=r?r+l:l;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],h]:c._events[g].push(h):(c._events[g]=h,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},s.prototype.listeners=function(l){var u=r?r+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,g=new Array(h);f<h;f++)g[f]=d[f].fn;return g},s.prototype.listenerCount=function(l){var u=r?r+l:l,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(l,u,d,f,h,g){var m=r?r+l:l;if(!this._events[m])return!1;var v=this._events[m],b=arguments.length,w,y;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,f),!0;case 5:return v.fn.call(v.context,u,d,f,h),!0;case 6:return v.fn.call(v.context,u,d,f,h,g),!0}for(y=1,w=new Array(b-1);y<b;y++)w[y-1]=arguments[y];v.fn.apply(v.context,w)}else{var O=v.length,_;for(y=0;y<O;y++)switch(v[y].once&&this.removeListener(l,v[y].fn,void 0,!0),b){case 1:v[y].fn.call(v[y].context);break;case 2:v[y].fn.call(v[y].context,u);break;case 3:v[y].fn.call(v[y].context,u,d);break;case 4:v[y].fn.call(v[y].context,u,d,f);break;default:if(!w)for(_=1,w=new Array(b-1);_<b;_++)w[_-1]=arguments[_];v[y].fn.apply(v[y].context,w)}}return!0},s.prototype.on=function(l,u,d){return a(this,l,u,d,!1)},s.prototype.once=function(l,u,d){return a(this,l,u,d,!0)},s.prototype.removeListener=function(l,u,d,f){var h=r?r+l:l;if(!this._events[h])return this;if(!u)return o(this,h),this;var g=this._events[h];if(g.fn)g.fn===u&&(!f||g.once)&&(!d||g.context===d)&&o(this,h);else{for(var m=0,v=[],b=g.length;m<b;m++)(g[m].fn!==u||f&&!g[m].once||d&&g[m].context!==d)&&v.push(g[m]);v.length?this._events[h]=v.length===1?v[0]:v:o(this,h)}return this},s.prototype.removeAllListeners=function(l){var u;return l?(u=r?r+l:l,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(M$);var Gde=M$.exports;const Yde=ke(Gde);var Ap=new Yde,Ep="recharts.syncMouseEvents";function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function Xde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D$(n.key),n)}}function Jde(t,e,r){return e&&Qde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pp(t,e,r){return e=D$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D$(t){var e=Zde(t,"string");return al(e)=="symbol"?e:e+""}function Zde(t,e){if(al(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var efe=function(){function t(){Xde(this,t),Pp(this,"activeIndex",0),Pp(this,"coordinateList",[]),Pp(this,"layout","horizontal")}return Jde(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,c=r.layout,l=c===void 0?null:c,u=r.offset,d=u===void 0?null:u,f=r.mouseHandlerCallback,h=f===void 0?null:f;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=l??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,c=this.coordinateList[this.activeIndex].coordinate,l=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=a+c+l,f=o+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function tfe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&V(n)&&V(i))return!0}return!1}function rfe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function L$(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=Pe(e,r,n,i),s=Pe(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function nfe(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,c=e.cy,l=e.innerRadius,u=e.outerRadius,d=e.angle,f=Pe(s,c,l,d),h=Pe(s,c,u,d);n=f.x,i=f.y,a=h.x,o=h.y}else return L$(e);return[{x:n,y:i},{x:a,y:o}]}function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function qS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ou(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qS(Object(r),!0).forEach(function(n){ife(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ife(t,e,r){return e=afe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function afe(t){var e=ofe(t,"string");return ol(e)=="symbol"?e:e+""}function ofe(t,e){if(ol(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sfe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,c=t.offset,l=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,f=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!a||!o||f!=="ScatterChart"&&i!=="axis")return null;var g,m=gi;if(f==="ScatterChart")g=o,m=Aae;else if(f==="BarChart")g=rfe(d,o,c,u),m=ib;else if(d==="radial"){var v=L$(o),b=v.cx,w=v.cy,y=v.radius,O=v.startAngle,_=v.endAngle;g={cx:b,cy:w,startAngle:O,endAngle:_,innerRadius:y,outerRadius:y},m=Ok}else g={points:nfe(d,o,c)},m=gi;var S=ou(ou(ou(ou({stroke:"#ccc",pointerEvents:"none"},c),g),te(h,!1)),{},{payload:s,payloadIndex:l,className:me("recharts-tooltip-cursor",h.className)});return x.isValidElement(h)?x.cloneElement(h,S):x.createElement(m,S)}var cfe=["item"],lfe=["children","className","width","height","style","compact","title","desc"];function fs(t){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fs(t)}function ao(){return ao=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ao.apply(this,arguments)}function HS(t,e){return ffe(t)||dfe(t,e)||F$(t,e)||ufe()}function ufe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function ffe(t){if(Array.isArray(t))return t}function KS(t,e){if(t==null)return{};var r=hfe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U$(n.key),n)}}function vfe(t,e,r){return e&&mfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gfe(t,e,r){return e=Qd(e),yfe(t,B$()?Reflect.construct(e,r||[],Qd(t).constructor):e.apply(t,r))}function yfe(t,e){if(e&&(fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bfe(t)}function bfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B$=function(){return!!t})()}function Qd(t){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qd(t)}function wfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zv(t,e)}function Zv(t,e){return Zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zv(t,e)}function hs(t){return Sfe(t)||_fe(t)||F$(t)||xfe()}function xfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F$(t,e){if(t){if(typeof t=="string")return eg(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eg(t,e)}}function _fe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sfe(t){if(Array.isArray(t))return eg(t)}function eg(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function W(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VS(Object(r),!0).forEach(function(n){ue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ue(t,e,r){return e=U$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U$(t){var e=Ofe(t,"string");return fs(e)=="symbol"?e:e+""}function Ofe(t,e){if(fs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Afe={xAxis:["bottom","top"],yAxis:["left","right"]},Efe={width:"100%",height:"100%"},W$={x:0,y:0};function su(t){return t}var Pfe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},jfe=function(e,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return W(W(W({},i),Pe(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var c=a.coordinate,l=i.angle;return W(W(W({},i),Pe(i.cx,i.cy,c,l)),{},{angle:l,radius:c})}return W$},Ah=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,c){var l=c.props.data;return l&&l.length?[].concat(hs(s),hs(l)):s},[]);return o.length>0?o:e&&e.length&&V(i)&&V(a)?e.slice(i,a+1):[]};function z$(t){return t==="number"?[0,"auto"]:void 0}var tg=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=Ah(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(c,l){var u,d=(u=l.props.data)!==null&&u!==void 0?u:r;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var h=d===void 0?s:d;f=Hu(h,o.dataKey,i)}else f=d&&d[n]||s[n];return f?[].concat(hs(c),[vk(l,f)]):c},[])},GS=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=Pfe(a,n),s=e.orderedTooltipTicks,c=e.tooltipAxis,l=e.tooltipTicks,u=Jte(o,s,l,c);if(u>=0&&l){var d=l[u]&&l[u].value,f=tg(e,r,u,d),h=jfe(n,s,u,a);return{activeTooltipIndex:u,activeLabel:d,activePayload:f,activeCoordinate:h}}return null},Tfe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,c=r.dataStartIndex,l=r.dataEndIndex,u=e.layout,d=e.children,f=e.stackOffset,h=uk(u,a);return n.reduce(function(g,m){var v,b=m.type.defaultProps!==void 0?W(W({},m.type.defaultProps),m.props):m.props,w=b.type,y=b.dataKey,O=b.allowDataOverflow,_=b.allowDuplicatedCategory,S=b.scale,A=b.ticks,E=b.includeHidden,j=b[o];if(g[j])return g;var T=Ah(e.data,{graphicalItems:i.filter(function(q){var I,H=o in q.props?q.props[o]:(I=q.type.defaultProps)===null||I===void 0?void 0:I[o];return H===j}),dataStartIndex:c,dataEndIndex:l}),C=T.length,k,L,R;tfe(b.domain,O,w)&&(k=dv(b.domain,null,O),h&&(w==="number"||S!=="auto")&&(R=ac(T,y,"category")));var B=z$(w);if(!k||k.length===0){var $,M=($=b.domain)!==null&&$!==void 0?$:B;if(y){if(k=ac(T,y,w),w==="category"&&h){var F=U8(k);_&&F?(L=k,k=Id(0,C)):_||(k=l_(M,k,m).reduce(function(q,I){return q.indexOf(I)>=0?q:[].concat(hs(q),[I])},[]))}else if(w==="category")_?k=k.filter(function(q){return q!==""&&!ce(q)}):k=l_(M,k,m).reduce(function(q,I){return q.indexOf(I)>=0||I===""||ce(I)?q:[].concat(hs(q),[I])},[]);else if(w==="number"){var D=nre(T,i.filter(function(q){var I,H,G=o in q.props?q.props[o]:(I=q.type.defaultProps)===null||I===void 0?void 0:I[o],fe="hide"in q.props?q.props.hide:(H=q.type.defaultProps)===null||H===void 0?void 0:H.hide;return G===j&&(E||!fe)}),y,a,u);D&&(k=D)}h&&(w==="number"||S!=="auto")&&(R=ac(T,y,"category"))}else h?k=Id(0,C):s&&s[j]&&s[j].hasStack&&w==="number"?k=f==="expand"?[0,1]:mk(s[j].stackGroups,c,l):k=lk(T,i.filter(function(q){var I=o in q.props?q.props[o]:q.type.defaultProps[o],H="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return I===j&&(E||!H)}),w,u,!0);if(w==="number")k=Jv(d,k,j,a,A),M&&(k=dv(M,k,O));else if(w==="category"&&M){var z=M,Y=k.every(function(q){return z.indexOf(q)>=0});Y&&(k=z)}}return W(W({},g),{},ue({},j,W(W({},b),{},{axisType:a,domain:k,categoricalDomain:R,duplicateDomain:L,originalDomain:(v=b.domain)!==null&&v!==void 0?v:B,isCategorical:h,layout:u})))},{})},Cfe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,c=r.dataStartIndex,l=r.dataEndIndex,u=e.layout,d=e.children,f=Ah(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:l}),h=f.length,g=uk(u,a),m=-1;return n.reduce(function(v,b){var w=b.type.defaultProps!==void 0?W(W({},b.type.defaultProps),b.props):b.props,y=w[o],O=z$("number");if(!v[y]){m++;var _;return g?_=Id(0,h):s&&s[y]&&s[y].hasStack?(_=mk(s[y].stackGroups,c,l),_=Jv(d,_,y,a)):(_=dv(O,lk(f,n.filter(function(S){var A,E,j=o in S.props?S.props[o]:(A=S.type.defaultProps)===null||A===void 0?void 0:A[o],T="hide"in S.props?S.props.hide:(E=S.type.defaultProps)===null||E===void 0?void 0:E.hide;return j===y&&!T}),"number",u),i.defaultProps.allowDataOverflow),_=Jv(d,_,y,a)),W(W({},v),{},ue({},y,W(W({axisType:a},i.defaultProps),{},{hide:!0,orientation:Jt(Afe,"".concat(a,".").concat(m%2),null),domain:_,originalDomain:O,isCategorical:g,layout:u})))}return v},{})},kfe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,c=r.dataStartIndex,l=r.dataEndIndex,u=e.children,d="".concat(i,"Id"),f=Rt(u,a),h={};return f&&f.length?h=Tfe(e,{axes:f,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:c,dataEndIndex:l}):o&&o.length&&(h=Cfe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:c,dataEndIndex:l})),h},$fe=function(e){var r=Jn(e),n=_n(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ky(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:bd(r,n)}},YS=function(e){var r=e.children,n=e.defaultShowTooltip,i=Vt(r,Zo),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Nfe=function(e){return!e||!e.length?!1:e.some(function(r){var n=On(r&&r.type);return n&&n.indexOf("Bar")>=0})},XS=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Rfe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,c=s===void 0?{}:s,l=n.width,u=n.height,d=n.children,f=n.margin||{},h=Vt(d,Zo),g=Vt(d,mi),m=Object.keys(c).reduce(function(_,S){var A=c[S],E=A.orientation;return!A.mirror&&!A.hide?W(W({},_),{},ue({},E,_[E]+A.width)):_},{left:f.left||0,right:f.right||0}),v=Object.keys(o).reduce(function(_,S){var A=o[S],E=A.orientation;return!A.mirror&&!A.hide?W(W({},_),{},ue({},E,Jt(_,"".concat(E))+A.height)):_},{top:f.top||0,bottom:f.bottom||0}),b=W(W({},v),m),w=b.bottom;h&&(b.bottom+=h.props.height||Zo.defaultProps.height),g&&r&&(b=tre(b,i,n,r));var y=l-b.left-b.right,O=u-b.top-b.bottom;return W(W({brushBottom:w},b),{},{width:Math.max(y,0),height:Math.max(O,0)})},Ife=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Ol=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,c=e.axisComponents,l=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,f=function(b,w){var y=w.graphicalItems,O=w.stackGroups,_=w.offset,S=w.updateId,A=w.dataStartIndex,E=w.dataEndIndex,j=b.barSize,T=b.layout,C=b.barGap,k=b.barCategoryGap,L=b.maxBarSize,R=XS(T),B=R.numericAxisName,$=R.cateAxisName,M=Nfe(y),F=[];return y.forEach(function(D,z){var Y=Ah(b.data,{graphicalItems:[D],dataStartIndex:A,dataEndIndex:E}),q=D.type.defaultProps!==void 0?W(W({},D.type.defaultProps),D.props):D.props,I=q.dataKey,H=q.maxBarSize,G=q["".concat(B,"Id")],fe=q["".concat($,"Id")],X={},he=c.reduce(function(zt,Wr){var br=w["".concat(Wr.axisType,"Map")],Al=q["".concat(Wr.axisType,"Id")];br&&br[Al]||Wr.axisType==="zAxis"||Sa();var El=br[Al];return W(W({},zt),{},ue(ue({},Wr.axisType,El),"".concat(Wr.axisType,"Ticks"),_n(El)))},X),K=he[$],Z=he["".concat($,"Ticks")],J=O&&O[G]&&O[G].hasStack&&fre(D,O[G].stackGroups),U=On(D.type).indexOf("Bar")>=0,be=bd(K,Z),pe=[],je=M&&Zte({barSize:j,stackGroups:O,totalSize:Ife(he,$)});if(U){var Ae,Ee,et=ce(H)?L:H,Je=(Ae=(Ee=bd(K,Z,!0))!==null&&Ee!==void 0?Ee:et)!==null&&Ae!==void 0?Ae:0;pe=ere({barGap:C,barCategoryGap:k,bandSize:Je!==be?Je:be,sizeList:je[fe],maxBarSize:et}),Je!==be&&(pe=pe.map(function(zt){return W(W({},zt),{},{position:W(W({},zt.position),{},{offset:zt.position.offset-Je/2})})}))}var Ur=D&&D.type&&D.type.getComposedData;Ur&&F.push({props:W(W({},Ur(W(W({},he),{},{displayedData:Y,props:b,dataKey:I,item:D,bandSize:be,barPosition:pe,offset:_,stackedData:J,layout:T,dataStartIndex:A,dataEndIndex:E}))),{},ue(ue(ue({key:D.key||"item-".concat(z)},B,he[B]),$,he[$]),"animationId",S)),childIndex:eq(D,b.children),item:D})}),F},h=function(b,w){var y=b.props,O=b.dataStartIndex,_=b.dataEndIndex,S=b.updateId;if(!nw({props:y}))return null;var A=y.children,E=y.layout,j=y.stackOffset,T=y.data,C=y.reverseStackOrder,k=XS(E),L=k.numericAxisName,R=k.cateAxisName,B=Rt(A,n),$=ure(T,B,"".concat(L,"Id"),"".concat(R,"Id"),j,C),M=c.reduce(function(q,I){var H="".concat(I.axisType,"Map");return W(W({},q),{},ue({},H,kfe(y,W(W({},I),{},{graphicalItems:B,stackGroups:I.axisType===L&&$,dataStartIndex:O,dataEndIndex:_}))))},{}),F=Rfe(W(W({},M),{},{props:y,graphicalItems:B}),w==null?void 0:w.legendBBox);Object.keys(M).forEach(function(q){M[q]=u(y,M[q],F,q.replace("Map",""),r)});var D=M["".concat(R,"Map")],z=$fe(D),Y=f(y,W(W({},M),{},{dataStartIndex:O,dataEndIndex:_,updateId:S,graphicalItems:B,stackGroups:$,offset:F}));return W(W({formattedGraphicalItems:Y,graphicalItems:B,offset:F,stackGroups:$},z),M)},g=function(v){function b(w){var y,O,_;return pfe(this,b),_=gfe(this,b,[w]),ue(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ue(_,"accessibilityManager",new efe),ue(_,"handleLegendBBoxUpdate",function(S){if(S){var A=_.state,E=A.dataStartIndex,j=A.dataEndIndex,T=A.updateId;_.setState(W({legendBBox:S},h({props:_.props,dataStartIndex:E,dataEndIndex:j,updateId:T},W(W({},_.state),{},{legendBBox:S}))))}}),ue(_,"handleReceiveSyncEvent",function(S,A,E){if(_.props.syncId===S){if(E===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(A)}}),ue(_,"handleBrushChange",function(S){var A=S.startIndex,E=S.endIndex;if(A!==_.state.dataStartIndex||E!==_.state.dataEndIndex){var j=_.state.updateId;_.setState(function(){return W({dataStartIndex:A,dataEndIndex:E},h({props:_.props,dataStartIndex:A,dataEndIndex:E,updateId:j},_.state))}),_.triggerSyncEvent({dataStartIndex:A,dataEndIndex:E})}}),ue(_,"handleMouseEnter",function(S){var A=_.getMouseInfo(S);if(A){var E=W(W({},A),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var j=_.props.onMouseEnter;se(j)&&j(E,S)}}),ue(_,"triggeredAfterMouseMove",function(S){var A=_.getMouseInfo(S),E=A?W(W({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var j=_.props.onMouseMove;se(j)&&j(E,S)}),ue(_,"handleItemMouseEnter",function(S){_.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),ue(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),ue(_,"handleMouseMove",function(S){S.persist(),_.throttleTriggeredAfterMouseMove(S)}),ue(_,"handleMouseLeave",function(S){_.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};_.setState(A),_.triggerSyncEvent(A);var E=_.props.onMouseLeave;se(E)&&E(A,S)}),ue(_,"handleOuterEvent",function(S){var A=Z8(S),E=Jt(_.props,"".concat(A));if(A&&se(E)){var j,T;/.*touch.*/i.test(A)?T=_.getMouseInfo(S.changedTouches[0]):T=_.getMouseInfo(S),E((j=T)!==null&&j!==void 0?j:{},S)}}),ue(_,"handleClick",function(S){var A=_.getMouseInfo(S);if(A){var E=W(W({},A),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var j=_.props.onClick;se(j)&&j(E,S)}}),ue(_,"handleMouseDown",function(S){var A=_.props.onMouseDown;if(se(A)){var E=_.getMouseInfo(S);A(E,S)}}),ue(_,"handleMouseUp",function(S){var A=_.props.onMouseUp;if(se(A)){var E=_.getMouseInfo(S);A(E,S)}}),ue(_,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),ue(_,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseDown(S.changedTouches[0])}),ue(_,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseUp(S.changedTouches[0])}),ue(_,"handleDoubleClick",function(S){var A=_.props.onDoubleClick;if(se(A)){var E=_.getMouseInfo(S);A(E,S)}}),ue(_,"handleContextMenu",function(S){var A=_.props.onContextMenu;if(se(A)){var E=_.getMouseInfo(S);A(E,S)}}),ue(_,"triggerSyncEvent",function(S){_.props.syncId!==void 0&&Ap.emit(Ep,_.props.syncId,S,_.eventEmitterSymbol)}),ue(_,"applySyncEvent",function(S){var A=_.props,E=A.layout,j=A.syncMethod,T=_.state.updateId,C=S.dataStartIndex,k=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)_.setState(W({dataStartIndex:C,dataEndIndex:k},h({props:_.props,dataStartIndex:C,dataEndIndex:k,updateId:T},_.state)));else if(S.activeTooltipIndex!==void 0){var L=S.chartX,R=S.chartY,B=S.activeTooltipIndex,$=_.state,M=$.offset,F=$.tooltipTicks;if(!M)return;if(typeof j=="function")B=j(F,S);else if(j==="value"){B=-1;for(var D=0;D<F.length;D++)if(F[D].value===S.activeLabel){B=D;break}}var z=W(W({},M),{},{x:M.left,y:M.top}),Y=Math.min(L,z.x+z.width),q=Math.min(R,z.y+z.height),I=F[B]&&F[B].value,H=tg(_.state,_.props.data,B),G=F[B]?{x:E==="horizontal"?F[B].coordinate:Y,y:E==="horizontal"?q:F[B].coordinate}:W$;_.setState(W(W({},S),{},{activeLabel:I,activeCoordinate:G,activePayload:H,activeTooltipIndex:B}))}else _.setState(S)}),ue(_,"renderCursor",function(S){var A,E=_.state,j=E.isTooltipActive,T=E.activeCoordinate,C=E.activePayload,k=E.offset,L=E.activeTooltipIndex,R=E.tooltipAxisBandSize,B=_.getTooltipEventType(),$=(A=S.props.active)!==null&&A!==void 0?A:j,M=_.props.layout,F=S.key||"_recharts-cursor";return P.createElement(sfe,{key:F,activeCoordinate:T,activePayload:C,activeTooltipIndex:L,chartName:r,element:S,isActive:$,layout:M,offset:k,tooltipAxisBandSize:R,tooltipEventType:B})}),ue(_,"renderPolarAxis",function(S,A,E){var j=Jt(S,"type.axisType"),T=Jt(_.state,"".concat(j,"Map")),C=S.type.defaultProps,k=C!==void 0?W(W({},C),S.props):S.props,L=T&&T[k["".concat(j,"Id")]];return x.cloneElement(S,W(W({},L),{},{className:me(j,L.className),key:S.key||"".concat(A,"-").concat(E),ticks:_n(L,!0)}))}),ue(_,"renderPolarGrid",function(S){var A=S.props,E=A.radialLines,j=A.polarAngles,T=A.polarRadius,C=_.state,k=C.radiusAxisMap,L=C.angleAxisMap,R=Jn(k),B=Jn(L),$=B.cx,M=B.cy,F=B.innerRadius,D=B.outerRadius;return x.cloneElement(S,{polarAngles:Array.isArray(j)?j:_n(B,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(T)?T:_n(R,!0).map(function(z){return z.coordinate}),cx:$,cy:M,innerRadius:F,outerRadius:D,key:S.key||"polar-grid",radialLines:E})}),ue(_,"renderLegend",function(){var S=_.state.formattedGraphicalItems,A=_.props,E=A.children,j=A.width,T=A.height,C=_.props.margin||{},k=j-(C.left||0)-(C.right||0),L=sk({children:E,formattedGraphicalItems:S,legendWidth:k,legendContent:l});if(!L)return null;var R=L.item,B=KS(L,cfe);return x.cloneElement(R,W(W({},B),{},{chartWidth:j,chartHeight:T,margin:C,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),ue(_,"renderTooltip",function(){var S,A=_.props,E=A.children,j=A.accessibilityLayer,T=Vt(E,gt);if(!T)return null;var C=_.state,k=C.isTooltipActive,L=C.activeCoordinate,R=C.activePayload,B=C.activeLabel,$=C.offset,M=(S=T.props.active)!==null&&S!==void 0?S:k;return x.cloneElement(T,{viewBox:W(W({},$),{},{x:$.left,y:$.top}),active:M,label:B,payload:M?R:[],coordinate:L,accessibilityLayer:j})}),ue(_,"renderBrush",function(S){var A=_.props,E=A.margin,j=A.data,T=_.state,C=T.offset,k=T.dataStartIndex,L=T.dataEndIndex,R=T.updateId;return x.cloneElement(S,{key:S.key||"_recharts-brush",onChange:ru(_.handleBrushChange,S.props.onChange),data:j,x:V(S.props.x)?S.props.x:C.left,y:V(S.props.y)?S.props.y:C.top+C.height+C.brushBottom-(E.bottom||0),width:V(S.props.width)?S.props.width:C.width,startIndex:k,endIndex:L,updateId:"brush-".concat(R)})}),ue(_,"renderReferenceElement",function(S,A,E){if(!S)return null;var j=_,T=j.clipPathId,C=_.state,k=C.xAxisMap,L=C.yAxisMap,R=C.offset,B=S.type.defaultProps||{},$=S.props,M=$.xAxisId,F=M===void 0?B.xAxisId:M,D=$.yAxisId,z=D===void 0?B.yAxisId:D;return x.cloneElement(S,{key:S.key||"".concat(A,"-").concat(E),xAxis:k[F],yAxis:L[z],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:T})}),ue(_,"renderActivePoints",function(S){var A=S.item,E=S.activePoint,j=S.basePoint,T=S.childIndex,C=S.isRange,k=[],L=A.props.key,R=A.item.type.defaultProps!==void 0?W(W({},A.item.type.defaultProps),A.item.props):A.item.props,B=R.activeDot,$=R.dataKey,M=W(W({index:T,dataKey:$,cx:E.x,cy:E.y,r:4,fill:nb(A.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},te(B,!1)),Ku(B));return k.push(b.renderActiveDot(B,M,"".concat(L,"-activePoint-").concat(T))),j?k.push(b.renderActiveDot(B,W(W({},M),{},{cx:j.x,cy:j.y}),"".concat(L,"-basePoint-").concat(T))):C&&k.push(null),k}),ue(_,"renderGraphicChild",function(S,A,E){var j=_.filterFormatItem(S,A,E);if(!j)return null;var T=_.getTooltipEventType(),C=_.state,k=C.isTooltipActive,L=C.tooltipAxis,R=C.activeTooltipIndex,B=C.activeLabel,$=_.props.children,M=Vt($,gt),F=j.props,D=F.points,z=F.isRange,Y=F.baseLine,q=j.item.type.defaultProps!==void 0?W(W({},j.item.type.defaultProps),j.item.props):j.item.props,I=q.activeDot,H=q.hide,G=q.activeBar,fe=q.activeShape,X=!!(!H&&k&&M&&(I||G||fe)),he={};T!=="axis"&&M&&M.props.trigger==="click"?he={onClick:ru(_.handleItemMouseEnter,S.props.onClick)}:T!=="axis"&&(he={onMouseLeave:ru(_.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:ru(_.handleItemMouseEnter,S.props.onMouseEnter)});var K=x.cloneElement(S,W(W({},j.props),he));function Z(Wr){return typeof L.dataKey=="function"?L.dataKey(Wr.payload):null}if(X)if(R>=0){var J,U;if(L.dataKey&&!L.allowDuplicatedCategory){var be=typeof L.dataKey=="function"?Z:"payload.".concat(L.dataKey.toString());J=Hu(D,be,B),U=z&&Y&&Hu(Y,be,B)}else J=D==null?void 0:D[R],U=z&&Y&&Y[R];if(fe||G){var pe=S.props.activeIndex!==void 0?S.props.activeIndex:R;return[x.cloneElement(S,W(W(W({},j.props),he),{},{activeIndex:pe})),null,null]}if(!ce(J))return[K].concat(hs(_.renderActivePoints({item:j,activePoint:J,basePoint:U,childIndex:R,isRange:z})))}else{var je,Ae=(je=_.getItemByXY(_.state.activeCoordinate))!==null&&je!==void 0?je:{graphicalItem:K},Ee=Ae.graphicalItem,et=Ee.item,Je=et===void 0?S:et,Ur=Ee.childIndex,zt=W(W(W({},j.props),he),{},{activeIndex:Ur});return[x.cloneElement(Je,zt),null,null]}return z?[K,null,null]:[K,null]}),ue(_,"renderCustomized",function(S,A,E){return x.cloneElement(S,W(W({key:"recharts-customized-".concat(E)},_.props),_.state))}),ue(_,"renderMap",{CartesianGrid:{handler:su,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:su},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:su},YAxis:{handler:su},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((y=w.id)!==null&&y!==void 0?y:ji("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=oC(_.triggeredAfterMouseMove,(O=w.throttleDelay)!==null&&O!==void 0?O:1e3/60),_.state={},_}return wfe(b,v),vfe(b,[{key:"componentDidMount",value:function(){var y,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,O=y.children,_=y.data,S=y.height,A=y.layout,E=Vt(O,gt);if(E){var j=E.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,C=tg(this.state,_,j,T),k=this.state.tooltipTicks[j].coordinate,L=(this.state.offset.top+S)/2,R=A==="horizontal",B=R?{x:k,y:L}:{y:k,x:L},$=this.state.formattedGraphicalItems.find(function(F){var D=F.item;return D.type.name==="Scatter"});$&&(B=W(W({},B),$.props.points[j].tooltipPosition),C=$.props.points[j].tooltipPayload);var M={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:T,activePayload:C,activeCoordinate:B};this.setState(M),this.renderCursor(E),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var _,S;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(y){Em([Vt(y.children,gt)],[Vt(this.props.children,gt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=Vt(this.props.children,gt);if(y&&typeof y.props.shared=="boolean"){var O=y.props.shared?"axis":"item";return s.indexOf(O)>=0?O:a}return a}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var O=this.container,_=O.getBoundingClientRect(),S=EQ(_),A={chartX:Math.round(y.pageX-S.left),chartY:Math.round(y.pageY-S.top)},E=_.width/O.offsetWidth||1,j=this.inRange(A.chartX,A.chartY,E);if(!j)return null;var T=this.state,C=T.xAxisMap,k=T.yAxisMap,L=this.getTooltipEventType(),R=GS(this.state,this.props.data,this.props.layout,j);if(L!=="axis"&&C&&k){var B=Jn(C).scale,$=Jn(k).scale,M=B&&B.invert?B.invert(A.chartX):null,F=$&&$.invert?$.invert(A.chartY):null;return W(W({},A),{},{xValue:M,yValue:F},R)}return R?W(W({},A),R):null}},{key:"inRange",value:function(y,O){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,A=y/_,E=O/_;if(S==="horizontal"||S==="vertical"){var j=this.state.offset,T=A>=j.left&&A<=j.left+j.width&&E>=j.top&&E<=j.top+j.height;return T?{x:A,y:E}:null}var C=this.state,k=C.angleAxisMap,L=C.radiusAxisMap;if(k&&L){var R=Jn(k);return f_({x:A,y:E},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,O=this.getTooltipEventType(),_=Vt(y,gt),S={};_&&O==="axis"&&(_.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Ku(this.props,this.handleOuterEvent);return W(W({},A),S)}},{key:"addListener",value:function(){Ap.on(Ep,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ap.removeListener(Ep,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,O,_){for(var S=this.state.formattedGraphicalItems,A=0,E=S.length;A<E;A++){var j=S[A];if(j.item===y||j.props.key===y.key||O===On(j.item.type)&&_===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,O=this.state.offset,_=O.left,S=O.top,A=O.height,E=O.width;return P.createElement("defs",null,P.createElement("clipPath",{id:y},P.createElement("rect",{x:_,y:S,height:A,width:E})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(O,_){var S=HS(_,2),A=S[0],E=S[1];return W(W({},O),{},ue({},A,E.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(O,_){var S=HS(_,2),A=S[0],E=S[1];return W(W({},O),{},ue({},A,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[y])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(y){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[y])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(y){var O=this.state,_=O.formattedGraphicalItems,S=O.activeItem;if(_&&_.length)for(var A=0,E=_.length;A<E;A++){var j=_[A],T=j.props,C=j.item,k=C.type.defaultProps!==void 0?W(W({},C.type.defaultProps),C.props):C.props,L=On(C.type);if(L==="Bar"){var R=(T.data||[]).find(function(F){return oae(y,F)});if(R)return{graphicalItem:j,payload:R}}else if(L==="RadialBar"){var B=(T.data||[]).find(function(F){return f_(y,F)});if(B)return{graphicalItem:j,payload:B}}else if(vh(j,S)||gh(j,S)||el(j,S)){var $=ise({graphicalItem:j,activeTooltipItem:S,itemData:k.data}),M=k.activeIndex===void 0?$:k.activeIndex;return{graphicalItem:W(W({},j),{},{childIndex:M}),payload:el(j,S)?k.data[$]:j.props.data[$]}}}return null}},{key:"render",value:function(){var y=this;if(!nw(this))return null;var O=this.props,_=O.children,S=O.className,A=O.width,E=O.height,j=O.style,T=O.compact,C=O.title,k=O.desc,L=KS(O,lfe),R=te(L,!1);if(T)return P.createElement(SS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement(jm,ao({},R,{width:A,height:E,title:C,desc:k}),this.renderClipPath(),aw(_,this.renderMap)));if(this.props.accessibilityLayer){var B,$;R.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,R.role=($=this.props.role)!==null&&$!==void 0?$:"application",R.onKeyDown=function(F){y.accessibilityManager.keyboardEvent(F)},R.onFocus=function(){y.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return P.createElement(SS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement("div",ao({className:me("recharts-wrapper",S),style:W({position:"relative",cursor:"default",width:A,height:E},j)},M,{ref:function(D){y.container=D}}),P.createElement(jm,ao({},R,{width:A,height:E,title:C,desc:k,style:Efe}),this.renderClipPath(),aw(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);ue(g,"displayName",r),ue(g,"defaultProps",W({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ue(g,"getDerivedStateFromProps",function(v,b){var w=v.dataKey,y=v.data,O=v.children,_=v.width,S=v.height,A=v.layout,E=v.stackOffset,j=v.margin,T=b.dataStartIndex,C=b.dataEndIndex;if(b.updateId===void 0){var k=YS(v);return W(W(W({},k),{},{updateId:0},h(W(W({props:v},k),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:y,prevWidth:_,prevHeight:S,prevLayout:A,prevStackOffset:E,prevMargin:j,prevChildren:O})}if(w!==b.prevDataKey||y!==b.prevData||_!==b.prevWidth||S!==b.prevHeight||A!==b.prevLayout||E!==b.prevStackOffset||!po(j,b.prevMargin)){var L=YS(v),R={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},B=W(W({},GS(b,y,A)),{},{updateId:b.updateId+1}),$=W(W(W({},L),R),B);return W(W(W({},$),h(W({props:v},$),b)),{},{prevDataKey:w,prevData:y,prevWidth:_,prevHeight:S,prevLayout:A,prevStackOffset:E,prevMargin:j,prevChildren:O})}if(!Em(O,b.prevChildren)){var M,F,D,z,Y=Vt(O,Zo),q=Y&&(M=(F=Y.props)===null||F===void 0?void 0:F.startIndex)!==null&&M!==void 0?M:T,I=Y&&(D=(z=Y.props)===null||z===void 0?void 0:z.endIndex)!==null&&D!==void 0?D:C,H=q!==T||I!==C,G=!ce(y),fe=G&&!H?b.updateId:b.updateId+1;return W(W({updateId:fe},h(W(W({props:v},b),{},{updateId:fe,dataStartIndex:q,dataEndIndex:I}),b)),{},{prevChildren:O,dataStartIndex:q,dataEndIndex:I})}return null}),ue(g,"renderActiveDot",function(v,b,w){var y;return x.isValidElement(v)?y=x.cloneElement(v,b):se(v)?y=v(b):y=P.createElement(Ms,b),P.createElement(ve,{className:"recharts-active-dot",key:w},y)});var m=x.forwardRef(function(b,w){return P.createElement(g,ao({},b,{ref:w}))});return m.displayName=g.displayName,m},q$=Ol({chartName:"BarChart",GraphicalChild:fr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Rr},{axisType:"yAxis",AxisComp:ur}],formatAxisMap:ab}),Mfe=Ol({chartName:"PieChart",GraphicalChild:Fn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:_i},{axisType:"radiusAxis",AxisComp:Oa}],formatAxisMap:bk,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),rg=Ol({chartName:"RadarChart",GraphicalChild:Aa,axisComponents:[{axisType:"angleAxis",AxisComp:_i},{axisType:"radiusAxis",AxisComp:Oa}],formatAxisMap:bk,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),H$=Ol({chartName:"AreaChart",GraphicalChild:Lr,axisComponents:[{axisType:"xAxis",AxisComp:Rr},{axisType:"yAxis",AxisComp:ur}],formatAxisMap:ab}),QS=Ol({chartName:"ComposedChart",GraphicalChild:[os,Lr,fr,Oh],axisComponents:[{axisType:"xAxis",AxisComp:Rr},{axisType:"yAxis",AxisComp:ur},{axisType:"zAxis",AxisComp:Sh}],formatAxisMap:ab});function Dfe({data:t}){return p.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl h-[300px]",children:[p.jsx("h3",{className:"text-lg font-display font-semibold mb-4",children:"Trend Recente"}),p.jsx(qr,{width:"100%",height:"100%",children:p.jsxs(H$,{data:t,children:[p.jsx("defs",{children:p.jsxs("linearGradient",{id:"colorOverall",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.3}),p.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),p.jsx(Rr,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},dy:10}),p.jsx(ur,{hide:!0}),p.jsx(gt,{contentStyle:{backgroundColor:"hsl(var(--card))",borderRadius:"12px",border:"1px solid hsl(var(--border))",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),p.jsx(Lr,{type:"monotone",dataKey:"overall",stroke:"hsl(var(--primary))",strokeWidth:3,fillOpacity:1,fill:"url(#colorOverall)"})]})})]})}function Lfe({stats:t}){const e=t.map(r=>({subject:r.title,A:r.completionRate,fullMark:100}));return t.length<3?p.jsx("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl h-[300px] flex items-center justify-center text-center",children:p.jsxs("p",{className:"text-muted-foreground text-sm",children:["Add at least 3 habits ",p.jsx("br",{})," to unlock Radar view."]})}):p.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl h-[300px]",children:[p.jsx("h3",{className:"text-lg font-display font-semibold mb-2",children:"Focus Balance"}),p.jsx(qr,{width:"100%",height:"85%",children:p.jsxs(rg,{cx:"50%",cy:"50%",outerRadius:"70%",data:e,children:[p.jsx(Ed,{stroke:"hsl(var(--border))"}),p.jsx(_i,{dataKey:"subject",tick:{fill:"hsl(var(--muted-foreground))",fontSize:12}}),p.jsx(Aa,{name:"Completion",dataKey:"A",stroke:"hsl(var(--primary))",strokeWidth:2,fill:"hsl(var(--primary))",fillOpacity:.4})]})})]})}function Bfe({data:t}){const e=Math.max(...t.map(n=>n.rate)),r=({active:n,payload:i,label:a})=>n&&i&&i.length?p.jsxs("div",{className:"bg-background/95 backdrop-blur text-xs p-2 rounded-lg border border-border shadow-xl",children:[p.jsx("p",{className:"font-semibold mb-1",children:a}),p.jsxs("p",{className:"text-primary space-x-2",children:[p.jsx("span",{children:"Success Rate:"}),p.jsxs("span",{className:"font-mono font-bold",children:[i[0].value,"%"]})]})]}):null;return p.jsx("div",{className:"w-full h-full min-h-[200px]",children:p.jsx(qr,{width:"100%",height:"100%",children:p.jsxs(q$,{data:t,margin:{top:10,right:10,left:-20,bottom:0},children:[p.jsx(Rr,{dataKey:"dayName",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:10},tickFormatter:n=>n.slice(0,3).toUpperCase(),dy:10}),p.jsx(ur,{hide:!0,domain:[0,100]}),p.jsx(gt,{content:p.jsx(r,{}),cursor:{fill:"hsl(var(--muted)/0.2)"}}),p.jsx(fr,{dataKey:"rate",radius:[4,4,0,0],maxBarSize:40,children:t.map((n,i)=>p.jsx(ks,{fill:n.rate===e&&n.rate>0?"hsl(var(--primary))":"hsl(var(--primary)/0.3)",className:"transition-all duration-300 hover:opacity-80"},`cell-${i}`))})]})})})}function Ffe({comparisons:t,goals:e}){const[r,n]=x.useState("month");return p.jsxs("div",{className:"glass-panel rounded-3xl p-6 animate-fade-in",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-display font-semibold flex items-center gap-2",children:[p.jsx(Np,{className:"w-5 h-5 text-primary"}),"Confronto Temporale"]}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Analizza come stai andando rispetto al passato."})]}),p.jsx(Dj,{value:r,onValueChange:i=>n(i),className:"w-full sm:w-auto",children:p.jsxs(cy,{className:"grid w-full grid-cols-3 sm:w-[300px]",children:[p.jsx(da,{value:"week",children:"Settimana"}),p.jsx(da,{value:"month",children:"Mese"}),p.jsx(da,{value:"year",children:"Anno"})]})})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.map(i=>{const a=t.find(l=>l.habitId===i.id);if(!a)return null;const o=a[r],s=o.trend==="neutral"||o.change===0,c=o.trend==="up";return p.jsxs("div",{className:"bg-card/50 border border-border/50 rounded-xl p-4 flex items-center justify-between group hover:bg-card/80 transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center opacity-80",style:{backgroundColor:`${i.color}20`,color:i.color},children:p.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:i.color}})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold text-foreground",children:i.title}),p.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:p.jsxs("span",{children:["Precedente: ",o.previous,"%"]})})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:"text-xl font-display font-bold text-foreground",children:[o.current,"%"]}),p.jsxs("div",{className:Q("flex items-center justify-end gap-1 text-xs font-medium",s?"text-muted-foreground":c?"text-emerald-500":"text-rose-500"),children:[s?p.jsx(WR,{className:"w-3 h-3"}):c?p.jsx(TR,{className:"w-3 h-3"}):p.jsx(PR,{className:"w-3 h-3"}),p.jsxs("span",{children:[o.change>0?"+":"",o.change,"%"]})]})]})]},i.id)})})]})}function Ufe({criticalHabits:t}){const e=t.filter(r=>r.completionRate<85&&r.completionRate>0).sort((r,n)=>r.completionRate-n.completionRate).slice(0,3);return e.length===0?null:p.jsxs("div",{className:"glass-panel rounded-3xl p-6 animate-fade-in space-y-4",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-display font-semibold flex items-center gap-2",children:[p.jsx(Yi,{className:"w-5 h-5 text-primary"}),"Aree di Miglioramento"]}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Abitudini che richiedono pi attenzione e i loro giorni critici."})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(r=>p.jsxs("div",{className:"bg-card/50 border border-destructive/10 rounded-xl p-4 flex flex-col gap-3 group hover:border-destructive/30 transition-all",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:r.color}}),p.jsx("span",{className:"font-semibold text-foreground",children:r.title})]}),p.jsxs("span",{className:Q("text-xs font-bold px-2 py-0.5 rounded-full",r.completionRate<50?"bg-destructive/10 text-destructive":"bg-warning/10 text-warning"),children:[r.completionRate,"% succ."]})]}),p.jsxs("div",{className:"flex items-start gap-3 bg-background/50 rounded-lg p-3",children:[p.jsx($R,{className:"w-4 h-4 text-destructive mt-0.5 shrink-0"}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-bold",children:"Giorno Nero"}),p.jsx("p",{className:"font-display font-semibold text-lg text-foreground",children:r.worstDay}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:["Solo il ",p.jsxs("span",{className:"text-destructive font-bold",children:[r.worstDayRate,"%"]})," di completamento"]})]})]})]},r.habitId))})]})}const Wfe=()=>{const{goals:t,logs:e}=hE(),r=n4(t,e),{isPrivacyMode:n}=Ug(),i=r.habitStats.length>0?r.habitStats.reduce((a,o)=>a.completionRate>o.completionRate?a:o,r.habitStats[0]):null;return p.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-5xl space-y-8 animate-fade-in pb-24",children:[p.jsx("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 w-[800px] h-[800px] bg-primary/5 blur-[120px] rounded-full pointer-events-none -z-10"}),p.jsxs("div",{className:Q("space-y-2 transition-all duration-300",n&&"blur-sm"),children:[p.jsx("h1",{className:"text-3xl sm:text-4xl font-display font-bold text-foreground",children:"Le tue Statistiche"}),p.jsx("p",{className:"text-muted-foreground font-light text-lg",children:"Analisi dettagliata delle tue performance."})]}),p.jsx("div",{className:Q("transition-all duration-300",n&&"blur-sm"),children:p.jsx(a4,{globalStats:{totalActiveDays:r.totalActiveDays,globalSuccessRate:r.globalSuccessRate,bestStreak:r.bestStreak,worstDay:r.worstDay},bestHabit:i||void 0})}),p.jsxs("div",{className:"glass-panel rounded-3xl p-6",children:[p.jsxs("h3",{className:"text-lg font-display font-semibold mb-6 flex items-center gap-2",children:[p.jsx("span",{className:"w-2 h-2 rounded-sm bg-primary animate-pulse"}),"Attivit Recente"]}),p.jsx(o4,{data:r.heatmapData})]}),p.jsx("div",{className:Q("transition-all duration-300",n&&"blur-sm"),children:p.jsx(Ffe,{comparisons:r.comparisons,goals:t})}),p.jsx("div",{className:Q("transition-all duration-300",n&&"blur-sm"),children:p.jsx(Ufe,{criticalHabits:r.criticalHabits})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"glass-panel rounded-3xl p-6 h-[400px] flex flex-col",children:[p.jsx("h3",{className:"text-lg font-display font-semibold mb-4",children:"Trend Settimanale"}),p.jsx("div",{className:"flex-1 w-full min-h-0",children:p.jsx(Dfe,{data:r.trendData})})]}),p.jsxs("div",{className:Q("glass-panel rounded-3xl p-6 h-[400px] flex flex-col transition-all duration-300",n&&"blur-sm"),children:[p.jsx("h3",{className:"text-lg font-display font-semibold mb-4",children:"Focus Abitudini"}),p.jsx("div",{className:"flex-1 w-full min-h-0",children:p.jsx(Lfe,{stats:r.habitStats})})]})]}),p.jsxs("div",{className:"glass-panel rounded-3xl p-6",children:[p.jsxs("div",{className:"mb-6",children:[p.jsxs("h3",{className:"text-lg font-display font-semibold flex items-center gap-2",children:[p.jsx("span",{className:"w-2 h-2 rounded-sm bg-primary animate-pulse"}),"Costanza Settimanale"]}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Scopri in quali giorni sei pi produttivo."})]}),p.jsx("div",{className:"h-[250px] w-full",children:p.jsx(Bfe,{data:r.weekdayStats})})]}),p.jsxs("div",{className:Q("glass-panel rounded-3xl p-6 transition-all duration-300",n&&"blur-sm"),children:[p.jsx("h3",{className:"text-lg font-display font-semibold mb-6",children:"Dettagli Abitudini"}),p.jsx("div",{className:"space-y-3",children:r.habitStats.length===0?p.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Nessuna abitudine tracciata ancora."}):r.habitStats.map(a=>{const o=r.criticalHabits.find(s=>s.habitId===a.id);return p.jsxs("div",{className:"glass-card rounded-xl p-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 group",children:[p.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[p.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center bg-white/5 border border-white/10 text-xl group-hover:scale-110 transition-transform duration-300 shadow-lg shrink-0",style:{color:a.color,borderColor:`${a.color}40`,boxShadow:`0 0 20px ${a.color}10`},children:p.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:a.color}})}),p.jsxs("div",{className:"min-w-0",children:[p.jsx("span",{className:"font-semibold text-foreground text-lg truncate block",children:a.title}),p.jsx("div",{className:"h-1 w-20 bg-secondary rounded-full mt-1 overflow-hidden",children:p.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${a.completionRate}%`,backgroundColor:a.color}})})]})]}),p.jsxs("div",{className:"flex gap-4 sm:gap-8 text-sm text-muted-foreground w-full sm:w-auto justify-between sm:justify-end",children:[o&&o.worstDay!=="N/A"&&p.jsxs("div",{className:"flex flex-col items-end hidden md:flex",children:[p.jsx("span",{className:"text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5 text-destructive",children:"Worst"}),p.jsx("span",{className:"font-medium text-foreground",children:o.worstDay})]}),p.jsxs("div",{className:"flex flex-col items-end",children:[p.jsxs("span",{className:"text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5 flex items-center gap-1",children:[p.jsx(oo,{className:"w-3 h-3 text-yellow-500"})," Best"]}),p.jsxs("span",{className:"font-mono text-xl font-bold text-foreground",children:[a.longestStreak," ",p.jsx("span",{className:"text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),p.jsxs("div",{className:"flex flex-col items-end",children:[p.jsx("span",{className:"text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Serie"}),p.jsxs("span",{className:"font-mono text-xl font-bold text-foreground",children:[a.currentStreak," ",p.jsx("span",{className:"text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),p.jsxs("div",{className:"flex flex-col items-end",children:[p.jsx("span",{className:"text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Rate"}),p.jsxs("span",{className:"font-mono text-xl font-bold text-foreground",children:[a.completionRate,p.jsx("span",{className:"text-sm",children:"%"})]})]})]})]},a.id)})})]})]})};var Eh="Checkbox",[zfe,Fpe]=Ut(Eh),[qfe,mb]=zfe(Eh);function Hfe(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:a,form:o,name:s,onCheckedChange:c,required:l,value:u="on",internal_do_not_use_render:d}=t,[f,h]=Pn({prop:r,defaultProp:i??!1,onChange:c,caller:Eh}),[g,m]=x.useState(null),[v,b]=x.useState(null),w=x.useRef(!1),y=g?!!o||!!g.closest("form"):!0,O={checked:f,disabled:a,setChecked:h,control:g,setControl:m,name:s,form:o,value:u,hasConsumerStoppedPropagationRef:w,required:l,defaultChecked:yi(i)?!1:i,isFormControl:y,bubbleInput:v,setBubbleInput:b};return p.jsx(qfe,{scope:e,...O,children:Kfe(d)?d(O):n})}var K$="CheckboxTrigger",V$=x.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:a,value:o,disabled:s,checked:c,required:l,setControl:u,setChecked:d,hasConsumerStoppedPropagationRef:f,isFormControl:h,bubbleInput:g}=mb(K$,t),m=ge(i,u),v=x.useRef(c);return x.useEffect(()=>{const b=a==null?void 0:a.form;if(b){const w=()=>d(v.current);return b.addEventListener("reset",w),()=>b.removeEventListener("reset",w)}},[a,d]),p.jsx(oe.button,{type:"button",role:"checkbox","aria-checked":yi(c)?"mixed":c,"aria-required":l,"data-state":J$(c),"data-disabled":s?"":void 0,disabled:s,value:o,...n,ref:m,onKeyDown:ae(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:ae(r,b=>{d(w=>yi(w)?!0:!w),g&&h&&(f.current=b.isPropagationStopped(),f.current||b.stopPropagation())})})});V$.displayName=K$;var vb=x.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:c,onCheckedChange:l,form:u,...d}=t;return p.jsx(Hfe,{__scopeCheckbox:r,checked:i,defaultChecked:a,disabled:s,required:o,onCheckedChange:l,name:n,form:u,value:c,internal_do_not_use_render:({isFormControl:f})=>p.jsxs(p.Fragment,{children:[p.jsx(V$,{...d,ref:e,__scopeCheckbox:r}),f&&p.jsx(Q$,{__scopeCheckbox:r})]})})});vb.displayName=Eh;var G$="CheckboxIndicator",Y$=x.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,a=mb(G$,r);return p.jsx(cn,{present:n||yi(a.checked)||a.checked===!0,children:p.jsx(oe.span,{"data-state":J$(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Y$.displayName=G$;var X$="CheckboxBubbleInput",Q$=x.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:s,disabled:c,name:l,value:u,form:d,bubbleInput:f,setBubbleInput:h}=mb(X$,t),g=ge(r,h),m=Af(a),v=sf(n);x.useEffect(()=>{const w=f;if(!w)return;const y=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(y,"checked").set,S=!i.current;if(m!==a&&_){const A=new Event("click",{bubbles:S});w.indeterminate=yi(a),_.call(w,yi(a)?!1:a),w.dispatchEvent(A)}},[f,m,a,i]);const b=x.useRef(yi(a)?!1:a);return p.jsx(oe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:s,disabled:c,name:l,value:u,form:d,...e,tabIndex:-1,ref:g,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Q$.displayName=X$;function Kfe(t){return typeof t=="function"}function yi(t){return t==="indeterminate"}function J$(t){return yi(t)?"indeterminate":t?"checked":"unchecked"}const Z$=x.forwardRef(({className:t,...e},r)=>p.jsx(vb,{ref:r,className:Q("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:p.jsx(Y$,{className:Q("flex items-center justify-center text-current"),children:p.jsx(rf,{className:"h-4 w-4"})})}));Z$.displayName=vb.displayName;const lt=x.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:Q("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));lt.displayName="Card";const ut=x.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:Q("flex flex-col space-y-1.5 p-6",t),...e}));ut.displayName="CardHeader";const dt=x.forwardRef(({className:t,...e},r)=>p.jsx("h3",{ref:r,className:Q("text-2xl font-semibold leading-none tracking-tight",t),...e}));dt.displayName="CardTitle";const xu=x.forwardRef(({className:t,...e},r)=>p.jsx("p",{ref:r,className:Q("text-sm text-muted-foreground",t),...e}));xu.displayName="CardDescription";const ft=x.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:Q("p-6 pt-0",t),...e}));ft.displayName="CardContent";const Vfe=x.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:Q("flex items-center p-6 pt-0",t),...e}));Vfe.displayName="CardFooter";const ng={red:"Rosso",orange:"Arancione",yellow:"Giallo",blue:"Blu",purple:"Viola",pink:"Rosa",cyan:"Ciano"};function gb(){const t=ys(),{data:e,isLoading:r}=ko({queryKey:["goalCategorySettings"],queryFn:async()=>{const{data:{user:o}}=await we.auth.getUser();if(!o)return null;const{data:s,error:c}=await we.from("goal_category_settings").select("*").eq("user_id",o.id).single();return c&&c.code!=="PGRST116"&&console.error("Error fetching category settings:",c),s}}),n=bn({mutationFn:async o=>{const{data:{user:s}}=await we.auth.getUser();if(!s)throw new Error("Not authenticated");const{data:c}=await we.from("goal_category_settings").select("id").eq("user_id",s.id).single();if(c){const{error:l}=await we.from("goal_category_settings").update({mappings:o}).eq("id",c.id);if(l)throw l}else{const{error:l}=await we.from("goal_category_settings").insert({user_id:s.id,mappings:o});if(l)throw l}},onSuccess:()=>{t.invalidateQueries({queryKey:["longTermGoals"]}),t.invalidateQueries({queryKey:["goalCategorySettings"]}),Ye.success("Categorie aggiornate con successo")},onError:()=>{Ye.error("Errore durante l'aggiornamento delle categorie")}}),i=x.useMemo(()=>({...ng,...e==null?void 0:e.mappings}),[e]),a=o=>{var c;return o?((c=e==null?void 0:e.mappings)==null?void 0:c[o])||ng[o]||o:"Generale"};return{settings:e,isLoading:r,updateSettings:n.mutate,getLabel:a,categoryLabels:i}}function Gfe({year:t}){const{getLabel:e}=gb(),{data:r,isLoading:n}=ko({queryKey:["longTermGoals","stats",t],queryFn:async()=>{let S=[],A=0;const E=1e3;let j=!0;for(;j;){let T=we.from("long_term_goals").select("*");t!=="all"&&(T=T.eq("year",typeof t=="string"?parseInt(t):t));const{data:C,error:k}=await T.range(A,A+E-1);if(k)throw k;C&&C.length>0?(S=[...S,...C],C.length<E?j=!1:A+=E):j=!1}return S}});if(n)return p.jsx("div",{className:"flex justify-center p-8",children:p.jsx(Xa,{className:"w-8 h-8 animate-spin text-muted-foreground"})});if(!r||r.length===0)return p.jsxs("div",{className:"text-center p-12 border border-dashed border-white/10 rounded-xl text-muted-foreground",children:["Nessun dato disponibile per ",t==="all"?"il periodo selezionato":`il ${t}`,". Aggiungi qualche obiettivo!"]});const i=r.length,a=r.filter(S=>S.is_completed).length,o=Math.round(a/i*100)||0,s=r.length>0?Math.min(...r.map(S=>S.year)):new Date().getFullYear(),c={annual:r.filter(S=>S.type==="annual").length,monthly:r.filter(S=>S.type==="monthly").length,weekly:r.filter(S=>S.type==="weekly").length},l=[{type:"Annuale",total:c.annual,completed:r.filter(S=>S.type==="annual"&&S.is_completed).length},{type:"Mensile",total:c.monthly,completed:r.filter(S=>S.type==="monthly"&&S.is_completed).length},{type:"Settimanale",total:c.weekly,completed:r.filter(S=>S.type==="weekly"&&S.is_completed).length}].map(S=>({...S,rate:S.total>0?Math.round(S.completed/S.total*100):0})).sort((S,A)=>A.rate-S.rate||A.completed-S.completed),u=l[0],d={};r.forEach(S=>{const A=S.color||"null";d[A]||(d[A]={total:0,completed:0}),d[A].total++,S.is_completed&&d[A].completed++});const f=Object.entries(d).map(([S,A])=>({subject:e(S==="null"?null:S),A:Math.round(A.completed/A.total*100),fullMark:100,total:A.total})).sort((S,A)=>A.A-S.A),h=f.length>0?f[0]:null,g={red:"#f43f5e",orange:"#f97316",yellow:"#fbbf24",green:"#10b981",blue:"#2563eb",purple:"#7c3aed",pink:"#d946ef",cyan:"#06b6d4",null:"#525252"},m=Object.entries(d).map(([S,A])=>({name:e(S==="null"?null:S),value:A.total,fill:g[S]||"#888888"})).sort((S,A)=>A.value-S.value);if(t==="all"){const S={};r.forEach(T=>{S[T.year]||(S[T.year]={total:0,completed:0,rate:0}),S[T.year].total++,T.is_completed&&S[T.year].completed++});const A=Object.entries(S).map(([T,C])=>({year:T,total:C.total,completed:C.completed,rate:Math.round(C.completed/C.total*100)||0})).sort((T,C)=>parseInt(T.year)-parseInt(C.year)),E=[...A].sort((T,C)=>C.rate-T.rate||C.completed-T.completed)[0],j=[...A].sort((T,C)=>C.completed-T.completed)[0];return p.jsxs("div",{className:"space-y-8 animate-fade-in pb-10",children:[p.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[p.jsxs(lt,{className:"bg-gradient-to-br from-indigo-500/10 to-blue-600/10 border-indigo-500/20 shadow-lg shadow-indigo-500/5",children:[p.jsxs(ut,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(dt,{className:"text-sm font-medium text-indigo-400",children:"Totale Storico"}),p.jsx(Yi,{className:"h-4 w-4 text-indigo-500"})]}),p.jsxs(ft,{children:[p.jsx("div",{className:"text-3xl font-bold text-white",children:i}),p.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Obiettivi tracciati dal ",s]})]})]}),p.jsxs(lt,{className:"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 border-emerald-500/20 shadow-lg shadow-emerald-500/5",children:[p.jsxs(ut,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(dt,{className:"text-sm font-medium text-emerald-400",children:"Successo Globale"}),p.jsx(oo,{className:"h-4 w-4 text-emerald-500"})]}),p.jsxs(ft,{children:[p.jsxs("div",{className:"text-3xl font-bold text-white",children:[o,"%"]}),p.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a," obiettivi completati"]})]})]}),p.jsxs(lt,{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/20 shadow-lg shadow-amber-500/5",children:[p.jsxs(ut,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(dt,{className:"text-sm font-medium text-amber-400",children:"Anno Migliore"}),p.jsx(D1,{className:"h-4 w-4 text-amber-500"})]}),p.jsxs(ft,{children:[p.jsx("div",{className:"text-3xl font-bold text-white",children:(E==null?void 0:E.year)||"N/A"}),p.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[E==null?void 0:E.rate,"% completamento"]})]})]}),p.jsxs(lt,{className:"bg-gradient-to-br from-cyan-500/10 to-sky-500/10 border-cyan-500/20 shadow-lg shadow-cyan-500/5",children:[p.jsxs(ut,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(dt,{className:"text-sm font-medium text-cyan-400",children:"Anno Pi Produttivo"}),p.jsx(ER,{className:"h-4 w-4 text-cyan-500"})]}),p.jsxs(ft,{children:[p.jsx("div",{className:"text-3xl font-bold text-white",children:(j==null?void 0:j.year)||"N/A"}),p.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[j==null?void 0:j.total," obiettivi totali"]})]})]})]}),p.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[p.jsxs(lt,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm p-2",children:[p.jsxs(ut,{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Np,{className:"w-5 h-5 text-blue-500"}),p.jsx(dt,{children:"Progressione Annuale"})]}),p.jsx(xu,{children:"Confronto anno per anno del volume di obiettivi e completamenti"})]}),p.jsx(ft,{className:"h-[400px]",children:p.jsx(qr,{width:"100%",height:"100%",children:p.jsxs(QS,{data:A,margin:{top:20,right:20,bottom:20,left:20},children:[p.jsx(tc,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),p.jsx(Rr,{dataKey:"year",stroke:"#888888",fontSize:14,tickLine:!1,axisLine:!1}),p.jsx(ur,{yAxisId:"left",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),p.jsx(ur,{yAxisId:"right",orientation:"right",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,unit:"%",domain:[0,100]}),p.jsx(gt,{contentStyle:{backgroundColor:"#09090b",border:"1px solid #27272a",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.5)"},cursor:{fill:"#ffffff05"}}),p.jsx(mi,{wrapperStyle:{paddingTop:"20px"}}),p.jsx(fr,{yAxisId:"left",dataKey:"total",name:"Totale Obiettivi",fill:"#3b82f6",radius:[4,4,0,0],barSize:40,fillOpacity:.8}),p.jsx(fr,{yAxisId:"left",dataKey:"completed",name:"Completati",fill:"#10b981",radius:[4,4,0,0],barSize:40,fillOpacity:.8}),p.jsx(os,{yAxisId:"right",type:"monotone",dataKey:"rate",name:"Tasso Successo %",stroke:"#f59e0b",strokeWidth:3,dot:{r:4,strokeWidth:2},activeDot:{r:6}})]})})})]}),p.jsxs(lt,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[p.jsx(ut,{children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Yi,{className:"w-5 h-5 text-cyan-500"}),p.jsx(dt,{children:"Performance per Categoria (Storico)"})]})}),p.jsx(ft,{className:"h-[350px]",children:p.jsx(qr,{width:"100%",height:"100%",children:p.jsxs(rg,{cx:"50%",cy:"50%",outerRadius:"65%",data:f,children:[p.jsx(Ed,{stroke:"#ffffff20"}),p.jsx(_i,{dataKey:"subject",tick:{fill:"#a1a1aa",fontSize:13,fontWeight:500}}),p.jsx(Oa,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),p.jsx(Aa,{name:"Success Rate",dataKey:"A",stroke:"#06b6d4",fill:"#06b6d4",fillOpacity:.5}),p.jsx(gt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},formatter:T=>[`${T}%`,"Successo"]})]})})})]}),p.jsxs(lt,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[p.jsx(ut,{children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Tb,{className:"w-5 h-5 text-purple-500"}),p.jsx(dt,{children:"Distribuzione Tipologie"})]})}),p.jsx(ft,{className:"h-[350px]",children:p.jsx(qr,{width:"100%",height:"100%",children:p.jsxs(q$,{data:l,layout:"vertical",margin:{left:20},children:[p.jsx(tc,{strokeDasharray:"3 3",stroke:"#ffffff10",horizontal:!0,vertical:!1}),p.jsx(Rr,{type:"number",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),p.jsx(ur,{dataKey:"type",type:"category",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,width:80}),p.jsx(gt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{fill:"#ffffff05"}}),p.jsx(fr,{dataKey:"rate",name:"Successo %",fill:"#8b5cf6",radius:[0,4,4,0],barSize:30})]})})})]})]})]})}const b=typeof t=="string"?parseInt(t):t,w=Array.from({length:12},(S,A)=>({name:new Date(b,A).toLocaleString("it-IT",{month:"short"}),monthIndex:A+1,total:0,completed:0,rate:0,cumulativeTotal:0,cumulativeCompleted:0}));let y=0,O=0;r.forEach(S=>{let A=0;S.month&&(A=S.month-1),A<0&&(A=0),A>11&&(A=11),w[A].total++,S.is_completed&&w[A].completed++}),w.forEach(S=>{S.rate=S.total>0?Math.round(S.completed/S.total*100):0,y+=S.total,O+=S.completed,S.cumulativeTotal=y,S.cumulativeCompleted=O});const _=[...w].filter(S=>S.total>0).sort((S,A)=>A.rate-S.rate||A.completed-S.completed)[0];return p.jsxs("div",{className:"space-y-6 animate-fade-in pb-10",children:[p.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[p.jsxs(lt,{className:"bg-gradient-to-br from-purple-500/10 to-blue-500/10 border-purple-500/20",children:[p.jsxs(ut,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(dt,{className:"text-sm font-medium text-purple-400",children:"Punto di Forza"}),p.jsx(YR,{className:"h-4 w-4 text-purple-500"})]}),p.jsxs(ft,{children:[p.jsx("div",{className:"text-2xl font-bold text-white",children:(h==null?void 0:h.subject)||"N/A"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:h?`${h.A}% di completamento`:"Nessun dato"})]})]}),p.jsxs(lt,{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/20",children:[p.jsxs(ut,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(dt,{className:"text-sm font-medium text-amber-400",children:"Mese Migliore"}),p.jsx(oo,{className:"h-4 w-4 text-amber-500"})]}),p.jsxs(ft,{children:[p.jsx("div",{className:"text-2xl font-bold text-white",children:(_==null?void 0:_.name)||"N/A"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:_?`${_.rate}% di successo (${_.completed}/${_.total})`:"Nessuna attivit"})]})]}),p.jsxs(lt,{className:"bg-gradient-to-br from-emerald-500/10 to-cyan-500/10 border-emerald-500/20",children:[p.jsxs(ut,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(dt,{className:"text-sm font-medium text-emerald-400",children:"Tipologia Efficace"}),p.jsx(Tb,{className:"h-4 w-4 text-emerald-500"})]}),p.jsxs(ft,{children:[p.jsx("div",{className:"text-2xl font-bold text-white capitalize",children:u.total>0?u.type:"N/A"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:u.total>0?`${u.rate}% di successo`:"Dati insufficienti"})]})]})]}),p.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[p.jsxs(lt,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[p.jsxs(ut,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(dt,{className:"text-sm font-medium text-muted-foreground",children:"Totale"}),p.jsx(Yi,{className:"h-4 w-4 text-primary"})]}),p.jsx(ft,{children:p.jsx("div",{className:"text-2xl font-bold text-white",children:i})})]}),p.jsxs(lt,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[p.jsxs(ut,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(dt,{className:"text-sm font-medium text-muted-foreground",children:"Completati"}),p.jsx(NR,{className:"h-4 w-4 text-green-500"})]}),p.jsx(ft,{children:p.jsx("div",{className:"text-2xl font-bold text-white",children:a})})]}),p.jsxs(lt,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[p.jsxs(ut,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(dt,{className:"text-sm font-medium text-muted-foreground",children:"Successo"}),p.jsx(oo,{className:"h-4 w-4 text-yellow-500"})]}),p.jsx(ft,{children:p.jsxs("div",{className:"text-2xl font-bold text-white",children:[o,"%"]})})]}),p.jsxs(lt,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[p.jsxs(ut,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(dt,{className:"text-sm font-medium text-muted-foreground",children:"Trend"}),p.jsx(Np,{className:"h-4 w-4 text-blue-500"})]}),p.jsx(ft,{children:p.jsx("div",{className:"text-2xl font-bold text-white",children:O>0?"In Crescita":"Stabile"})})]})]}),p.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[p.jsxs(lt,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm",children:[p.jsxs(ut,{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(zR,{className:"w-5 h-5 text-orange-500"}),p.jsx(dt,{children:"Velocit di Esecuzione (Cumulativa)"})]}),p.jsx(xu,{children:"Confronto tra obiettivi pianificati e completati nel tempo"})]}),p.jsx(ft,{className:"h-[350px]",children:p.jsx(qr,{width:"100%",height:"100%",children:p.jsxs(H$,{data:w,children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.3}),p.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]}),p.jsxs("linearGradient",{id:"colorCompleted",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.3}),p.jsx("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0})]})]}),p.jsx(Rr,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),p.jsx(ur,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),p.jsx(tc,{strokeDasharray:"3 3",stroke:"#ffffff10"}),p.jsx(gt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),p.jsx(Lr,{type:"monotone",dataKey:"cumulativeTotal",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorTotal)",name:"Obiettivi Totali"}),p.jsx(Lr,{type:"monotone",dataKey:"cumulativeCompleted",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorCompleted)",name:"Obiettivi Completati"})]})})})]}),p.jsxs(lt,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[p.jsxs(ut,{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Yi,{className:"w-5 h-5 text-cyan-500"}),p.jsx(dt,{children:"Performance Categorie"})]}),p.jsx(xu,{children:"Tasso di successo per categoria"})]}),p.jsx(ft,{className:"h-[350px]",children:p.jsx(qr,{width:"100%",height:"100%",children:p.jsxs(rg,{cx:"50%",cy:"50%",outerRadius:"65%",data:f,children:[p.jsx(Ed,{stroke:"#ffffff20"}),p.jsx(_i,{dataKey:"subject",tick:{fill:"#a1a1aa",fontSize:13,fontWeight:500}}),p.jsx(Oa,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),p.jsx(Aa,{name:"Success Rate",dataKey:"A",stroke:"#06b6d4",fill:"#06b6d4",fillOpacity:.5}),p.jsx(gt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},formatter:S=>[`${S}%`,"Successo"]})]})})})]})]}),p.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[p.jsxs(lt,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[p.jsx(ut,{children:p.jsx(dt,{children:"Attivit Mensile"})}),p.jsx(ft,{className:"h-[300px]",children:p.jsx(qr,{width:"100%",height:"100%",children:p.jsxs(QS,{data:w,children:[p.jsx(Rr,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),p.jsx(ur,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),p.jsx(gt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),p.jsx(tc,{stroke:"#ffffff10"}),p.jsx(fr,{dataKey:"total",barSize:20,fill:"#413ea0",radius:[4,4,0,0],name:"Creati"}),p.jsx(os,{type:"monotone",dataKey:"completed",stroke:"#ff7300",strokeWidth:2,name:"Completati"})]})})})]}),p.jsxs(lt,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[p.jsx(ut,{children:p.jsx(dt,{children:"Distribuzione Categorie"})}),p.jsx(ft,{className:"h-[300px]",children:p.jsx(qr,{width:"100%",height:"100%",children:p.jsxs(Mfe,{children:[p.jsx(Fn,{data:m,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:m.map((S,A)=>p.jsx(ks,{fill:S.fill},`cell-${A}`))}),p.jsx(gt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),p.jsx(mi,{formatter:(S,A)=>p.jsx("span",{style:{color:"#ccc"},children:S})})]})})})]})]})]})}const Yfe={red:"bg-rose-500",orange:"bg-orange-500",yellow:"bg-amber-400",blue:"bg-blue-600",purple:"bg-violet-600",pink:"bg-fuchsia-500",cyan:"bg-cyan-500"};function Xfe(){const{categoryLabels:t,updateSettings:e}=gb(),[r,n]=x.useState(t),[i,a]=x.useState(!1);x.useEffect(()=>{i&&n(t)},[i]);const o=()=>{e(r),a(!1)},s=(c,l)=>{n(u=>({...u,[c]:l}))};return p.jsxs(ey,{open:i,onOpenChange:a,children:[p.jsx(VE,{asChild:!0,children:p.jsx(it,{variant:"outline",size:"icon",title:"Impostazioni Categorie",children:p.jsx(HR,{className:"w-4 h-4"})})}),p.jsxs(xf,{className:"sm:max-w-[425px]",children:[p.jsxs(_f,{children:[p.jsx(Sf,{children:"Personalizza Categorie"}),p.jsx(Of,{children:"Assegna un nome personalizzato ad ogni colore per organizzare meglio i tuoi obiettivi."})]}),p.jsx("div",{className:"grid gap-4 py-4",children:Object.entries(ng).map(([c,l])=>p.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[p.jsx("div",{className:"flex items-center gap-2 col-span-1",children:p.jsx("div",{className:Q("w-4 h-4 rounded-full",Yfe[c])})}),p.jsx(Ro,{id:c,value:r[c]||"",placeholder:l,onChange:u=>s(c,u.target.value),className:"col-span-3 h-9"})]},c))}),p.jsx(YE,{children:p.jsx(it,{type:"submit",onClick:o,children:"Salva Modifiche"})})]})]})}function Qfe(){const t=ys(),[e,r]=x.useState(!1),[n,i]=x.useState(!1);return{exportBackup:async(s={scope:"all"})=>{r(!0);try{const{data:{user:c}}=await we.auth.getUser();if(!c)throw new Error("Not authenticated");let l=we.from("long_term_goals").select("*").eq("user_id",c.id);s.scope==="year"&&s.year&&(l=l.eq("year",s.year));const{data:u,error:d}=await l;if(d)throw d;const{data:f,error:h}=await we.from("goal_category_settings").select("*").eq("user_id",c.id).single();if(h&&h.code!=="PGRST116")throw h;const g={version:1,timestamp:new Date().toISOString(),goals:u||[],settings:f||null},m=s.scope==="all"?`habit_tracker_FULL_backup_${new Date().toISOString().split("T")[0]}.json`:`habit_tracker_${s.year}_backup.json`,v=new Blob([JSON.stringify(g,null,2)],{type:"application/json"}),b=URL.createObjectURL(v),w=document.createElement("a");w.href=b,w.download=m,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(b),Ye.success("Backup scaricato con successo")}catch(c){console.error("Export failed:",c),Ye.error(`Errore durante l'export: ${c.message}`)}finally{r(!1)}},importBackup:async s=>(i(!0),new Promise(c=>{const l=new FileReader;l.onload=async u=>{var d;try{const f=(d=u.target)==null?void 0:d.result;if(!f){c(null);return}const h=JSON.parse(f);if(!h.version||!Array.isArray(h.goals))throw new Error("Formato file non valido (manca versione o goals)");const{data:{user:g}}=await we.auth.getUser();if(!g)throw new Error("Not authenticated");const{data:m,error:v}=await we.from("long_term_goals").select("*").eq("user_id",g.id);if(v)throw v;const b=new Map(m==null?void 0:m.map(E=>[E.id,E])),w=new Set,y=[],O=[];let _=0;const S=[];for(const E of h.goals){let j={...E,user_id:g.id},T=b.get(j.id);if(!T){const C=m==null?void 0:m.find(k=>!w.has(k.id)&&k.title===j.title&&k.type===j.type&&k.year===j.year);C&&(T=C,j.id=C.id)}T?(w.add(T.id),T.title!==j.title||T.is_completed!==j.is_completed||T.type!==j.type||T.year!==j.year||T.month!==j.month||T.week_number!==j.week_number||T.color!==j.color?(O.push(j),S.push(j)):_++):(y.push(j),S.push(j))}if(S.length>0){const{error:E}=await we.from("long_term_goals").upsert(S);if(E)throw E}let A=!1;if(h.settings){const{data:E}=await we.from("goal_category_settings").select("*").eq("user_id",g.id).single(),j={user_id:g.id,mappings:h.settings.mappings};(!E||JSON.stringify(E.mappings)!==JSON.stringify(j.mappings))&&(E?await we.from("goal_category_settings").update({mappings:j.mappings}).eq("id",E.id):await we.from("goal_category_settings").insert(j),A=!0)}await t.invalidateQueries({queryKey:["longTermGoals"]}),await t.invalidateQueries({queryKey:["goalCategorySettings"]}),c({totalProcessed:h.goals.length,restored:y,updated:O,unchanged:_,settingsUpdated:A})}catch(f){console.error("Import failed:",f),Ye.error(`Errore durante l'importazione: ${f.message}`),c(null)}finally{i(!1)}},l.readAsText(s)})),isExporting:e,isImporting:n}}var yb="Radio",[Jfe,eN]=Ut(yb),[Zfe,ehe]=Jfe(yb),tN=x.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:a,disabled:o,value:s="on",onCheck:c,form:l,...u}=t,[d,f]=x.useState(null),h=ge(e,v=>f(v)),g=x.useRef(!1),m=d?l||!!d.closest("form"):!0;return p.jsxs(Zfe,{scope:r,checked:i,disabled:o,children:[p.jsx(oe.button,{type:"button",role:"radio","aria-checked":i,"data-state":aN(i),"data-disabled":o?"":void 0,disabled:o,value:s,...u,ref:h,onClick:ae(t.onClick,v=>{i||c==null||c(),m&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),m&&p.jsx(iN,{control:d,bubbles:!g.current,name:n,value:s,checked:i,required:a,disabled:o,form:l,style:{transform:"translateX(-100%)"}})]})});tN.displayName=yb;var rN="RadioIndicator",nN=x.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...i}=t,a=ehe(rN,r);return p.jsx(cn,{present:n||a.checked,children:p.jsx(oe.span,{"data-state":aN(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e})})});nN.displayName=rN;var the="RadioBubbleInput",iN=x.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const o=x.useRef(null),s=ge(o,a),c=Af(r),l=sf(e);return x.useEffect(()=>{const u=o.current;if(!u)return;const d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&h){const g=new Event("click",{bubbles:n});h.call(u,r),u.dispatchEvent(g)}},[c,r,n]),p.jsx(oe.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});iN.displayName=the;function aN(t){return t?"checked":"unchecked"}var rhe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ph="RadioGroup",[nhe,Upe]=Ut(Ph,[$f,eN]),oN=$f(),sN=eN(),[ihe,ahe]=nhe(Ph),cN=x.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:a,required:o=!1,disabled:s=!1,orientation:c,dir:l,loop:u=!0,onValueChange:d,...f}=t,h=oN(r),g=vl(l),[m,v]=Pn({prop:a,defaultProp:i??null,onChange:d,caller:Ph});return p.jsx(ihe,{scope:r,name:n,required:o,disabled:s,value:m,onValueChange:v,children:p.jsx(_j,{asChild:!0,...h,orientation:c,dir:g,loop:u,children:p.jsx(oe.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":s?"":void 0,dir:g,...f,ref:e})})})});cN.displayName=Ph;var lN="RadioGroupItem",uN=x.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...i}=t,a=ahe(lN,r),o=a.disabled||n,s=oN(r),c=sN(r),l=x.useRef(null),u=ge(e,l),d=a.value===i.value,f=x.useRef(!1);return x.useEffect(()=>{const h=m=>{rhe.includes(m.key)&&(f.current=!0)},g=()=>f.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",g)}},[]),p.jsx(Sj,{asChild:!0,...s,focusable:!o,active:d,children:p.jsx(tN,{disabled:o,required:a.required,checked:d,...c,...i,name:a.name,ref:u,onCheck:()=>a.onValueChange(i.value),onKeyDown:ae(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:ae(i.onFocus,()=>{var h;f.current&&((h=l.current)==null||h.click())})})})});uN.displayName=lN;var ohe="RadioGroupIndicator",dN=x.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,i=sN(r);return p.jsx(nN,{...i,...n,ref:e})});dN.displayName=ohe;var fN=cN,hN=uN,she=dN;const pN=x.forwardRef(({className:t,...e},r)=>p.jsx(fN,{className:Q("grid gap-2",t),...e,ref:r}));pN.displayName=fN.displayName;const ig=x.forwardRef(({className:t,...e},r)=>p.jsx(hN,{ref:r,className:Q("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:p.jsx(she,{className:"flex items-center justify-center",children:p.jsx(RR,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ig.displayName=hN.displayName;function che(){var q;const[t,e]=x.useState(new Date().getFullYear().toString()),[r,n]=x.useState(new Date().getMonth()+1),[i,a]=x.useState(PF(new Date,{weekStartsOn:1})),[o,s]=x.useState("weekly"),[c,l]=x.useState("all"),[u,d]=x.useState(null),[f,h]=x.useState(""),g=ys(),{getLabel:m}=gb(),{isPrivacyMode:v}=Ug(),b=I=>{var G;return((G=[{value:null,class:"bg-card/20 border-white/5"},{value:"red",class:"bg-rose-500/15 border-rose-500/30 hover:bg-rose-500/25"},{value:"orange",class:"bg-orange-500/15 border-orange-500/30 hover:bg-orange-500/25"},{value:"yellow",class:"bg-amber-400/15 border-amber-400/30 hover:bg-amber-400/25"},{value:"blue",class:"bg-blue-600/15 border-blue-600/30 hover:bg-blue-600/25"},{value:"purple",class:"bg-violet-600/15 border-violet-600/30 hover:bg-violet-600/25"},{value:"pink",class:"bg-fuchsia-500/15 border-fuchsia-500/30 hover:bg-fuchsia-500/25"},{value:"cyan",class:"bg-cyan-500/15 border-cyan-500/30 hover:bg-cyan-500/25"}].find(fe=>fe.value===I))==null?void 0:G.class)||"bg-card/20 border-white/5 hover:bg-card/40"},w=[{value:"red",bg:"bg-rose-500"},{value:"orange",bg:"bg-orange-500"},{value:"yellow",bg:"bg-amber-400"},{value:"green",bg:"bg-emerald-500"},{value:"blue",bg:"bg-blue-600"},{value:"purple",bg:"bg-violet-600"},{value:"pink",bg:"bg-fuchsia-500"},{value:"cyan",bg:"bg-cyan-500"}].filter(I=>I.value!=="green"),{data:y,isLoading:O}=ko({queryKey:["longTermGoals",o,t,r,i],queryFn:async()=>{let I=we.from("long_term_goals").select("*").eq("type",o).order("is_completed",{ascending:!0}).order("color",{ascending:!0,nullsFirst:!1}).order("created_at",{ascending:!0});t!=="all"&&(I=I.eq("year",parseInt(t))),o==="monthly"?I=I.eq("month",r):o==="weekly"&&(I=I.eq("month",r).eq("week_number",i));const{data:H,error:G}=await I;if(G)throw G;return H},enabled:o!=="stats"}),_=bn({mutationFn:async I=>{const{data:{user:H}}=await we.auth.getUser();if(!H)throw new Error("Not authenticated");const G={user_id:H.id,title:I,type:o,year:t==="all"?new Date().getFullYear():parseInt(t),month:o!=="annual"?r:null,week_number:o==="weekly"?i:null,is_completed:!1},{data:fe,error:X}=await we.from("long_term_goals").insert(G).select().single();if(X)throw X;return fe},onSuccess:()=>{h(""),g.invalidateQueries({queryKey:["longTermGoals"]}),Ye.success("Obiettivo creato!")},onError:I=>{Ye.error(`Errore durante la creazione: ${I.message}`)}}),S=bn({mutationFn:async({id:I,is_completed:H})=>{const{error:G}=await we.from("long_term_goals").update({is_completed:H}).eq("id",I);if(G)throw G},onSuccess:()=>{g.invalidateQueries({queryKey:["longTermGoals"]})}}),A=bn({mutationFn:async({id:I,color:H})=>{const{error:G}=await we.from("long_term_goals").update({color:H}).eq("id",I);if(G)throw G},onSuccess:()=>{g.invalidateQueries({queryKey:["longTermGoals"]})},onError:()=>{Ye.error("Errore aggiornamento colore")}}),E=bn({mutationFn:async I=>{const{error:H}=await we.from("long_term_goals").delete().eq("id",I);if(H)throw H},onSuccess:()=>{g.invalidateQueries({queryKey:["longTermGoals"]}),Ye.success("Obiettivo eliminato")}}),j=I=>{I.preventDefault(),f.trim()&&_.mutate(f)},T=x.useRef(null),{exportBackup:C,importBackup:k,isExporting:L,isImporting:R}=Qfe(),B=()=>{var I;(I=T.current)==null||I.click()},$=async I=>{var fe;const H=(fe=I.target.files)==null?void 0:fe[0];if(!H)return;const G=await k(H);G&&d(G),T.current&&(T.current.value="")},M=[{value:1,label:"Gennaio"},{value:2,label:"Febbraio"},{value:3,label:"Marzo"},{value:4,label:"Aprile"},{value:5,label:"Maggio"},{value:6,label:"Giugno"},{value:7,label:"Luglio"},{value:8,label:"Agosto"},{value:9,label:"Settembre"},{value:10,label:"Ottobre"},{value:11,label:"Novembre"},{value:12,label:"Dicembre"}],{data:F}=ko({queryKey:["longTermGoals","minYear"],queryFn:async()=>{const{data:I,error:H}=await we.from("long_term_goals").select("year").order("year",{ascending:!0}).limit(1).single();return H&&H.code!=="PGRST116"&&console.error("Error fetching min year:",H),(I==null?void 0:I.year)||2022}}),D=F||2022,z=new Date().getFullYear(),Y=Array.from({length:z+5-D+1},(I,H)=>D+H);return p.jsxs("div",{className:"space-y-6 animate-fade-in p-2 md:p-0",children:[p.jsx(qu,{open:!!u,onOpenChange:I=>!I&&d(null),children:p.jsxs(yc,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[p.jsxs(bc,{children:[p.jsx(xc,{children:"Rapporto Importazione"}),p.jsx(_c,{children:"Ecco il dettaglio delle modifiche apportate ai tuoi dati."})]}),p.jsxs("div",{className:"space-y-6 py-4",children:[p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-xl flex flex-col items-center justify-center text-center",children:[p.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:(u==null?void 0:u.restored.length)||0}),p.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Nuovi"})]}),p.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/20 rounded-xl flex flex-col items-center justify-center text-center",children:[p.jsx("span",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400",children:(u==null?void 0:u.updated.length)||0}),p.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Modificati"})]}),p.jsxs("div",{className:"p-4 bg-slate-500/10 border border-slate-500/20 rounded-xl flex flex-col items-center justify-center text-center opacity-70",children:[p.jsx("span",{className:"text-3xl font-bold text-slate-600 dark:text-slate-400",children:(u==null?void 0:u.unchanged)||0}),p.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Invariati"})]})]}),(u==null?void 0:u.settingsUpdated)&&p.jsxs("div",{className:"flex items-center gap-3 text-sm text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20 dark:text-yellow-400 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[p.jsx("span",{className:"flex h-2 w-2 rounded-full bg-yellow-500 animate-pulse"}),p.jsx("span",{children:"Le impostazioni delle categorie sono state aggiornate con successo."})]}),p.jsxs("div",{className:"space-y-6",children:[(u==null?void 0:u.restored)&&u.restored.length>0&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-green-600 dark:text-green-400",children:[p.jsx("div",{className:"w-2 h-2 rounded-full bg-current"}),"Elementi Aggiunti / Ripristinati"]}),p.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-green-100 dark:border-green-900/30",children:Object.entries(u.restored.reduce((I,H)=>{const G=m(H.color||"default");return I[G]||(I[G]=[]),I[G].push(H),I},{})).map(([I,H])=>p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"text-xs font-bold uppercase text-muted-foreground tracking-widest",children:I}),p.jsx("div",{className:"grid gap-2",children:H.map(G=>p.jsxs("div",{className:"bg-secondary/40 p-3 rounded-md flex justify-between items-start gap-3 text-sm",children:[p.jsx("span",{className:"font-medium",children:G.title}),p.jsxs("span",{className:"shrink-0 text-xs px-2 py-0.5 bg-background rounded border opacity-70",children:[G.year,"  ",G.type]})]},G.id))})]},I))})]}),(u==null?void 0:u.updated)&&u.updated.length>0&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-amber-600 dark:text-amber-400",children:[p.jsx("div",{className:"w-2 h-2 rounded-full bg-current"}),"Elementi Aggiornati"]}),p.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-amber-100 dark:border-amber-900/30",children:Object.entries(u.updated.reduce((I,H)=>{const G=m(H.color||"default");return I[G]||(I[G]=[]),I[G].push(H),I},{})).map(([I,H])=>p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"text-xs font-bold uppercase text-muted-foreground tracking-widest",children:I}),p.jsx("div",{className:"grid gap-2",children:H.map(G=>p.jsxs("div",{className:"bg-secondary/40 p-3 rounded-md flex justify-between items-start gap-3 text-sm",children:[p.jsx("span",{className:"font-medium",children:G.title}),p.jsxs("span",{className:"shrink-0 text-xs px-2 py-0.5 bg-background rounded border opacity-70",children:[G.year,"  ",G.type]})]},G.id))})]},I))})]})]})]}),p.jsx(wc,{children:p.jsx(Sc,{onClick:()=>d(null),children:"Chiudi Report"})})]})}),p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto w-full md:w-auto pb-2 md:pb-0",children:[p.jsxs(Zs,{value:t,onValueChange:I=>e(I),children:[p.jsx(Za,{className:"w-[120px]",children:p.jsx(yu,{placeholder:"Anno"})}),p.jsxs(eo,{children:[p.jsxs(Gn,{value:"all",className:"font-bold text-primary",children:["Dal ",D]}),Y.map(I=>p.jsx(Gn,{value:I.toString(),className:Q(I<z&&"text-muted-foreground italic"),children:I},I))]})]}),(o==="monthly"||o==="weekly")&&p.jsxs(Zs,{value:r.toString(),onValueChange:I=>{n(parseInt(I)),a(1)},children:[p.jsx(Za,{className:"w-[130px]",children:p.jsx(yu,{placeholder:"Mese"})}),p.jsx(eo,{children:M.map(I=>p.jsx(Gn,{value:I.value.toString(),className:Q(t!=="all"&&parseInt(t)<z||t===z.toString()&&I.value<new Date().getMonth()+1&&"text-muted-foreground italic"),children:I.label},I.value))})]}),o==="weekly"&&p.jsxs(Zs,{value:i.toString(),onValueChange:I=>a(parseInt(I)),children:[p.jsx(Za,{className:"w-[120px]",children:p.jsx(yu,{placeholder:"Settimana"})}),p.jsx(eo,{children:Array.from({length:TF(new Date(t==="all"?z:parseInt(t),r-1,1),{weekStartsOn:1})},(I,H)=>H+1).map(I=>p.jsxs(Gn,{value:I.toString(),className:Q(t!=="all"&&parseInt(t)<z||t===z.toString()&&r<new Date().getMonth()+1&&"text-muted-foreground italic"),children:["Settimana ",I]},I))})]})]}),p.jsxs("div",{className:"flex bg-secondary/50 p-1 rounded-lg gap-1 overflow-x-auto w-full md:w-auto",children:[p.jsx(it,{variant:o==="annual"?"default":"outline",onClick:()=>s("annual"),className:"whitespace-nowrap",children:"Annuale"}),p.jsx(it,{variant:o==="monthly"?"default":"outline",onClick:()=>s("monthly"),className:"whitespace-nowrap",children:"Mensile"}),p.jsx(it,{variant:o==="weekly"?"default":"outline",onClick:()=>s("weekly"),className:"whitespace-nowrap",children:"Settimanale"}),p.jsxs(it,{variant:o==="stats"?"default":"outline",onClick:()=>s("stats"),className:"whitespace-nowrap gap-2",children:[p.jsx(L1,{className:"w-4 h-4"}),"Statistiche"]})]}),p.jsxs("div",{className:"flex gap-2 flex-wrap sm:flex-nowrap",children:[p.jsxs(qu,{children:[p.jsx(oy,{asChild:!0,children:p.jsx(it,{variant:"outline",size:"icon",title:"Esporta Backup (JSON)",children:p.jsx(W1,{className:"w-4 h-4"})})}),p.jsxs(yc,{className:"sm:max-w-md",children:[p.jsxs(bc,{children:[p.jsx(xc,{children:"Backup Obiettivi"}),p.jsx(_c,{children:"Crea un backup dei tuoi obiettivi e impostazioni. I file sono in formato JSON."})]}),p.jsx("div",{className:"py-4",children:p.jsxs(pN,{value:c,onValueChange:I=>l(I),children:[p.jsxs("div",{className:"flex items-center space-x-2 border p-3 rounded-lg hover:bg-accent cursor-pointer",onClick:()=>l("all"),children:[p.jsx(ig,{value:"all",id:"r1"}),p.jsxs(Io,{htmlFor:"r1",className:"cursor-pointer flex-1",children:[p.jsx("div",{className:"font-medium",children:"Esporta Tutto"}),p.jsx("div",{className:"text-xs text-muted-foreground",children:"Tutti gli anni, mesi e impostazioni"})]})]}),p.jsxs("div",{className:"flex items-center space-x-2 border p-3 rounded-lg hover:bg-accent cursor-pointer",onClick:()=>l("year"),children:[p.jsx(ig,{value:"year",id:"r2"}),p.jsxs(Io,{htmlFor:"r2",className:"cursor-pointer flex-1",children:[p.jsxs("div",{className:"font-medium",children:["Solo ",t==="all"?z:t]}),p.jsx("div",{className:"text-xs text-muted-foreground",children:"Solo obiettivi di questo anno e impostazioni"})]})]})]})}),p.jsxs(wc,{children:[p.jsx(kf,{children:"Annulla"}),p.jsxs(Sc,{onClick:()=>C({scope:c,year:t==="all"?z:parseInt(t)}),disabled:L,children:[L?p.jsx(Xa,{className:"w-4 h-4 animate-spin mr-2"}):null,"Scarica Backup"]})]})]})]}),p.jsx(it,{variant:"outline",size:"icon",title:"Ripristina da Backup (JSON)",onClick:B,disabled:R,children:R?p.jsx(Xa,{className:"w-4 h-4 animate-spin"}):p.jsx(GR,{className:"w-4 h-4"})}),p.jsx("input",{type:"file",ref:T,onChange:$,accept:".json",className:"hidden"}),p.jsx(Xfe,{})]})]}),p.jsx("div",{className:Q("text-2xl font-bold tracking-tight text-white flex items-center gap-3 transition-all duration-300",v&&o!=="stats"&&"blur-sm"),children:o==="stats"?p.jsxs("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400",children:["Analytics ",t==="all"?`Dal ${D} al ${z}`:t]}):p.jsxs(p.Fragment,{children:[o==="annual"&&p.jsx("span",{className:"text-primary",children:t==="all"?"Tutti gli anni":t}),o==="monthly"&&p.jsx("span",{className:"text-blue-400",children:(q=M.find(I=>I.value===r))==null?void 0:q.label}),o==="weekly"&&p.jsxs("span",{className:"text-purple-400",children:["Settimana ",i]}),p.jsx("span",{className:"text-muted-foreground text-lg font-normal",children:o==="annual"?"Obiettivi Annuali":o==="monthly"?"Obiettivi Mensili":"Obiettivi Settimanali"})]})}),o==="stats"?p.jsx(Gfe,{year:t}):p.jsxs("div",{className:Q("transition-all duration-300",v&&"blur-sm"),children:[p.jsxs("form",{onSubmit:j,className:"flex gap-2",children:[p.jsx(Ro,{className:"flex-1 bg-background/50",placeholder:`Aggiungi obiettivo ${o==="annual"?"annuale":o==="monthly"?"mensile":"settimanale"}...`,value:f,onChange:I=>h(I.target.value)}),p.jsx(it,{type:"submit",disabled:_.isPending,children:_.isPending?p.jsx(Xa,{className:"w-4 h-4 animate-spin"}):p.jsx($p,{className:"w-4 h-4"})})]}),p.jsx("div",{className:"space-y-2 mt-2",children:O?p.jsx("div",{className:"flex justify-center p-8 text-muted-foreground",children:p.jsx(Xa,{className:"w-6 h-6 animate-spin"})}):(y==null?void 0:y.length)===0?p.jsx("div",{className:"text-center p-8 border border-dashed border-white/10 rounded-xl text-muted-foreground",children:"Nessun obiettivo impostato per questo periodo."}):y==null?void 0:y.map((I,H)=>{const G=I.is_completed&&(H===0||!y[H-1].is_completed);return p.jsxs("div",{children:[G&&H>0&&p.jsxs("div",{className:"flex items-center gap-4 py-6",children:[p.jsx("div",{className:"h-px bg-white/10 flex-1"}),p.jsx("span",{className:"text-xs font-medium text-white/40 uppercase tracking-widest",children:"Completati"}),p.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),p.jsxs("div",{className:Q("group flex items-center gap-3 p-4 rounded-xl border transition-all",I.is_completed?"opacity-60 bg-green-500/5 border-green-500/10":b(I.color)),children:[p.jsx(Z$,{checked:I.is_completed,onCheckedChange:fe=>S.mutate({id:I.id,is_completed:fe}),className:"w-5 h-5 border-white/20 data-[state=checked]:bg-green-500 data-[state=checked]:border-green-500"}),p.jsx("span",{className:Q("flex-1 font-medium transition-all",I.is_completed&&"line-through text-muted-foreground"),children:I.title}),p.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[p.jsxs(Zs,{value:I.color||"null",onValueChange:fe=>A.mutate({id:I.id,color:fe==="null"?null:fe}),children:[p.jsx(Za,{className:"w-[30px] h-[30px] p-0 border-0 bg-transparent focus:ring-0",children:p.jsx("div",{className:Q("w-4 h-4 rounded-full",{"bg-white/20":!I.color,"bg-rose-500":I.color==="red","bg-orange-500":I.color==="orange","bg-amber-400":I.color==="yellow","bg-blue-600":I.color==="blue","bg-violet-600":I.color==="purple","bg-fuchsia-500":I.color==="pink","bg-cyan-500":I.color==="cyan"})})}),p.jsxs(eo,{align:"end",children:[p.jsx(Gn,{value:"null",children:"Nessun Colore"}),w.map(fe=>p.jsx(Gn,{value:fe.value,children:m(fe.value)},fe.value))]})]}),p.jsx(it,{variant:"ghost",size:"icon",className:"text-destructive hover:bg-destructive/10 hover:text-destructive h-8 w-8",onClick:()=>E.mutate(I.id),children:p.jsx(dg,{className:"w-4 h-4"})})]})]})]},I.id)})})]})]})}const lhe=()=>p.jsxs("div",{className:"flex-1 min-h-dvh flex flex-col pt-8 pb-12 px-4 sm:px-8 animate-fade-in relative z-10 w-full max-w-[1200px] mx-auto",children:[p.jsx("div",{className:"fixed top-[-20%] right-[-10%] w-[50%] h-[50%] bg-purple-500/5 blur-[120px] rounded-full pointer-events-none -z-10"}),p.jsx("div",{className:"mb-8 flex items-center justify-between",children:p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Macro Obiettivi"}),p.jsx("p",{className:"text-muted-foreground",children:"Pianificazione a lungo termine."})]})}),p.jsx("div",{className:"glass-panel p-6 rounded-2xl min-h-[600px]",children:p.jsx(che,{})})]}),uhe=()=>{const[t,e]=x.useState(!1),[r,n]=x.useState(""),[i,a]=x.useState(""),[o,s]=x.useState(!1),c=PN();x.useEffect(()=>{we.auth.getSession().then(({data:{session:u}})=>{u&&c("/")})},[c]);const l=async u=>{u.preventDefault(),e(!0);try{if(o){Ye.error("Non sei autorizzato, prova scrivi su linkedin a mattioli simone");return}else{const{error:d}=await we.auth.signInWithPassword({email:r,password:i});if(d)throw d;Ye.success("Accesso effettuato"),c("/")}}catch(d){Ye.error(d.message)}finally{e(!1)}};return p.jsxs("div",{className:"min-h-dvh flex items-center justify-center p-4 relative overflow-hidden bg-background",children:[p.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[p.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-primary/20 blur-[100px] rounded-full opacity-50 animate-pulse"}),p.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-secondary/10 blur-[80px] rounded-full"})]}),p.jsxs("div",{className:"glass-panel w-full max-w-md p-8 rounded-3xl relative z-10 border-white/10 shadow-2xl animate-scale-in",children:[p.jsxs("div",{className:"text-center mb-8 space-y-2",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-xl bg-primary/10 border border-primary/20 mb-4 shadow-[0_0_15px_rgba(255,255,255,0.1)]",children:p.jsx(VR,{className:"w-6 h-6 text-primary"})}),p.jsx("h1",{className:"text-3xl font-display font-bold tracking-tight bg-gradient-to-br from-white to-white/60 bg-clip-text text-transparent",children:"Mattioli.OS"}),p.jsx("p",{className:"text-sm text-muted-foreground font-light",children:"Sistema di tracciamento abitudini personale"})]}),p.jsxs("form",{onSubmit:l,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"relative group",children:[p.jsx(UR,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground transition-colors group-focus-within:text-primary"}),p.jsx(Ro,{type:"email",placeholder:"Email",value:r,onChange:u=>n(u.target.value),className:"pl-10 h-11 bg-black/20 border-white/10 focus:border-primary/50 focus:bg-black/40 transition-all rounded-xl",required:!0})]}),p.jsxs("div",{className:"relative group",children:[p.jsx(FR,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground transition-colors group-focus-within:text-primary"}),p.jsx(Ro,{type:"password",placeholder:"Password",value:i,onChange:u=>a(u.target.value),className:"pl-10 h-11 bg-black/20 border-white/10 focus:border-primary/50 focus:bg-black/40 transition-all rounded-xl",required:!0})]})]}),p.jsx(it,{type:"submit",className:"w-full h-11 text-base font-medium mt-6 bg-primary hover:bg-primary/90 text-primary-foreground shadow-[0_0_20px_rgba(255,255,255,0.1)] hover:shadow-[0_0_25px_rgba(255,255,255,0.2)] transition-all duration-300",disabled:t,children:t?p.jsx(Xa,{className:"w-5 h-5 animate-spin"}):p.jsxs("span",{className:"flex items-center gap-2",children:[o?"Registrati":"Accedi al Sistema",p.jsx(jR,{className:"w-4 h-4"})]})})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsx("button",{onClick:()=>s(!o),className:"text-xs text-muted-foreground hover:text-primary transition-colors hover:underline underline-offset-4",children:o?"Hai gi un account? Accedi":"Prima volta? Inizializza Protocollo (Registrati)"})})]})]})},dhe=()=>{const t=jN();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),p.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),p.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},fhe=new ND,hhe=({children:t})=>{const[e,r]=x.useState(null);return x.useEffect(()=>{we.auth.getSession().then(({data:{session:i}})=>{r(!!i)});const{data:{subscription:n}}=we.auth.onAuthStateChange((i,a)=>{r(!!a)});return()=>n.unsubscribe()},[]),e===null?null:e?p.jsx(p.Fragment,{children:t}):p.jsx(kN,{to:"/auth",replace:!0})},phe=()=>p.jsx(LD,{client:fhe,children:p.jsx(RF,{children:p.jsxs(vD,{children:[p.jsx(ZR,{}),p.jsx(kI,{}),p.jsx(TN,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:p.jsxs(CN,{children:[p.jsx(Ra,{path:"/auth",element:p.jsx(uhe,{})}),p.jsxs(Ra,{element:p.jsx(hhe,{children:p.jsx(JD,{})}),children:[p.jsx(Ra,{path:"/",element:p.jsx(r4,{})}),p.jsx(Ra,{path:"/stats",element:p.jsx(Wfe,{})}),p.jsx(Ra,{path:"/macro-goals",element:p.jsx(lhe,{})})]}),p.jsx(Ra,{path:"*",element:p.jsx(dhe,{})})]})})]})})});try{const t=document.getElementById("root");if(!t)throw new Error("Root element not found");d1(t).render(p.jsx(phe,{}))}catch(t){console.error("Error in main.tsx:",t)}
